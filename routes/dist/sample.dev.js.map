{"version":3,"sources":["sample.js"],"names":["express","require","router","Router","get","req","res","render","title","post","db","restName","body","restname","restDesc","restdesc","restAdd","restadd","console","log","collection","insert","err","doc","send","redirect","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;AAEA;;AACAD,MAAM,CAACE,GAAP,CAAW,WAAX,EAAwB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC3CA,EAAAA,GAAG,CAACC,MAAJ,CAAW,UAAX,EAAuB;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAvB;AACC,CAFD;AAIA;;AACAN,MAAM,CAACO,IAAP,CAAY,WAAZ,EAAyB,UAASJ,GAAT,EAAcC,GAAd,EAAmB;AAE5C;AACA,MAAII,EAAE,GAAGL,GAAG,CAACK,EAAb,CAH4C,CAK5C;;AACA,MAAIC,QAAQ,GAAGN,GAAG,CAACO,IAAJ,CAASC,QAAxB;AACA,MAAIC,QAAQ,GAAGT,GAAG,CAACO,IAAJ,CAASG,QAAxB;AACA,MAAIC,OAAO,GAAGX,GAAG,CAACO,IAAJ,CAASK,OAAvB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCR,QAApC,EAA8CG,QAA9C,EAAwDE,OAAxD,EAT4C,CAW5C;;AACA,MAAII,UAAU,GAAGV,EAAE,CAACN,GAAH,CAAO,aAAP,CAAjB,CAZ4C,CAc5C;;AACAgB,EAAAA,UAAU,CAACC,MAAX,CAAkB;AACd,YAASV,QADK;AAEd,YAASG,QAFK;AAGd,eAAYE;AAHE,GAAlB,EAIG,UAAUM,GAAV,EAAeC,GAAf,EAAoB;AACnB,QAAID,GAAJ,EAAS;AACL;AACAhB,MAAAA,GAAG,CAACkB,IAAJ,CAAS,6DAAT;AACH,KAHD,MAIK;AACD;AACAlB,MAAAA,GAAG,CAACmB,QAAJ,CAAa,QAAb;AACH;AACF,GAbH;AAcC,CA7BD;AA+BAC,MAAM,CAACC,OAAP,GAAiBzB,MAAjB","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\n\r\n/* GET Input page. */\r\nrouter.get('/eye-test', function(req, res) {\r\nres.render('eye-test', { title: 'Input to Database' });\r\n});\r\n\r\n/* POST to Add User Entry */\r\nrouter.post(\"/addEntry\", function(req, res) {\r\n\r\n// Set our internal DB variable\r\nvar db = req.db;\r\n\r\n// Get our form values. These rely on the \"name\" attributes\r\nvar restName = req.body.restname;\r\nvar restDesc = req.body.restdesc;\r\nvar restAdd = req.body.restadd;\r\nconsole.log(\"post received: %s %s\", restName, restDesc, restAdd);\r\n\r\n// Set our collection\r\nvar collection = db.get('restaurants');\r\n\r\n// Submit to the DB\r\ncollection.insert({\r\n    \"name\" : restName,\r\n    \"desc\" : restDesc,\r\n    \"address\" : restAdd\r\n}, function (err, doc) {\r\n    if (err) {\r\n        // If it failed, return error\r\n        res.send(\"There was a problem adding the information to the database.\");\r\n    }\r\n    else {\r\n        // And forward to success page\r\n        res.redirect(\"/input\");\r\n    }\r\n  });\r\n});\r\n\r\nmodule.exports = router;"],"file":"sample.dev.js"}