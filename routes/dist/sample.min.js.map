{"version":3,"sources":["sample.js"],"names":["express","require","router","Router","req","res","render","title","db","restName","body","restname","restDesc","restdesc","restAdd","restadd","console","get","insert","collection","desc","address","err","send","redirect","module","exports"],"mappings":"aAAA,IAAIA,QAAUC,QAAQ,WAClBC,OAASF,QAAQG,SAArBD,OAAIA,IAAM,YAAWC,SAArBC,EAAAC,GAEAA,EAAAC,OAAA,WAAA,CAAAC,MAAA,wBAEyBA,OAAAA,KAAO,YAAA,SAAAH,EAAAC,GAGhC,IAAAG,EAAAJ,EAAAI,GAGAC,EAAAL,EAAAM,KAAAC,SACAC,EAAaJ,EAEbE,KAAAG,SAGIC,EAAUV,EAAIM,KAAKK,QAFvBC,QAAIP,IAAAA,uBAAJA,EAAAG,EAAAE,GAGYN,EAAAS,IAAA,eAMDC,OAAO,CAAlBC,KAAWD,EACPE,KAASX,EACTY,QAAST,GACT,SAAAU,EAAYR,GACbQ,EAEKjB,EAAAkB,KAAA,+DAKAlB,EAAImB,SAAS,cAKrBC,OAAOC,QAAUxB","file":"sample.min.js","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\n\r\n/* GET Input page. */\r\nrouter.get('/eye-test', function(req, res) {\r\nres.render('eye-test', { title: 'Input to Database' });\r\n});\r\n\r\n/* POST to Add User Entry */\r\nrouter.post(\"/addEntry\", function(req, res) {\r\n\r\n// Set our internal DB variable\r\nvar db = req.db;\r\n\r\n// Get our form values. These rely on the \"name\" attributes\r\nvar restName = req.body.restname;\r\nvar restDesc = req.body.restdesc;\r\nvar restAdd = req.body.restadd;\r\nconsole.log(\"post received: %s %s\", restName, restDesc, restAdd);\r\n\r\n// Set our collection\r\nvar collection = db.get('restaurants');\r\n\r\n// Submit to the DB\r\ncollection.insert({\r\n    \"name\" : restName,\r\n    \"desc\" : restDesc,\r\n    \"address\" : restAdd\r\n}, function (err, doc) {\r\n    if (err) {\r\n        // If it failed, return error\r\n        res.send(\"There was a problem adding the information to the database.\");\r\n    }\r\n    else {\r\n        // And forward to success page\r\n        res.redirect(\"/input\");\r\n    }\r\n  });\r\n});\r\n\r\nmodule.exports = router;"]}