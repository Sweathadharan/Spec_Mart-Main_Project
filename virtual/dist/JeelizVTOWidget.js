

"use strict";var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(qa,ta){return Object.prototype.hasOwnProperty.call(qa,ta)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(qa,ta,Ha){if(qa==Array.prototype||qa==Object.prototype)return qa;qa[ta]=Ha.value;return qa};
$jscomp.getGlobal=function(qa){qa=["object"==typeof globalThis&&globalThis,qa,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var ta=0;ta<qa.length;++ta){var Ha=qa[ta];if(Ha&&Ha.Math==Math)return Ha}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(qa,ta){var Ha=$jscomp.propertyToPolyfillSymbol[ta];if(null==Ha)return qa[ta];Ha=qa[Ha];return void 0!==Ha?Ha:qa[ta]};$jscomp.polyfill=function(qa,ta,Ha,Ta){ta&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(qa,ta,Ha,Ta):$jscomp.polyfillUnisolated(qa,ta,Ha,Ta))};
$jscomp.polyfillUnisolated=function(qa,ta,Ha,Ta){Ha=$jscomp.global;qa=qa.split(".");for(Ta=0;Ta<qa.length-1;Ta++){var Aa=qa[Ta];if(!(Aa in Ha))return;Ha=Ha[Aa]}qa=qa[qa.length-1];Ta=Ha[qa];ta=ta(Ta);ta!=Ta&&null!=ta&&$jscomp.defineProperty(Ha,qa,{configurable:!0,writable:!0,value:ta})};
$jscomp.polyfillIsolated=function(qa,ta,Ha,Ta){var Aa=qa.split(".");qa=1===Aa.length;Ta=Aa[0];Ta=!qa&&Ta in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var Db=0;Db<Aa.length-1;Db++){var pa=Aa[Db];if(!(pa in Ta))return;Ta=Ta[pa]}Aa=Aa[Aa.length-1];Ha=$jscomp.IS_SYMBOL_NATIVE&&"es6"===Ha?Ta[Aa]:null;ta=ta(Ha);null!=ta&&(qa?$jscomp.defineProperty($jscomp.polyfills,Aa,{configurable:!0,writable:!0,value:ta}):ta!==Ha&&($jscomp.propertyToPolyfillSymbol[Aa]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(Aa):
$jscomp.POLYFILL_PREFIX+Aa,Aa=$jscomp.propertyToPolyfillSymbol[Aa],$jscomp.defineProperty(Ta,Aa,{configurable:!0,writable:!0,value:ta})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(qa,ta){for(var Ha=1;Ha<arguments.length;Ha++){var Ta=arguments[Ha];if(Ta)for(var Aa in Ta)$jscomp.owns(Ta,Aa)&&(qa[Aa]=Ta[Aa])}return qa};$jscomp.polyfill("Object.assign",function(qa){return qa||$jscomp.assign},"es6","es3");
$jscomp.arrayIteratorImpl=function(qa){var ta=0;return function(){return ta<qa.length?{done:!1,value:qa[ta++]}:{done:!0}}};$jscomp.arrayIterator=function(qa){return{next:$jscomp.arrayIteratorImpl(qa)}};$jscomp.makeIterator=function(qa){var ta="undefined"!=typeof Symbol&&Symbol.iterator&&qa[Symbol.iterator];return ta?ta.call(qa):$jscomp.arrayIterator(qa)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(qa){function ta(){this.batch_=null}function Ha(pa){return pa instanceof Aa?pa:new Aa(function(Ia,Sa){Ia(pa)})}if(qa&&!$jscomp.FORCE_POLYFILL_PROMISE)return qa;ta.prototype.asyncExecute=function(pa){if(null==this.batch_){this.batch_=[];var Ia=this;this.asyncExecuteFunction(function(){Ia.executeBatch_()})}this.batch_.push(pa)};var Ta=$jscomp.global.setTimeout;ta.prototype.asyncExecuteFunction=function(pa){Ta(pa,0)};ta.prototype.executeBatch_=function(){for(;this.batch_&&
this.batch_.length;){var pa=this.batch_;this.batch_=[];for(var Ia=0;Ia<pa.length;++Ia){var Sa=pa[Ia];pa[Ia]=null;try{Sa()}catch(db){this.asyncThrow_(db)}}}this.batch_=null};ta.prototype.asyncThrow_=function(pa){this.asyncExecuteFunction(function(){throw pa;})};var Aa=function(pa){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var Ia=this.createResolveAndReject_();try{pa(Ia.resolve,Ia.reject)}catch(Sa){Ia.reject(Sa)}};Aa.prototype.createResolveAndReject_=function(){function pa(db){return function(pb){Sa||
(Sa=!0,db.call(Ia,pb))}}var Ia=this,Sa=!1;return{resolve:pa(this.resolveTo_),reject:pa(this.reject_)}};Aa.prototype.resolveTo_=function(pa){if(pa===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(pa instanceof Aa)this.settleSameAsPromise_(pa);else{a:switch(typeof pa){case "object":var Ia=null!=pa;break a;case "function":Ia=!0;break a;default:Ia=!1}Ia?this.resolveToNonPromiseObj_(pa):this.fulfill_(pa)}};Aa.prototype.resolveToNonPromiseObj_=function(pa){var Ia=void 0;
try{Ia=pa.then}catch(Sa){this.reject_(Sa);return}"function"==typeof Ia?this.settleSameAsThenable_(Ia,pa):this.fulfill_(pa)};Aa.prototype.reject_=function(pa){this.settle_(2,pa)};Aa.prototype.fulfill_=function(pa){this.settle_(1,pa)};Aa.prototype.settle_=function(pa,Ia){if(0!=this.state_)throw Error("Cannot settle("+pa+", "+Ia+"): Promise already settled in state"+this.state_);this.state_=pa;this.result_=Ia;this.executeOnSettledCallbacks_()};Aa.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var pa=0;pa<this.onSettledCallbacks_.length;++pa)Db.asyncExecute(this.onSettledCallbacks_[pa]);this.onSettledCallbacks_=null}};var Db=new ta;Aa.prototype.settleSameAsPromise_=function(pa){var Ia=this.createResolveAndReject_();pa.callWhenSettled_(Ia.resolve,Ia.reject)};Aa.prototype.settleSameAsThenable_=function(pa,Ia){var Sa=this.createResolveAndReject_();try{pa.call(Ia,Sa.resolve,Sa.reject)}catch(db){Sa.reject(db)}};Aa.prototype.then=function(pa,Ia){function Sa(ub,wb){return"function"==
typeof ub?function(Kb){try{db(ub(Kb))}catch(Pa){pb(Pa)}}:wb}var db,pb,Sb=new Aa(function(ub,wb){db=ub;pb=wb});this.callWhenSettled_(Sa(pa,db),Sa(Ia,pb));return Sb};Aa.prototype.catch=function(pa){return this.then(void 0,pa)};Aa.prototype.callWhenSettled_=function(pa,Ia){function Sa(){switch(db.state_){case 1:pa(db.result_);break;case 2:Ia(db.result_);break;default:throw Error("Unexpected state: "+db.state_);}}var db=this;null==this.onSettledCallbacks_?Db.asyncExecute(Sa):this.onSettledCallbacks_.push(Sa)};
Aa.resolve=Ha;Aa.reject=function(pa){return new Aa(function(Ia,Sa){Sa(pa)})};Aa.race=function(pa){return new Aa(function(Ia,Sa){for(var db=$jscomp.makeIterator(pa),pb=db.next();!pb.done;pb=db.next())Ha(pb.value).callWhenSettled_(Ia,Sa)})};Aa.all=function(pa){var Ia=$jscomp.makeIterator(pa),Sa=Ia.next();return Sa.done?Ha([]):new Aa(function(db,pb){function Sb(Kb){return function(Pa){ub[Kb]=Pa;wb--;0==wb&&db(ub)}}var ub=[],wb=0;do ub.push(void 0),wb++,Ha(Sa.value).callWhenSettled_(Sb(ub.length-1),pb),
Sa=Ia.next();while(!Sa.done)})};return Aa},"es6","es3");$jscomp.polyfill("Math.log2",function(qa){return qa?qa:function(ta){return Math.log(ta)/Math.LN2}},"es6","es3");$jscomp.polyfill("Promise.prototype.finally",function(qa){return qa?qa:function(ta){return this.then(function(Ha){return Promise.resolve(ta()).then(function(){return Ha})},function(Ha){return Promise.resolve(ta()).then(function(){throw Ha;})})}},"es9","es3");
$jscomp.polyfill("Math.sign",function(qa){return qa?qa:function(ta){ta=Number(ta);return 0===ta||isNaN(ta)?ta:0<ta?1:-1}},"es6","es3");
var JeelizVTOWidget=function(){function qa(){Ra.mode=nb.realtime;Ra.isRT=!0;xa.adjust=document.getElementById("JeelizVTOWidgetAdjust");if(xa.adjust){xa.adjustNotice=document.getElementById("JeelizVTOWidgetAdjustNotice");xa.adjustExit=document.getElementById("JeelizVTOWidgetAdjustExit");xa.changeModelContainer=document.getElementById("JeelizVTOWidgetChangeModelContainer");xa.buttonResizeCanvas=document.getElementById("buttonResizeCanvas");var V=xa.adjust;V&&V.addEventListener("click",pb,!1);(V=xa.adjustExit)&&
V.addEventListener("click",Sb,!1);[xa.adjust,xa.changeModelContainer,xa.buttonResizeCanvas].forEach(Ha)}Tb.enabled&&Pa.do_instantDetection(Tb.interval,Tb.callback);$b&&($b(!0),$b=null)}function ta(){var V=document.createElement("style");V.setAttribute("type","text/css");V.innerHTML="._jeelizVTOForceHide { display: none!important }._jeelizVTOForceShow { display: revert!important }";var Ba=document.getElementsByTagName("head");1<=Ba.length?Ba[0].appendChild(V):document.body.appendChild(V)}function Ha(V){V&&
(V.classList.remove("_jeelizVTOForceHide"),"none"===window.getComputedStyle(V).display&&V.classList.add("_jeelizVTOForceShow"))}function Ta(V){V&&(V.classList.add("_jeelizVTOForceHide"),V.classList.remove("_jeelizVTOForceShow"))}function Aa(V,Ba){if(V)for(var Qa in Ba)V.style[Qa]=Ba[Qa]}function Db(V){if(!V)return{width:0,height:0};V=V.getBoundingClientRect();return{width:V.width,height:V.height}}function pa(V){return new Promise(function(Ba,Qa){var Ma=new XMLHttpRequest;Ma.open("GET",V,!0);Ma.onreadystatechange=
function(){if(4===Ma.readyState)if(200===Ma.status||0===Ma.status)try{var $a=JSON.parse(Ma.responseText);Ba($a)}catch(Ya){Qa("INVALID JSON")}else Qa("HTTP ERROR "+Ma.status)};Ma.send()})}function Ia(){Sa("INVALID_SKU")}function Sa(V){vc.error?vc.error(V):console.log("ERROR:",V)}function db(){var V=Db(xa.container),Ba=Math.abs(ib.displayHeight-V.height);1>=Math.abs(ib.displayWidth-V.width)&&1>=Ba?console.log("INFO in JeelizVTOWidget.resize: resolution difference too small abord resize"):(ib.displayWidth=
V.width,ib.displayHeight=V.height,console.log("INFO in JeelizVTOWidget.resize: width = "+ib.displayWidth.toString()+" height = "+ib.displayHeight.toString()+" oFactor = "+(1).toString()),ib.cvWidth=Math.round(1*ib.displayWidth),ib.cvHeight=Math.round(1*ib.displayHeight),Aa(xa.cv,{width:ib.displayWidth.toString()+"px",height:ib.displayHeight.toString()+"px"}),xa.cv.width=ib.cvWidth,xa.cv.height=ib.cvHeight,Pa&&(Ra.mode===nb.notLoaded?Pa.set_size(ib.cvWidth,ib.cvHeight,!1):Pa.resize(ib.cvWidth,ib.cvHeight,
!1)))}function pb(){[xa.adjust,xa.changeModelContainer,xa.buttonResizeCanvas].forEach(Ta);Ra.mode=nb.adjust;[xa.adjustNotice,xa.adjustExit].forEach(Ha);xa.cv.style.cursor="move";Pa.switch_modeInteractor("movePinch");Kb("ADJUST_START")}function Sb(){[xa.adjustNotice,xa.adjustExit].forEach(Ta);[xa.adjust,xa.changeModelContainer,xa.buttonResizeCanvas].forEach(Ha);xa.cv.style.cursor="auto";Ra.mode=Ra.realtime;Pa.switch_modeInteractor("idle");Kb("ADJUST_END")}function ub(){if(!xa.trackIframe){var V=jc.appstaticURL+
"jeewidget/";xa.trackIframe=document.createElement("iframe");xa.trackIframe.width="10";xa.trackIframe.height="10";xa.trackIframe.src=V+"trackIframe.html";Aa(xa.trackIframe,{position:"absolute",zIndex:-1,bottom:"0px",right:"0px"});xa.container.appendChild(xa.trackIframe)}}function wb(V,Ba,Qa,Ma){Pa.load_model(Ba.mod+".json",Ba.mats,function(){Ra.mode=nb.realtime;Qa&&Qa();xb.toggle_loading(!1);if(xa.trackIframe){var $a=location.href.split("?").shift().split("://").pop();$a=$a.split("/").shift();$a=
$a.split("www.").pop();try{xa.trackIframe.contentWindow.postMessage({action:"COUNTTRYONSESSION",domain:$a,sku:V},"*")}catch(Ya){}}},V,Ma)}function Kb(V){(V=Ec[V])&&V()}var Pa=function(){function V(a,b){return a[0]*(1-b)+a[1]*b}function Ba(a,b){var d=new XMLHttpRequest;d.open("GET",a,!0);d.withCredentials=!1;d.onreadystatechange=function(){4!==d.readyState||200!==d.status&&0!==d.status||b(d.responseText)};d.send()}function Qa(a,b){Ba(a+"",function(d){b(JSON.parse(d))})}function Ma(a,b){if(0===b||"object"!==
typeof a)return a;a=Object.assign({},a);b=void 0===b||-1===b?-1:b-1;for(var d in a)a[d]=Ma(a[d],b);return a}function $a(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}function Ya(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";
case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}function Eb(a,b){var d=b%8;return a[(b-d)/8]>>7-d&1}function Ka(a,b,d){var e=1,k=0;for(d=b+d-1;d>=b;--d)k+=e*Eb(a,d),e*=2;return k}function jb(a){a=a.data;a="undefined"===typeof btoa?Buffer.from(a,"base64").toString("latin1"):atob(a);for(var b=a.length,d=new Uint8Array(b),e=0;e<b;++e)d[e]=a.charCodeAt(e);return d}function qb(a){return"string"===typeof a?JSON.parse(a):a}function Lb(a){return"undefined"===
typeof qb(a).nb?Nb(a):yb(a)}function yb(a){var b=qb(a);a=b.nb;if(0===a)return new Uint8Array(b.nb);var d=b.n;b=jb(b);for(var e=new Uint32Array(d),k=0;k<d;++k)e[k]=Ka(b,k*a,a);return e}function Nb(a){var b=qb(a);a=b.ne;var d=b.nf,e=b.n;b=jb(b);for(var k=new Float32Array(e),m=new Float32Array(d),x=a+d+1,n=0;n<e;++n){var q=x*n,r=0===Eb(b,q)?1:-1,v=Ka(b,q+1,a);q=q+1+a;for(var G=m.length,A=0,H=q;H<q+G;++H)m[A]=Eb(b,H),++A;for(G=q=0;G<d;++G)q+=m[G]*Math.pow(2,-G-1);k[n]=0===q&&0===v?0:r*(1+q)*Math.pow(2,
1+v-Math.pow(2,a-1))}return k}function ac(a){var b=null,d=null,e=null,k=0,m=this,x=null,n={Mc:[],Vd:"none",cg:!1,Ud:null,grid:null,Fc:[1,1]};this.m=function(){this.Jk(x.Mc);e.mo({Vd:x.Vd,cg:x.cg,Ud:x.Ud})};this.Ql=function(q){return b[q]};this.re=function(q){["s31","s33","s26"].forEach(function(r){Z.j(r,[{type:"2f",name:"u20",value:q}])});b&&b.forEach(function(r){r.re(q)})};this.Jk=function(q){var r=null;k=q.length;var v=null!==x.grid&&a.grid.length&&!(1===a.grid[0]&&1===a.grid[1]),G=v?x.grid:[1,
1];v&&this.re(G);b=q.map(function(A,H){A=Object.assign({},A,{index:H,parent:m,$d:r,Am:H===k-1,Rb:v,Aa:G,Fc:1===H?x.Fc:[1,1]});return r=0===H?Wc.instance(A):Xc.instance(A)});d=b[0];e=b[k-1];b.forEach(function(A,H){0!==H&&A.mn()})};this.wa=function(q){q.h(0);var r=q;b.forEach(function(v){r=v.wa(r,!1)});return r};this.Sh=function(){return d.Pl()};this.Ec=function(){return e.Tl()};this.Oh=function(){return e.Oh()};this.v=function(){b&&(b.forEach(function(q){q.v()}),e=d=b=null,k=0)};"undefined"!==typeof a&&
(x=Object.assign({},n,a),this.m())}function Fb(a,b){a[b]=!0;a.setAttribute(b,"true")}function Ub(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function kc(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]}function bc(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function cc(a){if(!a)return a;var b=null;if(a.video){var d=
function(e){return e&&"object"===typeof e?Object.assign({},e):e};b={};"undefined"!==typeof a.video.width&&(b.width=d(a.video.width));"undefined"!==typeof a.video.height&&(b.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=d(a.video.facingMode))}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&lc(b,a.deviceId);return b}function lc(a,b){b&&(a.video=a.video||{},a.video.deviceId={exact:b},a.video.facingMode&&delete a.video.facingMode)}function dc(a){var b=a.video.width;
a.video.width=a.video.height;a.video.height=b;return a}function ec(a){function b(A){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(H,t){return Math.abs(H-A)-Math.abs(t-A)})}function d(A){var H=cc(a);A=A(H);k.push(A);e(A)}function e(A){if(A.video&&A.video.facingMode&&A.video.facingMode.exact){var H=A.video.facingMode.exact;A=cc(A);delete A.video.facingMode.exact;A.video.facingMode.ideal=H;k.push(A)}}var k=[];if(!a||!a.video)return k;e(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&
a.video.height.ideal){var m=b(a.video.width.ideal).slice(0,3),x=b(a.video.height.ideal).slice(0,3),n={},q=0;for(n.kb=void 0;q<m.length;n={kb:n.kb},++q){n.kb=m[q];var r={},v=0;for(r.jb=void 0;v<x.length;r={jb:r.jb},++v)if(r.jb=x[v],n.kb!==a.video.width.ideal||r.jb!==a.video.height.ideal){var G=Math.max(n.kb,r.jb)/Math.min(n.kb,r.jb);G<4/3-.1||G>16/9+.1||d(function(A,H){return function(t){t.video.width.ideal=A.kb;t.video.height.ideal=H.jb;return t}}(n,r))}}}d(function(A){return dc(A)})}a.video.width&&
a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&d(function(A){delete A.video.width.ideal;delete A.video.height.ideal;return A}),d(function(A){delete A.video.width;delete A.video.height;return A}));a.video.facingMode&&(d(function(A){delete A.video.facingMode;return A}),a.video.width&&a.video.height&&d(function(A){dc(A);delete A.video.facingMode;return A}));k.push({audio:a.audio,video:!0});return k}function mc(a){try{var b=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(e){b=
window.innerHeight>window.innerWidth}if(b&&a&&a.video){b=a.video.width;var d=a.video.height;b&&d&&b.ideal&&d.ideal&&b.ideal>d.ideal&&(a.video.height=b,a.video.width=d)}}function Ob(a){a.volume=0;Fb(a,"muted");if(bc()){if(1===a.volume){var b=function(){a.volume=0;window.removeEventListener("mousemove",b,!1);window.removeEventListener("touchstart",b,!1)};window.addEventListener("mousemove",b,!1);window.addEventListener("touchstart",b,!1)}setTimeout(function(){a.volume=0;Fb(a,"muted")},5)}}function Yc(a){var b=
Da.element,d=Da.ph;return null===b?Promise.resolve():new Promise(function(e,k){if(b.srcObject&&b.srcObject.getVideoTracks){var m=b.srcObject.getVideoTracks();1!==m.length?k("INVALID_TRACKNUMBER"):(m=m[0],a?Fc(b,e,k,d):(m.stop(),e()))}else k("BAD_IMPLEMENTATION")})}function Gc(a,b,d,e){function k(x){m||(m=!0,d(x))}var m=!1;navigator.mediaDevices.getUserMedia(e).then(function(x){function n(){setTimeout(function(){if(a.currentTime){var r=a.videoHeight;if(0===a.videoWidth||0===r)k("VIDEO_NULLSIZE");else{var v=
{Tk:null,Cg:null,Wm:null};try{var G=x.getVideoTracks()[0];G&&(v.Wm=G,v.Tk=G.getCapabilities(),v.Cg=G.getSettings())}catch(A){}bc()||Ub()?a.parentNode&&null!==a.parentNode?(m||b(a,x,v),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),Ob(a),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px";Ob(a);setTimeout(function(){a.play();m||b(a,x,v)},100)},80)):m||b(a,x,v)}}else k("VIDEO_NOTSTARTED")},700)}function q(){a.removeEventListener("loadeddata",
q,!1);var r=a.play();Ob(a);"undefined"===typeof r?n():r.then(function(){n()}).catch(function(){k("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==typeof a.srcObject?a.srcObject=x:(a.src=window.URL.createObjectURL(x),a.videoStream=x);Ob(a);a.addEventListener("loadeddata",q,!1)}).catch(function(x){k(x)})}function Fc(a,b,d,e){if(a)if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){if(e&&e.video&&Ub()){var k=kc();0!==k[0]&&(12>k[0]||12===k[0]&&2>k[1])&&mc(e)}Fb(a,"autoplay");Fb(a,"playsinline");
e&&e.audio?a.volume=0:Fb(a,"muted");Gc(a,b,function(){function m(n){if(0===n.length)d("INVALID_FALLBACKCONSTRAINTS");else{var q=n.shift();Gc(a,b,function(){m(n)},q)}}var x=ec(e);m(x)},e)}else d&&d("MEDIASTREAMAPI_NOTFOUND");else d&&d("VIDEO_NOTPROVIDED")}function Zc(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(b){(b=b.filter(function(d){return d.kind&&-1!==d.kind.toLowerCase().indexOf("video")&&d.label&&d.deviceId}))&&b.length&&
0<b.length?a(b,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")}):a(!1,"NOTSUPPORTED")}function $c(){function a(M){M=M?nc.ff:1;z.width=M*J.width;z.height=M*J.height;return z}function b(M){for(var T="",ja=M.length-1;0<=ja;--ja){var oa=M[ja],La="http"===oa.substring(0,4).toLowerCase();T=oa+T;if(La)break}return T}function d(){++sa;2===sa&&(h(),l(!0),C(),Na.zj(),r(),S.bd.forEach(function(M){M()}),S.bd.splice(0),U.model&&!S.isBusy&&Na.Ai(U.model))}function e(M,T,ja){return new Promise(function(oa){va.yj(T);
ya.$();Oa.isEnabled=!0;Ea.isEnabled=!1;Oa.La||(Oa.La=fc.instance({}));M.Th()&&(Oa.La.nj(M.Th()),va.sa(Oa.La));M.set();Ea.isEnabled=!1;v();var La=kb.Qh(ja);setTimeout(function(){Oa.isEnabled=!1;va.yj(!1);oa(La)},1)})}function k(M,T){return new Promise(function(ja){Ea.ac=M;Ea.isEnabled=!0;Ea.B=function(){var oa=Hc.instance(T());Ea.B=null;ja(oa)}})}function m(M,T){return new Promise(function(ja,oa){Qa(T+M,function(La){La.error?oa("SKU_NOT_FOUND"):ja({Xm:La.intrinsic.mod+".json",Vm:La.intrinsic.mats})})})}
function x(M,T){var ja=b([J.ca,J.ua,J.Rd+"/"]);T=T.map(function(oa){return ja+oa});U.model={url:b([J.ca,J.ua,J.Sd+"/"+M]),Pc:T,Hb:!1,Gb:!1};return new Promise(function(oa){Na.Ai(U.model,function(){S.isBusy=!1;oa()})})}function n(M,T){if(!T)return M;M=M.slice(0);var ja=gb.Ul().map(function(Xa){return Xa.toLowerCase()}),oa;for(oa in T){var La=ja.indexOf(oa.toLowerCase());-1!==La&&(M[La]=T[oa])}return M}function q(M,T){return new Promise(function(ja,oa){S.set_model(M,function(){S.set_materials(T,function(){S.isBusy=
!1;ja()})},function(){S.isBusy=!1;oa()})})}function r(){S.load_model=function(M,T,ja,oa,La,Xa){if(S.isBusy)return!1;S.isBusy=!0;T=n(T,La);(U.model?q(M,T):x(M,T)).then(ja).catch(Xa);return!0};S.set_offset=function(M){u=M;Na.se()};S.set_scale=function(M){P=M;Na.te()};S.set_rx=function(M){D=M;Na.Lj()};S.switch_shadow=va.Hg;S.switch_bgBlur=va.Gg;S.set_zoom=va.ug;S.is_viewer3D=function(){return ca===da.Fa};S.switch_viewer3D=function(M,T){if(ca===da.lc||ca===da.mc||ca===da.W&&!M||ca===da.Fa&&M||Ea.isEnabled)return!1;
if(ca===da.ta)return mb!==da.Fa||M?mb===da.W&&M?(mb=da.Fa,va.sa(la.Cb),va.$a(1),T&&T(),!0):!1:(mb=da.W,va.sa(la.hb),va.$a(0),T&&T(),!0);var ja=0,oa=-1,La=0;ca===da.W?(ca=da.lc,oa=J.Vo):ca===da.Fa&&(ca=da.mc,oa=J.Yo);var Xa=wc.lf();Ca=setInterval(function(){var zb=wc.lf();ja+=(zb-Xa)/oa;1<=ja&&(ja=1,ca===da.lc?(ca=da.Fa,va.sa(la.Cb)):(ca=da.W,va.sa(la.hb)),T&&T(),clearInterval(Ca),Ca=null);var eb=ca===da.mc||ca===da.W?1-J.To(ja):J.So(ja);va.$a(eb);ca!==da.mc&&ca!==da.lc||0!==La++%2||(va.sa(la.Xf),
la.Xf.fo(eb));Xa=zb},.016);return!0};S.capture_image=function(M,T,ja,oa){Ea.ac=M;Ea.isEnabled=!0;"undefined"===typeof isAllocate&&(ja=!1);(oa="undefined"===typeof oa?!1:oa)&&va.ke(!1);f();Ea.B=function(){va.Wi(0);c.flush();var La=kb.Qh(ja);T(La);oa&&va.ke(!0)}};S.capture_detection=function(M,T){var ja=null===R.Db?R.gb:R.Yc;k(M,function(){return{Bc:ha.oc.clone(),Yf:gb.Wh(),Uf:gb.Uh(),background:ja.clone(),La:ua.Pa.Xh().clone(),Tf:Za}}).then(T)};S.process_image=function(M){function T(){return new Promise(function(eb,
ob){Ea.Rg=Xa.updateLightInterval;k(Xa.nSteps,function(){return{Bc:ha.oc.clone(),Yf:!1,Uf:!1,background:J.nq?!1:R.gb.clone(!0),La:ua.Pa.Xh().clone()}}).then(function(lb){Ea.Rg=3;lb?1>=lb.bc().Bc.data[0]?ob("FACE_NOT_FOUND"):e(lb,Xa.isMask,!0).then(function(ad){eb(ad)}):ob("CRITICAL")});v()})}function ja(){return new Promise(function(eb,ob){m(Xa.modelSKU,Xa.glassesDBURL).then(function(lb){S.load_model(lb.Xm,lb.Vm,function(){eb()},Xa.modelSKU,null,function(){ob("CANNOT_LOAD_MODEL")})}).catch(function(lb){ob(lb)})})}
function oa(){if(Xa.image){var eb=Xa.image;La(eb);return Promise.resolve(eb)}return new Promise(function(ob){var lb=new Image;lb.onload=function(){La(lb);ob()};lb.src=Xa.imageBase64})}function La(eb){var ob=eb.width,lb=eb.height;if(ob!==J.width||lb!==J.height)Da.Kd&&(Da.element.width=ob,Da.element.height=lb),K(ob,lb,Xa.overSamplingFactor);Da.Dh.drawImage(eb,0,0);f()}var Xa=Object.assign({imageBase64:null,image:null,FOVHztDeg:0,nSteps:50,updateLightInterval:3,overSamplingFactor:2,modelSKU:"undef",
glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",isMask:!0},M);if(J.Ld)throw Error("This feature cannot be called");var zb=bb.FOVforced;Xa.FOVHztDeg&&(bb.FOVforced=Xa.FOVHztDeg);return new Promise(function(eb,ob){return ja().then(oa).then(function(){T().then(function(lb){bb.FOVforced=zb;eb(lb)}).catch(ob)}).catch(ob).catch(ob)})};S.process_offlineRendering=function(M,T,ja,oa,La){Na.Hn();oa&&(S.Wj.drawImage(kb.rb(),0,0),kb.rb().parentNode.insertBefore(S.Eb,kb.rb()),S.Eb.setAttribute("class",
"jeefitMask"));S.set_model(T,function(){S.set_materials(ja,function(){setTimeout(function(){e(M,oa).then(La);Na.En(oa?function(){kb.rb().parentNode.removeChild(S.Eb)}:!1)},1)})})};S.serialize_detection=function(M){return M.bc()};S.unserialize_detection=function(M,T,ja){return Hc.Xc(M,T,ja)};S.do_instantDetection=function(M,T){Ic.m(ha.oc);Ic.start(M,T)};S.relieve_DOM=function(M,T){if(O.Vb)return!1;A(T||160);Fa=!1;Q&&clearTimeout(Q);Q=setTimeout(function(){A(J.ya);Q=!1;t()},M);return!0};S.switch_slow=
function(M,T){if(O.Vb)return!1;"undefined"===typeof T&&(T=J.dk);Q&&(A(J.ya),t(),clearTimeout(Q),Q=!1);M?Fa=!1:t();A(M?T:J.ya);return!0};S.switch_deepSleep=function(M){if(cb===M)return!1;cb=!1;S.switch_sleep(M);cb=M;return!0};S.switch_sleep=function(M,T){function ja(){S.isBusy=!1;M?(mb=ca,ca=da.ta):(ca=mb,v())}if(O.Vb||cb||S.isBusy)return T?Promise.reject():null;if(M&&ca===da.ta||!M&&ca!==da.ta)return T?Promise.resolve(!1):!1;Ca&&(clearInterval(Ca),Ca=null);ca===da.mc?(ca=da.W,va.sa(la.hb),va.$a(0)):
ca===da.lc&&(ca=da.Fa,va.sa(la.Cb),va.$a(1));Ab.stop();var oa=null;S.isBusy=!0;T?oa=Yc(!M).then(ja):ja();return T?oa:!0};S.set_modelStandalone=function(M,T){va.le(!1);xc.instance({url:M.model,Pc:M.materials,Hb:!1,Gb:!1,B:function(ja){Mb=[0,0,0];ea=1;ra=y=I=0;ab=J.Nc;S.ready&&Na.ue();T&&T();G(ja);Na.Eg();va.le(!0)}})};S.start_rendering=Na.Eg;S.update_material=function(M,T){gb&&gb.Go(M,T)};S.set_model=function(M,T,ja){gb&&(M=b([J.ca,J.ua,J.Sd+"/",M]),gb.replace(M,function(){T&&T(gb.Xk())},ja))};S.set_tweaker=
function(M,T){function ja(oa){S.fh(oa);T&&T()}"string"===typeof M?Ba(J.ca+J.ua+J.zo+"/"+M,ja):ja(M)};S.fh=function(M){M&&(M.preOffset&&(Mb=M.preOffset),M.preScale&&(ea=M.preScale),M.rx&&(I=M.rx),M.beginBendZ&&(y=M.beginBendZ),M.bendStrength&&(ra=M.bendStrength),M.maskBranchStartEnd&&(ab=M.maskBranchStartEnd),S.ready&&Na.ue())};S.set_materials=function(M,T){if(gb){var ja=b([J.ca,J.ua,J.Rd+"/"]);M=M.map(function(oa){var La=oa;"string"===typeof oa&&(La=ja+oa,La=La.replace(/([^:])\/\//,"$1/"));return La});
gb.vg(M,T)}}}function v(){Gb.reset();Ab.stop();ya.$();H(0)}function G(M){gb&&(va.yn(gb),gb.remove());va.Zj(M);gb=M}function A(M){ka=M;Ab.update({ya:ka})}function H(M){na=-1;Ea.isEnabled?na=Ea.ac:Oa.isEnabled?na=Oa.ac:Fa?(f(),na=ca===da.W?Gb.V():1):(na=J.$c[0],f());ya.$();if(!Oa.isEnabled)for(var T=0;T<na;++T)Z.set("s63"),R.Df.M(),R.gb.h(0),ha.Qc.h(1),X.l(!1,!1),ia.wa(R.Df),Ea.isEnabled&&0===(T+1)%Ea.Rg&&g();Ea.isEnabled?(Ea.B&&Ea.B(),Ea.isEnabled=!1,c.flush(),ca!==da.ta&&Ab.og(H)):(va.animate(M),
R.kg&&za-la.xi>la.Aj&&J.Zb&&ca===da.W&&(ya.$(),g(),ya.ba()),Oa.isEnabled||(Fa&&(Gb.Ej(),T=Gb.Ph(1),Y=V(J.bk,T),J.Zb&&ca===da.W&&(la.Aj=V(J.zi,T),la.je=V(J.Om,T),la.je=Math.min(la.je,.5))),za=M,ca!==da.ta&&Ab.og(H)))}function t(){za=wc.lf();Fa=!0}function f(){var M=15;if(!Da.Kd){var T=Da.element.currentTime;M=T-oc;0>M&&(oc=T);if(1E3*M<J.No)return}Da.la.refresh();oc+=M;Da.td=M;wa=!0;ya.$();Z.set("s0");ha.lg.M();ha.Qc.Gk(0);X.l(!0,!0);Z.set("s61");R.gb.M();Da.la.h(0);X.l(!1,!1);null!==R.Db&&(Z.set("s62"),
R.Yc.o(),R.gb.h(0),R.Db.h(1),X.l(!1,!1))}function h(){R.Oj=aa.instance({isPot:!0,isLinear:!0,isFloat:!1,url:J.ca+J.ua+J.Oo});var M={isPot:!1,isLinear:!0,isFloat:!1,width:z.width,height:z.height};R.gb=aa.instance(M);R.Yc=aa.instance(M);O.Bj.push(R.gb,R.Yc);R.Df=aa.instance({isPot:!0,isFloat:!1,width:ia.Sh()});J.Od&&(rb=aa.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(J.Sf||-1!==J.Rf.indexOf("//")?"":J.ca+J.ua)+J.Rf}))}function B(){function M(){return{width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,
.5,.5,0,0,0,0,0,0,0,0,0])}}var T={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0])};ha.Qc=Jc.instance(M());ha.lg=aa.instance(M());ha.oc=aa.instance(M());ha.Xd=Jc.instance(M());ha.$e=aa.instance(T);T={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])};ha.Vg=aa.instance(T);ha.we=aa.instance(T);la.Yd=aa.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}function L(M){R.kg=M;if(wa){wa=!1;Z.set("s69");ha.Vg.M();
ha.we.h(2);var T=V(J.Ik,Gb.Ph(.5));Z.H("u67",T);ha.lg.h(1);Z.H("u68",1E3*Da.td);X.l(!1,!1);Z.set("s70");ha.we.o();ha.Vg.h(0);X.l(!1,!1)}M.h(0);ha.Qc.jj(1);c.viewport(0,0,1,1);Z.set("s64");Z.Ag("u47",Kc.get(0));X.l(!1,!1);Z.set("s65");c.viewport(1,0,2,1);X.l(!1,!1);ha.$e.M();Z.set("s66");Z.N("u58",J.He[0]*Y,J.He[1]);ha.Qc.h(0);ha.Xd.h(1);X.l(!1,!1);Z.set("s67");ha.Xd.jj(1);ha.$e.h(0);ha.we.h(2);ha.Qc.h(3);X.l(!1,!1);Z.set("s68");ha.Xd.h(0);ha.oc.o();X.l(!1,!1)}function g(){la.xi=za;la.Yd.M();Z.set(ba.mi?
"s72":"s71");R.kg.h(0);X.l(!1,!1);ua.Pa.Nj(Da.la,la.Yd,la.je)}function p(){var M=J.ca,T=J.Zc.split("://").shift();if("http"===T||"https"===T)M="";M+=J.Zc;"json"!==M.split(".").pop()&&(M+=J.neuralNetworkPath);Ba(M,function(ja){ja=JSON.parse(ja);if(ja.exportData){var oa=ja.exportData;ba.Ya=ba.Ya||oa.rotationEulerAnglesFactors;ba.Cc=ba.Cc||oa.deformScaleXFactor;ba.qa=ba.qa||oa.translationScalingFactors;ba.Ch=oa.dyOffset||0;ba.Ah=oa.dsOffset||0;ba.mi=oa.isLThetaSplitCosSin||!1}ia=new ac({Mc:ja.layers,
Vd:"gpuRawAvg",Ud:L});d()})}function l(M){a(M);M=J.width;var T=J.height;F.ob[0]=1;F.ob[1]=M/T;Kc.m({Wd:J.scanOverlapFactors,Hi:J.scanNScaleLevels,Z:M,zf:T,bj:J.scanScale0Factor,qa:ba.qa,pg:!0});pc=M>T?[M/T,1]:[1,T/M];O.Ja=!0}function C(){Z.j("s63",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u41",value:1},{type:"2f",name:"u42",value:F.ob},{type:"1f",name:"u43",value:ba.Cc},{type:"1f",name:"u45",value:ba.Ch},{type:"1f",name:"u44",value:ba.Ah}]);Z.j("s64",[{type:"1i",name:"u46",value:0},{type:"1i",
name:"u41",value:1},{type:"1f",name:"u51",value:J.xo},{type:"1f",name:"u52",value:J.el},{type:"3f",name:"u48",value:[ba.qa[0]*F.ob[0],ba.qa[1]*F.ob[1],ba.qa[2]]},{type:"3f",name:"u49",value:[J.nc[0][0],J.nc[1][0],J.nc[2][0]]},{type:"3f",name:"u50",value:[J.nc[0][1],J.nc[1][1],J.nc[2][1]]}]);Z.j("s65",[{type:"1i",name:"u46",value:0},{type:"1i",name:"u41",value:1},{type:"2f",name:"u55",value:J.pn},{type:"3f",name:"u53",value:ba.Ya},{type:"3f",name:"u54",value:J.Dj},{type:"1f",name:"u56",value:J.Bl}]);
Z.j("s66",[{type:"1i",name:"u41",value:0},{type:"1i",name:"u57",value:1},{type:"2f",name:"u58",value:J.He},{type:"1f",name:"u59",value:J.Fn},{type:"1f",name:"u60",value:J.on}]);Z.j("s67",[{type:"1i",name:"u57",value:1},{type:"1i",name:"u61",value:0},{type:"1i",name:"u62",value:2},{type:"1i",name:"u63",value:3},{type:"2f",name:"u42",value:F.ob},{type:"1f",name:"u65",value:ia.Sh()},{type:"2f",name:"u64",value:J.Bn}]);Z.j("s68",[{type:"1i",name:"u41",value:0},{type:"1f",name:"u66",value:J.In}]);Z.j("s69",
[{type:"1i",name:"u46",value:0},{type:"1i",name:"u41",value:1},{type:"1i",name:"u62",value:2},{type:"3f",name:"u53",value:ba.Ya},{type:"3f",name:"u54",value:J.Dj}]);Z.j("s70",[{type:"1i",name:"u62",value:0},{type:"2f",name:"u70",value:J.yo},{type:"2f",name:"u71",value:J.Gn}]);Z.j("s71",[{type:"1i",name:"u46",value:0}]);Z.j("s72",[{type:"1i",name:"u46",value:0}]);Z.j("s62",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u72",value:1}])}function K(M,T,ja){var oa=0===ja,La=a(oa);J.width=M;J.height=T;
l(oa);C();O.Bj.forEach(function(Xa){Xa.resize(M,T)});ja=oa?1:ja;fa.resize(La.width*ja,La.height*ja);Na.Wc();hb.Bg(Da.element.videoWidth||Da.element.width,Da.element.videoHeight||Da.element.height);hb.Ig();hb.zj()}var I,y,F={ob:[-1,-1]},N=null,w=[.5,0,0,.5],z={width:-1,height:-1},O={eb:null,Vb:!1,Ja:!1,Bj:[]},W=[0,J.Zd[1],J.Zd[2]],ba={Ya:[-J.Ya[0],-J.Ya[1],J.Ya[2]],Cc:J.Cc,qa:J.qa,Ch:0,Ah:0,mi:!1},ka=J.ya,Q=null,ia=null;a(!0);var u=[0,0,0],P=1,D=0,R={gb:null,Yc:null,Df:null,Oj:null,kg:null,Db:null},
ha={lg:null,oc:null,Xd:null,$e:null,Vg:null,we:null},za=0,wa=!1,la={hb:null,Cb:null,Xf:null,xi:0,Aj:J.zi[1],je:.1,Yd:null},sa=0,ma=!1,Fa=!0,Y=1,na=-1,da={ta:-1,W:0,Fa:1,lc:2,mc:3},ca=da.W,Ca=null,mb=da.W,cb=!1,Ea={isEnabled:!1,ac:1,Rg:3,B:null},Oa={isEnabled:!1,La:null,ac:0},rb=null,pc=-1,Bb=!1,Hb=!1,Pb=!1,gc=[0,0,0],Qb=1,Vb,hc,Ua,Mb=[0,0,0],ea=1,ra=y=I=0,ab=J.Nc,Ja=[0,0,0],Za={scale:1,offsetX:0,offsetY:0},oc=0,Na={m:function(){Z.uc([{id:"s61",name:"_",u:"attribute vec2 a0;uniform mat2 u40;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5)+u40*a0;}",
J:["a0"],R:[2],g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u40"],precision:"lowp"},{id:"s63",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",u:"attribute vec2 a0;uniform sampler2D u41;uniform vec2 u42;uniform float u43,u44,u45;const vec2 h=vec2(.16,.5),i=vec2(.5,.5),j=vec2(.84,.5),q=vec2(.5,.5);varying vec2 vv0;void main(){vec4 b=texture2D(u41,h);vec2 c=b.gb,a=b.a*u42;vec4 l=texture2D(u41,i);float m=l.y;vec2 n=vec2(mix(1.,1./cos(m),u43),1.);a*=n,a*=1.+u44;vec2 o=a0*.5;float d=texture2D(u41,j).r,e=cos(d),f=sin(d);mat2 g=mat2(e,f,-f,e);vec2 p=g*o;c+=vec2(-.5,-.5)*a*(g*vec2(0.,u45)),vv0=c+p*a,gl_Position=vec4(a0,0.,1.);}",
J:["a0"],R:[2],i:"u1 u41 u42 u43 u44 u45".split(" "),precision:"lowp"},{id:"s64",name:"_",u:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u46,u41;uniform vec3 u47,u48,u49,u50;uniform float u51,u52;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5),g=vec2(.5,.5),h=vec2(.83,.5);const vec3 i=vec3(1.,1.,1.);void main(){vec4 j=texture2D(u46,vec2(.625,.625)),k=texture2D(u46,vec2(.875,.625));float l=dot(j-k,e);bool m=l>u52;vec4 a=texture2D(u41,f);m?a.r=2.:a.r>u51?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u47);else{float n=dot(e,texture2D(u46,vec2(.875,.875))),o=dot(e,texture2D(u46,vec2(.125,.625))),p=dot(e,texture2D(u46,vec2(.375,.625))),b=texture2D(u41,h).r,c=cos(b),d=sin(b);vec2 q=mat2(c,d,-d,c)*vec2(n,o);float r=texture2D(u41,g).a;vec3 s=mix(u49,u50,r*i);a.r*=step(1.9,a.r),a.gba+=vec3(q,p)*u48*s*a.a;}gl_FragColor=a;}",
i:"u46 u41 u47 u51 u48 u52 u49 u50".split(" ")},{id:"s65",name:"_",g:"uniform sampler2D u46,u41;uniform vec3 u53,u54;uniform vec2 u55;uniform float u56;const vec4 v=vec4(1.,1.,1.,1.),f=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u41,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u46,vec2(.125,.125)),e),a=smoothstep(u55.x,u55.y,m);vec4 n=texture2D(u41,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u46,vec2(.125,.875))),q=dot(e,texture2D(u46,vec2(.375,.875))),r=dot(e,texture2D(u46,vec2(.625,.875)));vec3 s=vec3(p,q,r),b=u54+s*u53;float c=texture2D(u41,i).r,d=b.z*u56;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",
i:"u46 u41 u55 u53 u54 u56".split(" ")},{id:"s66",name:"_",g:"uniform sampler2D u41,u57;uniform vec2 u58;uniform float u59,u60;const vec4 f=vec4(1.,1.,1.,1.),h=vec4(1.,0.,0.,0.),i=vec4(0.,0.,0.,1.);const vec2 g=vec2(.5,.5);varying vec2 vv0;void main(){vec4 c=texture2D(u41,vv0),d=texture2D(u57,vv0),o=texture2D(u41,g),j=texture2D(u57,g);float k=pow(j.a,u60),l=mix(u58.x,u58.y,1.-k),a=step(.34,vv0.x)*step(vv0.x,.66);vec4 m=mix(h,i,a),b=max(l*f,m);b*=mix(f,u59*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),a);vec4 n=c-d;gl_FragColor=n*b;}",
i:["u41","u57","u58","u59","u60"],precision:"highp"},{id:"s67",name:"_",g:"uniform sampler2D u57,u61,u62,u63;uniform vec2 u42,u64;uniform float u65;const vec4 u=vec4(1.,1.,1.,1.);const vec2 g=vec2(.25,.5),h=vec2(.75,.5),f=vec2(.16,.5),i=vec2(.5,.5);varying vec2 vv0;void main(){float j=step(.33,vv0.x)*step(vv0.x,.66),v=step(.66,vv0.x);vec4 k=texture2D(u63,i);float a=k.a;a*=texture2D(u62,g).a,a*=texture2D(u62,h).a;vec4 l=texture2D(u57,vv0),m=texture2D(u61,vv0),b=l+m;b.a=mix(b.a,a,j);vec4 c=texture2D(u57,f),n=texture2D(u63,f);vec2 o=c.gb,p=n.gb;float q=c.a;vec2 d=u65*abs(o-p)/(u42*q);float r=max(d.x,d.y),s=smoothstep(u64.x,u64.y,r);vec4 t=texture2D(u63,vv0);gl_FragColor=mix(b,t,s);}",
i:"u57 u61 u62 u63 u42 u65 u64".split(" "),precision:"highp"},{id:"s68",name:"_",g:"uniform sampler2D u41;uniform float u66;const vec4 g=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u41,vv0);float b=step(vv0.x,.33),c=texture2D(u41,f).g;a.a+=b*a.a*u66*abs(sin(c)),gl_FragColor=a;}",i:["u41","u66"],precision:"highp"},{id:"s69",name:"_",g:"uniform sampler2D u41,u62,u46;uniform vec3 u53,u54;uniform float u67,u68;const vec4 e=vec4(.25,.25,.25,.25);const vec3 g=vec3(1.,1.,1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,4.);varying vec2 vv0;void main(){vec4 c=texture2D(u41,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u62,vv0);float t=c.a;vec2 k=mix(vec2(.875,.875),vec2(.125,.875),a),l=mix(vec2(.125,.625),vec2(.375,.875),a),m=mix(vec2(.375,.625),vec2(.625,.875),a);float n=dot(e,texture2D(u46,k)),o=dot(e,texture2D(u46,l)),p=dot(e,texture2D(u46,m));vec3 q=mix(i,u53,a),b=q*vec3(n,o,p),r=c.rgb;b=mix(b,u54+b-r,a)/u68;vec4 s=mix(vec4(b,0.),j,vec4(u67*g,0.));gl_FragColor=s;}",
i:"u41 u62 u46 u67 u68 u53 u54".split(" "),precision:"highp"},{id:"s70",name:"_",g:"uniform sampler2D u62;uniform vec2 u70,u71;const vec4 h=vec4(.25,.25,.25,.25);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(u70.x,u71.x,a),d=mix(u70.y,u71.y,a);vec3 b=texture2D(u62,vv0).rgb;float f=length(b),g=1.-smoothstep(c,d,f);gl_FragColor=vec4(b,g);}",i:["u62","u70","u71"],precision:"highp"},{id:"s71",name:"_",u:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u46;const vec4 e=vec4(.25,.25,.25,.25);const float f=3.1415;void main(){float a=dot(texture2D(u46,vec2(.375,.375)),e),b=dot(texture2D(u46,vec2(.625,.375)),e),c=f/2.*dot(texture2D(u46,vec2(.875,.375)),e),d=.75*f*dot(texture2D(u46,vec2(.125,.375)),e);gl_FragColor=vec4(d,a,b,c);}",
i:["u46"]},{id:"s72",name:"_",u:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u46;const vec4 e=vec4(.25,.25,.25,.25);const float f=3.1415,g=1e-7;void main(){float b=dot(texture2D(u46,vec2(.875,.375)),e),c=dot(texture2D(u46,vec2(.375,.125)),e),d=f/2.*dot(texture2D(u46,vec2(.625,.375)),e),a=dot(texture2D(u46,vec2(.125,.375)),e),h=dot(texture2D(u46,vec2(.375,.375)),e);a+=(step(0.,a)-.5)*g;float i=atan(h,a);gl_FragColor=vec4(i,b,c,d);}",i:["u46"]},{id:"s62",name:"_",
g:"uniform sampler2D u1,u72;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u72);}",
i:["u1","u72"]}]);B();p();Ab.m({li:!1,ya:ka});Gb.m({$f:0,n:J.$c[1]-J.$c[0]+1,yi:J.$c[0]});S.set_videoRotation=function(M){bb.rotate=M;S.ready&&(hb.Bg(Da.element.videoWidth,Da.element.videoHeight),hb.Ig())};S.set_viewRotation=function(){};S.set_LUT=function(M){return new Promise(function(T){M?aa.instance({url:M,isFloat:!1,isFlipY:!1,B:function(ja){R.Db=ja;Na.Wc();T()}}):(R.Db=null,Na.Wc(),T())})};S.resize=function(M,T,ja){function oa(){Ab.stop();O.eb&&(clearTimeout(O.eb),O.eb=null);if(!O.Vb)if(J.width===
La&&J.height===Xa)v();else if(ca!==da.W&&ca!==da.Fa)O.eb=setTimeout(oa,J.$i);else{var zb="undefined"===typeof vb?!1:vb.get_mode(),eb=ca;ca=da.ta;O.Vb=!0;Ea.isEnabled=!0;Ea.B=function(){Ea.isEnabled=!1;O.Vb=!1;t();A(J.ya);Q&&clearTimeout(Q);Q=!1;ca=eb};K(La,Xa,0);v();ca===da.Fa&&(ca=da.W,S.switch_viewer3D(!0,!1));zb&&vb.switch_mode(zb)}}if(S.ready){O.eb&&(clearTimeout(O.eb),O.eb=null);Ab.stop();ja=ja?nc.ff:1;var La=M*ja,Xa=T*ja;O.eb=setTimeout(oa,J.$i)}}},Vl:function(){return z},v:function(){Ab.v();
return new Promise(function(M){S.switch_sleep(!0,!0).finally(function(){ia&&ia.v();fa.v();kb.v();c&&(c=null);ia=null;J.Sf=!1;gb=null;Fa=!0;Y=1;na=-1;ca=da.W;Ca=null;mb=da.W;Object.assign(Da,Lc);Object.assign(J,Mc);M()}).catch(function(T){throw Error(T);})})},Wc:function(){va.hj(ha.oc,null===R.Db?R.gb:R.Yc,la.Yd,R.Oj)},Sl:function(){return Za},oj:function(M){Za=M},se:function(){Ja[0]=u[0]-Za.offsetX;Ja[1]=u[1]+Za.offsetY;Ja[2]=u[2];va.On(W,Mb,Ja)},te:function(){va.Pn(P*J.kn,ea,Za.scale)},Lj:function(){va.Qn(D+
I)},Do:function(){va.Mn(J.gd+y,J.Jb+ra)},Fo:function(){va.Nn(ab)},ue:function(){Na.se();Na.te();Na.Lj();Na.Do();Na.Fo()},Hn:function(){Ab.stop();Ca&&(clearInterval(Ca),Ca=null);Oa.isEnabled=!0;Oa.ac=0;Bb=va.Rl();Hb=gb.Wh();Pb=gb.Uh();Qb=ea;gc=Mb;Vb=ab;hc=y;Ua=ra;Ea.isEnabled=!1;va.ke(!1)},En:function(M){function T(){2===++ja&&(Oa.isEnabled=!1,ea=Qb,Mb=gc,ab=Vb,y=hc,ra=Ua,Na.ue(),va.sa(Bb),v(),M&&M())}var ja=0;ca===da.lc?ca=da.Fa:ca===da.mc&&(ca=da.W);va.$a(ca===da.W?0:1);gb.replace(Hb,T);gb.vg(Pb,
T);Na.Wc();va.ke(!0)},zj:function(){var M=Math.tan(Da.Ob/2);va.gj({hf:J.hf/M,Jn:M,nn:Da.Ri,Da:J.Da,Zf:J.Zf,Rj:F.ob,Vj:J.Ro,Gc:J.Gc,yf:J.yf,wf:J.wf,xf:J.xf,Nc:ab,Ie:J.Ie,Ve:J.Ve,ng:J.ng,ic:J.ic,no:J.tj,oo:J.uj,ie:J.ie,jc:J.jc,nd:J.nd,Ye:J.Ye,Xe:J.Xe,We:J.We,Le:J.Le,Ke:J.ca+J.ua+J.Ke,gd:J.gd+y,Jb:J.Jb+ra,uf:J.uf,$g:J.$g,Zg:J.Zg,ze:J.ze,Xo:J.Wo,ye:Da.ye,Od:J.Od,Qm:rb,Nd:J.Nd,Pd:J.Pd,Qf:J.Qf,Pm:pc,Jg:J.Jg})},Uk:function(){var M=bb.Ce,T=bb.Be,ja=1/Math.tan(Da.Ob/2),oa=kb.Y()/kb.O();Da.Ri=[ja,0,0,0,0,ja/
oa,0,0,0,0,-(T+M)/(T-M),-1,0,0,-2*M*T/(T-M),0];Da.ye=1/Math.tan(J.Uo*Math.PI/360)/ja},Bg:function(M,T){N=[.5,.5];M=T/M;T=kb.Y()/kb.O();90===Math.abs(bb.rotate)&&(M=1/M);M>T?N[1]*=T/M:N[0]*=M/T;w[0]=0;w[1]=0;w[2]=0;w[3]=0;switch(bb.rotate){case 0:w[0]=N[0];w[3]=N[1];break;case 180:w[0]=-N[0];w[3]=-N[1];break;case 90:w[1]=N[0];w[2]=-N[1];break;case -90:w[1]=-N[0],w[2]=N[1]}J.ni||(w[0]*=-1,w[1]*=-1);T=bb.FOVforced;Da.Ob=2*Math.atan(2*N[0]*Math.tan((T?T:1<M?bb.FOVmobile:bb.FOVdesktop)*Math.PI/180/2));
Na.Uk()},Ig:function(){Z.j("s61",[{type:"1i",name:"u1",value:0},{type:"mat2",name:"u40",value:w}])},Cf:function(M,T){Na.mm(M,T);Na.m();if(!Na.nm())return S.mb&&S.mb("GL_INCOMPATIBLE","Cannot init JEELIZVTO"),!1;Na.ei();return!0},mm:function(M,T){S.Fb=document.createElement("canvas");S.Eb=document.createElement("canvas");S.Eb.width=J.width;S.Eb.height=J.height;S.Wj=S.Eb.getContext("2d");S.replace_video=function(ja){Da.element=ja;Da.Pg.ja=Da.element;return!0};S.tc=S.Fb.getContext("2d");S.capture_background=
function(ja,oa){ja="undefined"===typeof ja?M:ja;oa="undefined"===typeof oa?T:oa;S.Fb.width=ja;S.Fb.height=oa;var La=ja/oa,Xa=0,zb=0;if(M/T>La){var eb=T*La;La=T;Xa=Math.round((M-eb)/2)}else eb=M,La=M/La,zb=Math.round((T-La)/2);S.tc.save();S.tc.translate(ja,0);S.tc.scale(-1,1);S.tc.drawImage(Da.element,Xa,zb,eb,La,0,0,ja,oa);S.tc.restore();ja=document.createElement("canvas");ja.width=S.Fb.width;ja.height=S.Fb.height;ja.getContext("2d").drawImage(S.Fb,0,0);return ja}},ei:function(){window.CanvasListeners&&
(vb.init({pa:kb.rb()}),S.init_listeners=Na.ei,S.add_listener=vb.add_listener,S.remove_listener=vb.remove_listener,S.animate_swipe=vb.animate_swipe,S.switch_modeInteractor=vb.switch_mode,S.get_modeInteractor=vb.get_mode,vb.add_listener("move",function(M,T){ca===da.W&&(J.Rm&&(Za.offsetX-=T[0]*J.Ci,Za.offsetX=Math.min(Math.max(Za.offsetX,-J.Qd),J.Qd)),Za.offsetY-=T[1]*J.Ci,Za.offsetY=Math.min(Math.max(Za.offsetY,-J.Qd),J.Qd),Na.se())},!0).add_listener("pinch",function(M,T){ca===da.W&&(Za.scale+=T*J.Sm,
Za.scale=Math.min(Math.max(Za.scale,J.Di[0]),J.Di[1]),Na.te())},!0))},nm:function(){return fa.m({Jd:!1,Sk:!1,expand:!1,pa:kb.rb(),Pb:kb,onload:function(){la.Cb=fc.instance({Ib:J.ca+J.ua+fb.Po,wc:J.ca+J.ua+fb.Qo,vc:fb.Pj,xc:fb.Qj});J.Zb?(la.hb=fc.instance({}),ua.Pa.sa(la.hb)):la.hb=la.Cb;va.sa(la.hb);la.Xf=J.Zb?bd.instance({Nm:la.hb,Lm:la.Cb}):la.Cb;d()}})},Eg:function(){ma||(Na.Wc(),J.Zb&&(ya.reset(),ua.Pa.Lk(Da.la),ua.Pa.Kk()),S.ready=!0,za=0,J.Ld&&v(),sa=0,ma=!0,fa.Ug(nc.Al),Na.ue(),va.to(),S.cd.forEach(function(M){M()}),
S.cd.splice(0))},Ai:function(M,T){M=xc.instance({Me:function(){Na.Eg();T&&T()},url:M.url,Pc:M.Pc,Hb:M.Hb,Gb:M.Gb});G(M)},wo:function(){if(J.Zb){var M=Object.assign({},fb,{yb:J.ca+J.ua+fb.yb});ua.Pa.wg(M)}}};return Na}function cd(){S.Ee&&S.Ee();Da.Kd=!1;var a={width:{min:bb.minWidth,max:bb.maxWidth,ideal:bb.idealWidth},height:{min:bb.minHeight,max:bb.maxHeight,ideal:bb.idealHeight},facingMode:{ideal:"user"}},b={video:a,audio:!1};Da.ph=b;a&&-1!==Da.deviceId&&lc(b,Da.deviceId);Fc(navigator.mediaDevices&&
navigator.mediaDevices.getUserMedia?document.createElement("video"):!1,function(d){S.Fe&&S.Fe(d);Nc(d)},function(d){S.mb&&S.mb("WEBCAM_UNAVAILABLE",d)},b)}function Nc(a){Da.element=a;a=Da.element.videoWidth||Da.element.width;var b=Da.element.videoHeight||Da.element.height;Da.Pg={ja:Da.element,isPot:!1,isFloat:!1,isFlipY:!0};Da.la=aa.instance(Da.Pg);hb.Bg(a,b);hb.Cf(a,b)&&hb.Ig()}function dd(){var a=document.createElement("canvas");a.width=J.width;a.height=J.height;Da.Dh=a.getContext("2d");Da.Kd=!0;
Nc(a)}function Wb(a){return 3===arguments.length?this.pb(arguments):this.set(a)}function Oc(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.X=(b>>8&255)/255;a.b=(b&255)/255}function ed(a,b){function d(n){void 0!==n&&1>parseFloat(n)&&console.warn("JETHREE.Color: Alpha component of "+b+" will be ignored.")}var e;if(e=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var k=e[2];switch(e[1]){case "rgb":case "rgba":if(e=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k)){a.r=Math.min(255,parseInt(e[1],
10))/255;a.X=Math.min(255,parseInt(e[2],10))/255;a.b=Math.min(255,parseInt(e[3],10))/255;d(e[5]);return}if(e=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k)){a.r=Math.min(100,parseInt(e[1],10))/100;a.X=Math.min(100,parseInt(e[2],10))/100;a.b=Math.min(100,parseInt(e[3],10))/100;d(e[5]);return}break;case "hsl":case "hsla":if(e=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k)){k=parseFloat(e[1])/360;var m=parseInt(e[2],10)/100,x=parseInt(e[3],
10)/100;d(e[5]);a.Ln(k,m,x);return}}}else if(e=/^#([A-Fa-f0-9]+)$/.exec(b)){e=e[1];k=e.length;if(3===k){a.r=parseInt(e.charAt(0)+e.charAt(0),16)/255;a.X=parseInt(e.charAt(1)+e.charAt(1),16)/255;a.b=parseInt(e.charAt(2)+e.charAt(2),16)/255;return}if(6===k){a.r=parseInt(e.charAt(0)+e.charAt(1),16)/255;a.X=parseInt(e.charAt(2)+e.charAt(3),16)/255;a.b=parseInt(e.charAt(4)+e.charAt(5),16)/255;return}}b&&0<b.length&&(e=fd[b],void 0!==e?Oc(a,e):console.warn("JETHREE.Color: Unknown color "+b))}function qc(a,
b,d,e){this.C=a||0;this.D=b||0;this.F=d||0;this.P=void 0!==e?e:1}function Pc(a,b,d){var e=b.C,k=b.D,m=b.F;b=b.P;var x=d.C,n=d.D,q=d.F;d=d.P;a.C=e*d+b*x+k*q-m*n;a.D=k*d+b*n+m*x-e*q;a.F=m*d+b*q+e*n-k*x;a.P=b*d-e*x-k*n-m*q;return a}function Xb(a,b){this.x=a||0;this.y=b||0}function Va(a,b,d){this.x=a||0;this.y=b||0;this.z=d||0}function Qc(a,b){var d=a.x,e=a.y,k=a.z;a.x=e*b.z-k*b.y;a.y=k*b.x-d*b.z;a.z=d*b.y-e*b.x}function Yb(a,b,d,e){this.C=a||0;this.D=b||0;this.F=d||0;this.Qa=e||Yb.Sj}function yc(a,b){this.min=
void 0!==a?a:new Va(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Va(-Infinity,-Infinity,-Infinity)}function rc(a){return(new Va).dd(a.min,a.max).Ca(.5)}function gd(a,b){a.min.min(b);a.max.max(b)}function Zb(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Rc(a,b,d){var e=b.elements,k=d.elements;d=a.elements;b=e[0];var m=e[4],x=e[8],n=e[12],q=e[1],
r=e[5],v=e[9],G=e[13],A=e[2],H=e[6],t=e[10],f=e[14],h=e[3],B=e[7],L=e[11];e=e[15];var g=k[0],p=k[4],l=k[8],C=k[12],K=k[1],I=k[5],y=k[9],F=k[13],N=k[2],w=k[6],z=k[10],O=k[14],W=k[3],ba=k[7],ka=k[11];k=k[15];d[0]=b*g+m*K+x*N+n*W;d[4]=b*p+m*I+x*w+n*ba;d[8]=b*l+m*y+x*z+n*ka;d[12]=b*C+m*F+x*O+n*k;d[1]=q*g+r*K+v*N+G*W;d[5]=q*p+r*I+v*w+G*ba;d[9]=q*l+r*y+v*z+G*ka;d[13]=q*C+r*F+v*O+G*k;d[2]=A*g+H*K+t*N+f*W;d[6]=A*p+H*I+t*w+f*ba;d[10]=A*l+H*y+t*z+f*ka;d[14]=A*C+H*F+t*O+f*k;d[3]=h*g+B*K+L*N+e*W;d[7]=h*p+B*I+
L*w+e*ba;d[11]=h*l+B*y+L*z+e*ka;d[15]=h*C+B*F+L*O+e*k;return a}function zc(a,b,d,e,k,m){this.a=a;this.b=b;this.c=d;this.Na=e instanceof Va?e:new Va;this.xe=Array.isArray(e)?e:[];this.color=k instanceof Wb?k:new Wb;this.Xg=Array.isArray(k)?k:[];this.$b=void 0!==m?m:0}function hd(a,b,d){var e=new XMLHttpRequest;e.open("GET",a,!0);var k=e.withCredentials=!1;e.onreadystatechange=function(){404!==e.status||k||(k=!0,d&&d(404));if(4===e.readyState&&200===e.status){var m=null;try{m=JSON.parse(e.responseText)}catch(x){d&&
d(-1)}b&&m&&b(m)}};e.onerror=function(){d&&d(0)};e.send()}function Ac(a,b,d){"object"===typeof a?b(a):hd(a,b,d)}function id(a){return new Promise(function(b,d){Ac(a,b,d)})}function jd(a,b){for(var d=new Va,e=new Va,k=0,m=b.length;k<m;k++){var x=b[k],n=a[x.a],q=a[x.b],r=a[x.c];n&&q&&r&&(d.cb(r,q),e.cb(n,q),Qc(d,e),0!==d.Jf()&&(d.normalize(),x.Na.K(d)))}}function kd(a,b){for(var d=Array(a.length),e=0,k=a.length;e<k;++e)d[e]=new Va;e=new Va;k=new Va;for(var m=0,x=b.length;m<x;++m){var n=b[m],q=a[n.a],
r=a[n.b],v=a[n.c];q&&r&&v&&(e.cb(v,r),k.cb(q,r),Qc(e,k),d[n.a].add(e),d[n.b].add(e),d[n.c].add(e))}e=0;for(a=a.length;e<a;++e)d[e].normalize();a=0;for(e=b.length;a<e;++a)n=b[a],k=n.xe,m=d[n.a],x=d[n.b],n=d[n.c],m&&x&&n&&(3===k.length?(k[0].K(m),k[1].K(x),k[2].K(n)):(k[0]=m.clone(),k[1]=x.clone(),k[2]=n.clone()));return d}function ld(a,b,d,e){function k(C){p.K(b[C]);l.K(p);var K=n[C];L.K(K);L.sub(p.Ca(p.pd(K))).normalize();var I=l.x,y=l.y,F=l.z,N=K.x,w=K.y;K=K.z;g.x=y*K-F*w;g.y=F*N-I*K;g.z=I*w-y*N;
I=0>g.pd(q[C])?-1:1;x[4*C]=L.x;x[4*C+1]=L.y;x[4*C+2]=L.z;x[4*C+3]=I}for(var m=a.length,x=new Float32Array(4*m),n=Array(m),q=Array(m),r=0;r<m;r++)n[r]=new Va,q[r]=new Va;var v=new Va,G=new Va,A=new Va,H=new Xb,t=new Xb,f=new Xb,h=new Va,B=new Va;e.forEach(function(C){var K=C.a,I=C.b;C=C.c;v.K(a[K]);G.K(a[I]);A.K(a[C]);H.K(d[K]);t.K(d[I]);f.K(d[C]);var y=G.x-v.x,F=A.x-v.x,N=G.y-v.y,w=A.y-v.y,z=G.z-v.z,O=A.z-v.z,W=t.x-H.x,ba=f.x-H.x,ka=t.y-H.y,Q=f.y-H.y,ia=1/(W*Q-ba*ka);h.set((Q*y-ka*F)*ia,(Q*N-ka*w)*
ia,(Q*z-ka*O)*ia);B.set((W*F-ba*y)*ia,(W*w-ba*N)*ia,(W*O-ba*z)*ia);n[K].add(h);n[I].add(h);n[C].add(h);q[K].add(B);q[I].add(B);q[C].add(B)});var L=new Va,g=new Va,p=new Va,l=new Va;e.forEach(function(C){k(C.a);k(C.b);k(C.c)});return x}function Sc(a,b,d,e){return Math.sqrt((a-d)*(a-d)+(b-e)*(b-e))}var U={sh:!0,wp:!1,xp:!1,dl:!1,rh:!1,vp:!1,Ma:!1,Jd:!1,eq:!1,ca:"",Fi:"",yk:700,xk:200,th:!1,Jo:!1,Ko:!1,Io:!1,ek:3,Lb:!1,gh:!0,Ib:"images/backgrounds/interior2.jpg",wc:"images/backgrounds/interior_light.jpg",
Ak:[256,256,512,512],vc:2.1,xc:8,zk:[64,128,256,256],tm:[60,96,160,250],sm:[8,12,18,40],Rc:2.2,hg:1,Ne:300,ih:500,Oe:50,Mk:0,Nk:0,lp:45,np:1,mp:1E3,jh:20,Zo:10,$o:10,ap:5,jn:.1,Li:20,Oi:100,Pi:100,hn:-Math.PI/3,gn:Math.PI/3,Ni:0,Cj:0,td:[40,32,16,16],ck:[0,.87,.92,.9],dn:2,$m:100,ea:!1,fk:16,gk:.4,ik:[.72,.73,.72,.74],tk:1.2,qk:[.5,.5,.5,1],vk:140,uk:280,wk:1.2,jk:20,kk:40,sk:[6,9,9,12],pk:[.03,.02,.02,.018],nk:[.35,.35,.4,.5],lk:[.2,.2,.2,.2],hk:[.1,.15,.15,.15],rk:[200,200,150,120],mk:[1,2,3,5],
po:1.1,xq:[.25,.5,1,2],yq:256,wq:256,vq:200,qo:[40,80,200,500],ro:[35,45,80,120],Yk:!0,Zk:"CCW"},Tc={},Z=function(){function a(w,z,O){z=w.createShader(z);w.shaderSource(z,O);w.compileShader(z);return w.getShaderParameter(z,w.COMPILE_STATUS)?z:null}function b(w,z,O){z=a(w,w.VERTEX_SHADER,z);O=a(w,w.FRAGMENT_SHADER,O);w===c&&n.push(z,O);var W=w.createProgram();w.attachShader(W,z);w.attachShader(W,O);w.linkProgram(W);return W}function d(w){return["float","sampler2D","int"].map(function(z){return"precision "+
w+" "+z+";\n"}).join("")}function e(w,z){z.T=z.T?!0:!1;if(!z.T){z.u=z.u||"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5);}";z.J=z.J||["a0"];z.R=z.R||[2];z.precision=z.precision||A;z.id=v++;void 0!==z.cj&&(z.cj.forEach(function(ba,ka){z.g=z.g.replace(ba,z.Ea[ka])}),z.cj.splice(0));z.Yg=0;z.R.forEach(function(ba){z.Yg+=4*ba});var O=d(z.precision);z.na=b(w,O+z.u,O+z.g);z.A={};z.i.forEach(function(ba){z.A[ba]=w.getUniformLocation(z.na,
ba)});z.attributes={};z.va=[];z.J.forEach(function(ba){var ka=w.getAttribLocation(z.na,ba);z.attributes[ba]=ka;z.va.push(ka)});if(z.s){w.useProgram(z.na);r=z;q=z.id;for(var W in z.s)w.uniform1i(z.A[W],z.s[W])}z.Ja=!0}}function k(w){tb.rj(N);q!==w.id&&(N.I(),q=w.id,r=w,c.useProgram(w.na),w.va.forEach(function(z){0!==z&&c.enableVertexAttribArray(z)}))}function m(w,z,O){e(w,z,O);w.useProgram(z.na);w.enableVertexAttribArray(z.attributes.a0);q=-1;return r=z}function x(){return{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
i:["u1"],s:{u1:0}}}var n=[],q=-1,r=null,v=0,G=!1,A="highp",H=["u1"],t=["u0"],f={u1:0},h={u0:0},B={u1:0,u2:1},L={u1:0,u3:1},g=["u1","u3","u4"],p={u5:0},l=["u6","u7","u8","u9"],C={u6:0,u7:1},K={s0:x(),s1:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:H,s:f,precision:"lowp"},s2:{g:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",i:["u1","u2"],s:B},s3:{g:"uniform sampler2D u1;uniform vec2 u10,u11;varying vec2 vv0;void main(){vec2 a=vv0*u10+u11;gl_FragColor=texture2D(u1,a);}",
i:["u1","u10","u11"],s:f,T:!0},s4:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",i:H,s:f},s5:{g:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],s:B},s6:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",i:H,s:f},s7:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",
i:H,s:f},s8:{g:"uniform sampler2D u0;uniform float u10;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u10;}",i:["u0","u10"],s:h},s9:{g:"uniform sampler2D u0;uniform float u10;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u10,f);gl_FragColor=b*g;}",i:["u0","u10"],s:h},s10:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",
i:H,s:f},s11:{g:"uniform sampler2D u1,u12;uniform float u13;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u12,vv0);gl_FragColor=mix(b,a,u13*f);}",i:["u1","u12","u13"],s:{u1:0,u12:1}},s12:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u14)+texture2D(u1,vv0+u14*vec2(1.,-1.))+texture2D(u1,vv0+u14*vec2(-1.,-1.))+texture2D(u1,vv0+u14*vec2(-1.,1.)));}",i:["u1","u14"],s:f},s13:{g:"uniform sampler2D u1;varying vec2 vv0;vec4 f(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),g=exp2(c);vec3 h=clamp(b/g,0.,1.);return vec4(h,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=f(a);}",
i:H,s:f,T:!0},s14:{g:"uniform sampler2D u1;varying vec2 vv0;vec3 f(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=vec4(f(a),1.);}",i:H,s:f,T:!0},s15:{g:"uniform sampler2D u1;uniform vec4 u15;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u15);gl_FragColor=j(a);}",
i:["u1","u15"],s:f},s16:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:t,s:h,T:!0},s17:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:t,s:h},s18:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:t,s:h},
s19:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:t,s:h},s20:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",i:t,s:h},s21:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=2.*atan(e*texture2D(u0,vv0))/e;}",i:t,s:h,T:!0},s22:{g:"uniform sampler2D u0,u16;uniform float u17;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u16,e);float b=u17*u17;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",
i:["u0","u16","u17"],s:{u0:0,u16:1},T:!0},s23:{g:"uniform sampler2D u1;uniform vec2 u18;varying vec2 vv0;void main(){float a=u18.x*u18.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u18.y),f=floor(u18.x*fract(b*u18.y)),g=(f*u18.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",i:["u1","u18"],s:f},s24:{g:"uniform sampler2D u7,u6,u19;varying vec2 vv0;void main(){vec4 a=texture2D(u19,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u7,b),f=texture2D(u6,c);gl_FragColor=d*f;}",i:["u7","u6","u19"],s:Object.assign({u19:2},
C),T:!0},s25:{g:"uniform float u8,u9;uniform sampler2D u7,u6;varying vec2 vv0;void main(){vec2 b=fract(vv0*u8);float a=u8*u9;vec2 c=(vec2(.5)+floor(a*vv0))/a;vec4 d=texture2D(u7,c),f=texture2D(u6,b);gl_FragColor=d*f;}",i:l,s:C},s26:{g:"uniform float u8,u9;uniform vec2 u20,u21;uniform sampler2D u7,u6;varying vec2 vv0;void main(){float a=u8*u9;vec2 b=mod(vv0*u20,vec2(1.)),c=floor(vv0*u20)/u20,d=u20*u21,f=c+.5*(vec2(1.)-u21)/u20,g=f+fract(b*u8)/d,h=(vec2(.5)+floor(a*b))/a;vec4 i=texture2D(u7,h),j=texture2D(u6,g);gl_FragColor=i*j;}",
i:["u20","u21"].concat(l),s:C,T:!0},s27:{g:"uniform float u8,u9;uniform sampler2D u7,u6,u22,u23,u24,u25;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 c=fract(vv0*u8),d=vv0;float h=u8*u9;d=(.5+floor(h*vv0))/h;vec4 l=texture2D(u7,d),m=texture2D(u6,c),a=texture2D(u25,d);a=floor(.5+a*255.);vec4 n=texture2D(u22,c),o=texture2D(u23,c),p=texture2D(u24,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b,r=i*m+j*n+k*o+q*p;gl_FragColor=l*r;}",
i:["u25","u22","u23","u24"].concat(l),s:Object.assign({u25:3,u22:4,u23:5,u24:6},C),T:!0},s28:{g:"uniform sampler2D u7,u6,u3;uniform float u8,u26,u27,u9;uniform vec2 u28;varying vec2 vv0;const vec2 f=vec2(1.),l=vec2(0.);void main(){vec2 c=floor(u26*vv0),d=u26*vv0-c;float g=u8/u26;vec2 h=floor(d*g),i=d*g-h,j=(c+i)/u26;float m=u26*u9/u8;vec2 b=m*h;b=floor(u28*b+.5*(u9-1.)*(f-u28));vec2 a=(b+i*u27)/u9;a+=.25/u9;vec2 k=step(a,f)*step(l,a);vec4 n=texture2D(u7,j),o=texture2D(u6,a),p=n*o,q=texture2D(u3,j);gl_FragColor=(p*u27*u27+q)*k.x*k.y;}",
i:["u26","u27","u3","u28"].concat(l),s:Object.assign({u3:2},C)},s29:{g:"uniform sampler2D u7,u6;varying vec2 vv0;void main(){vec4 a=texture2D(u7,vv0),b=texture2D(u6,vv0);gl_FragColor=a*b;}",i:["u7","u6"],s:C,T:!0},s30:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0)+u4*texture2D(u1,vv0);}",i:g,s:L},s31:{g:"uniform sampler2D u1,u3;uniform vec2 u20;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0*u20)+u4*texture2D(u1,vv0);}",
i:["u20"].concat(g),s:L,T:!0},s32:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",i:g,s:L,T:!0},s33:{g:"uniform sampler2D u1,u3;uniform vec2 u20;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0*u20)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",
i:["u20"].concat(g),s:L,T:!0},s34:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 h=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 b=floor(gl_FragCoord.xy);vec3 d=b.x*vec3(1.)+vec3(0.,1.,2.);float c=mod(b.y,2.);vec4 f=vec4(c,(1.-c)*step(mod(d,vec3(3.)),vec3(.5)));mat4 g=mat4(a.rgba,a.gbar,a.barg,a.argb);gl_FragColor=g*f;}",i:g,s:L,T:!0},s35:{g:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:H,s:f,precision:"lowp"},s36:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u29;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u29)).rgb,c=texture2D(u1,vv0+vec2(u29,u29)).rgb,d=texture2D(u1,vv0+vec2(u29,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u29"],s:f,precision:"lowp"},s37:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u29;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u29)).rgb,c=texture2D(u1,vv0+vec2(u29,u29)).rgb,d=texture2D(u1,vv0+vec2(u29,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u29"],s:f,precision:"lowp"},s38:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u30;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u30,vv0.y-u30))*1.,a-=texture2D(u1,vec2(vv0.x-u30,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u30,vv0.y+u30))*1.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y-u30))*1.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y+u30))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u30,vv0.y-u30))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u30))*2.,b-=texture2D(u1,vec2(vv0.x+u30,vv0.y-u30))*1.,b+=texture2D(u1,vec2(vv0.x-u30,vv0.y+u30))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u30))*2.,b+=texture2D(u1,vec2(vv0.x+u30,vv0.y+u30))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u30"],s:B,T:!0},s39:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u30;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u30,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u30"],s:B,T:!0},s40:{g:"uniform sampler2D u5;uniform vec2 u14;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u14*g;vec4 b=texture2D(u5,a),c=texture2D(u5,a+u14*h),d=texture2D(u5,a+u14*i),j=texture2D(u5,a+u14),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u5","u14"],s:p},s41:{g:"uniform sampler2D u5;uniform vec2 u14;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u5,a),c=texture2D(u5,a+u14*k),d=texture2D(u5,a+u14*l),g=texture2D(u5,a+u14),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u14*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u14*m),d=f(a+u14*2.),g=f(a+u14*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u5","u14"],
s:p,T:!0},s42:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],s:f,precision:"lowp",T:!0},s43:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u14)+2002./e*texture2D(u1,vv0-2.*u14)+3003./e*texture2D(u1,vv0-u14)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u14)+2002./e*texture2D(u1,vv0+2.*u14)+1001./e*texture2D(u1,vv0+3.*u14);gl_FragColor=a;}",i:["u14","u1"],
s:f,precision:"lowp",T:!0},s44:{g:"uniform sampler2D u1,u16,u31;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u16,vv0),b=texture2D(u31,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u16","u31"],s:{u1:0,u16:1,u31:2},T:!0}},I={s45:{g:"uniform float u8,u32;uniform sampler2D u7,u6,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u3,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u8,xyTo=floor(vv0*u8+eps2);float weightSize=toSparsity*u8;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u32*(xyPatch-halfFromSparsity))/u8,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u7,uvWeight)*texture2D(u6,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u8","u7","u6","u3","u32"],Ea:["1.1111","gl_FragColor\\*=2.2222;"]},s46:{g:"uniform float u8,u32,u9;uniform sampler2D u7,u6,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u3,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u9,xyTo=floor(vv0*u8+eps2);float weightSize=fromSparsity*u9;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u8;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u32*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u9,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u7,uvWeight)*texture2D(u6,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u8 u9 u7 u6 u3 u32".split(" "),Ea:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},y=null,F=null,N={Yb:function(){return G},m:function(){if(!G){y=Ma(K,2);F=Ma(I,2);A="highp";c.getShaderPrecisionFormat&&(c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT),c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.LOW_FLOAT));for(var w in y)e(c,y[w],w);Z.set("s0");c.enableVertexAttribArray(0);G=!0}},uc:function(w){w.forEach(function(z){N.oa(z)})},oa:function(w){y[w.id]=w;e(c,w,w.id)},qm:function(w,z,
O){z||(z=w);y[z]=Object.create(F[w]);y[z].zm=!0;F[w].Ea&&F[w].Ea.forEach(function(W,ba){y[z].g=y[z].g.replace(new RegExp(W,"g"),O[ba])});e(c,y[z],z)},set:function(w){var z=y[w];z.T&&(z.T=!1,e(c,z,w));k(z)},zb:function(w){return m(w,x(),"s47")},de:function(w){return m(w,{g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:A},"s48")},zl:function(w){return"undefined"===typeof y[w]?!1:y[w].Ja},I:function(){-1!==q&&(q=-1,r.va.forEach(function(w){0!==w&&c.disableVertexAttribArray(w)}))},ge:function(){var w=
0;r.va.forEach(function(z,O){O=r.R[O];c.vertexAttribPointer(z,O,c.FLOAT,!1,r.Yg,w);w+=4*O})},yl:function(){c.enableVertexAttribArray(0)},ec:function(){N.fc(c)},fc:function(w){w.vertexAttribPointer(r.va[0],2,w.FLOAT,!1,8,0)},ee:function(w,z){c.uniform1i(r.A[w],z)},H:function(w,z){c.uniform1f(r.A[w],z)},N:function(w,z,O){c.uniform2f(r.A[w],z,O)},fe:function(w,z){c.uniform2fv(r.A[w],z)},Ag:function(w,z){c.uniform3fv(r.A[w],z)},zg:function(w,z,O,W){c.uniform3f(r.A[w],z,O,W)},io:function(w,z,O,W,ba){c.uniform4f(r.A[w],
z,O,W,ba)},xa:function(w,z){c.uniform4fv(r.A[w],z)},jo:function(w,z){c.uniformMatrix2fv(r.A[w],!1,z)},ko:function(w,z){c.uniformMatrix3fv(r.A[w],!1,z)},Uc:function(w,z){c.uniformMatrix4fv(r.A[w],!1,z)},j:function(w,z){N.set(w);z.forEach(function(O){switch(O.type){case "4f":c.uniform4fv(r.A[O.name],O.value);break;case "3f":c.uniform3fv(r.A[O.name],O.value);break;case "2f":c.uniform2fv(r.A[O.name],O.value);break;case "1f":c.uniform1f(r.A[O.name],O.value);break;case "1i":c.uniform1i(r.A[O.name],O.value);
break;case "mat2":c.uniformMatrix2fv(r.A[O.name],!1,O.value);break;case "mat3":c.uniformMatrix3fv(r.A[O.name],!1,O.value);break;case "mat4":c.uniformMatrix4fv(r.A[O.name],!1,O.value)}})},Lp:function(){return"lowp"},v:function(){N.I();c.disableVertexAttribArray(0);for(var w in y){var z=y[w];z.Ja&&(z.Ja=!1,c.deleteProgram(z.na));z.zm&&delete y[w]}n.forEach(function(O){c.deleteShader(O)});n.splice(0);v=0;G=!1;r=null;q=-1}};return N}(),c=null,kb=function(){function a(t){console.log("ERROR in ContextFF: ",
t);return!1}function b(){return navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1")}function d(t,f,h){t.setAttribute("width",f);t.setAttribute("height",h)}function e(t){function f(){Ib.v();Ga.reset();B.getExtension("WEBGL_lose_context").loseContext()}if(b())return!1;var h=document.createElement("canvas");d(h,5,5);var B=null;try{B=h.getContext("webgl2",t)}catch(L){return!1}if(!B)return!1;k(B);Ga.Eh(B);t=Ga.Ze(B);if(!t.Ua&&!t.Wa)return f(),!1;t=Ib.kh(B,t);f();return t?!0:!1}function k(t){t.clearColor(0,
0,0,0);t.disable(t.DEPTH_TEST);t.disable(t.BLEND);t.disable(t.DITHER);t.disable(t.STENCIL_TEST);t.disable(t.CULL_FACE);t.GENERATE_MIPMAP_HINT&&t.FASTEST&&t.hint(t.GENERATE_MIPMAP_HINT,t.FASTEST);t.disable(t.SAMPLE_ALPHA_TO_COVERAGE);t.disable(t.SAMPLE_COVERAGE);t.depthFunc(t.LEQUAL);t.clearDepth(1)}var m=null,x=null,n=null,q=null,r=!0,v=null,G=null,A=[],H={O:function(){return m.width},Y:function(){return m.height},rb:function(){return m},Dl:function(){return c},ka:function(){return r},flush:function(){c.flush()},
Tp:function(){ya.$();H.Cn()},Cn:function(){aa.reset();X.reset();Z.I();Z.yl();c.disable(c.DEPTH_TEST);c.disable(c.BLEND);X.kd();Z.ec()},Il:function(){v||(v=new Uint8Array(m.width*m.height*4));c.readPixels(0,0,m.width,m.height,c.RGBA,c.UNSIGNED_BYTE,v);return v},Gp:function(){return m.toDataURL("image/jpeg")},Hp:function(){ya.ba();x||(x=document.createElement("canvas"),n=x.getContext("2d"));d(x,m.width,m.height);for(var t=H.Il(),f=n.createImageData(x.width,x.height),h=x.width,B=x.height,L=f.data,g=
0;g<B;++g)for(var p=B-g-1,l=0;l<h;++l){var C=4*(g*h+l),K=4*(p*h+l);L[C]=t[K];L[C+1]=t[K+1];L[C+2]=t[K+2];L[C+3]=t[K+3]}n.putImageData(f,0,0);return x.toDataURL("image/png")},Qh:function(t){!x&&t&&(x=document.createElement("canvas"),n=x.getContext("2d"));var f=t?x:document.createElement("canvas");d(f,m.width,m.height);(t?n:f.getContext("2d")).drawImage(m,0,0);return f},m:function(t){t=Object.assign({Va:null,bg:null,pa:null,Ue:null,width:512,height:512,premultipliedAlpha:!1,wm:!0,antialias:!1,debug:!1,
up:!1},t);t.Va?(c=t.Va,m=t.Va.canvas):t.Ue&&!t.pa?m=document.getElementById(t.Ue):t.pa&&(m=t.pa);m||(m=document.createElement("canvas"));m.width=t.width;m.height=t.height;if(c)r=c instanceof WebGL2RenderingContext;else{r=!0;var f={antialias:t.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:t.premultipliedAlpha,stencil:!1,depth:t.wm,failIfMajorPerformanceCaveat:!0,powerPreference:"high-performance"};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&
(f.antialias=!1);var h=e(f);h||!f.antialias||b()||(f.antialias=!1,h=e(f));h&&(c=m.getContext("webgl2",f));c?r=!0:((c=m.getContext("webgl",f))||(c=m.getContext("experimental-webgl",f)),r=!1)}if(!c)return a("WebGL1 and 2 are not enabled");t.bg&&m.addEventListener&&(q=c.getExtension("WEBGL_lose_context"))&&(G=t.bg,m.addEventListener("webglcontextlost",G,!1));if(!Ga.m())return a("Not enough GL capabilities");k(c);Z.m();X.m();Ib.kh(c,Ga.Fl());A.forEach(function(B){B(c)});A.splice(0);return!0},kp:function(){return new Promise(function(t){c?
t(c):A.push(t)})},v:function(){c&&(Ga.v(),Z.v(),Ib.v());q&&G&&(m.removeEventListener("webglcontextlost",G,!1),q=G=null);c=v=n=x=m=null;A.splice(0)}};return H}(),tb=function(){function a(){null===b&&("undefined"!==typeof Z?b=Z:"undefined"!==typeof E&&(b=E))}var b=null;return{reset:function(){b=null},rj:function(d){b!==d&&(b&&b.I(),b=d)},Yb:function(){return b.Yb()},ec:function(){return b.ec()},fc:function(d){return b.fc(d)},ge:function(){return b.ge()},I:function(){return b.I()},set:function(d){a();
return b.set(d)},zb:function(d){a();return b.zb(d)},de:function(d){a();return b.de(d)}}}(),aa=function(){function a(F){c.bindTexture(c.TEXTURE_2D,F)}function b(F){var N=new Uint16Array(F.length);F.forEach(function(w,z){C[0]=w;var O=K[0];var W=O>>16&32768;w=O>>12&2047;var ba=O>>23&255;O=103>ba?W:142<ba?W|31744|((255==ba?0:1)&&O&8388607):113>ba?(w|=2048,W|(w>>114-ba)+(w>>113-ba&1)):(W|ba-112<<10|w>>1)+(w&1);N[z]=O});return N}function d(){if(null!==I.Af)return I.Af;var F=e(b([.5,.5,.5,.5]),!0);return null===
F?!0:I.Af=F}function e(F,N){if(!tb.Yb()||!H)return null;var w=null,z=Math.sqrt(F.length/4);try{var O=c.getError();if("FUCKING_BIG_ERROR"===O)return!1;w=y.instance({isFloat:!1,S:N,array:F,width:z});O=c.getError();if(O!==c.NO_ERROR)return!1}catch(W){return!1}ya.ba();c.viewport(0,0,z,z);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);tb.set("s0");w.Ha(0);X.l(!0,!0);F=4*z*z;N=new Uint8Array(F);c.readPixels(0,0,z,z,c.RGBA,c.UNSIGNED_BYTE,N);z=!0;for(O=0;O<F;++O)z=z&&3>Math.abs(N[O]-127);w.remove();ya.$();
return z}var k=0,m=null,x=0,n=null,q=null,r=null,v=null,G=null,A=null,H=!1,t=[],f={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,ja:null,Zh:null,xm:!1,S:!1,B:null,G:4,Vf:0},h=!1,B=null,L=null,g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],p=!1,l=!1,C=new Float32Array(1),K=new Int32Array(C.buffer),I={Af:null,Bf:null},y={m:function(){H||(G=[c.RGBA,null,c.RGBA,c.RGBA],A=
[c.RGBA,null,c.RGBA,c.RGBA],m=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7],p="undefined"!==typeof fa,l="undefined"!==typeof Ga,n=[-1,-1,-1,-1,-1,-1,-1,-1],v=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT],H=!0)},om:function(){if(!q){for(var F=new Float32Array(16384),N=0;16384>N;++N)F[N]=2*Math.random()-1;q={random:y.instance({isFloat:!0,isPot:!0,array:F,width:64}),Gj:y.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}y.Eo()},Yh:function(){return q.Gj},
Eo:function(){v[1]=Ga.mf(c)},bo:function(){A=G=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},Xi:function(F){Z.set("s1");ya.ba();var N=F.O(),w=F.Y();c.viewport(0,0,N,w);F.h(0);X.l(!1,!1)},gq:function(F,N){y.Xi(F);c.readPixels(0,0,F.O(),F.Y(),c.RGBA,c.UNSIGNED_BYTE,N)},hq:function(F,N){y.Xi(F);return Ga.mg(0,0,F.O(),F.Y(),N)},Lh:function(F,N,w,z,O,W,ba){F.activeTexture(F.TEXTURE0);var ka=F.createTexture();F.bindTexture(F.TEXTURE_2D,ka);O=O instanceof Float32Array?O:new Float32Array(O);F.texParameteri(F.TEXTURE_2D,
F.TEXTURE_WRAP_S,F.CLAMP_TO_EDGE);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,F.CLAMP_TO_EDGE);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST);F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,W);F.texImage2D(F.TEXTURE_2D,0,F.RGBA,w,z,0,F.RGBA,F.FLOAT,O);F.bindTexture(F.TEXTURE_2D,null);F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,!1);ba&&(ya.$(),Z.zb(F));F.viewport(0,0,w,z);F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,
N,0);F.bindTexture(F.TEXTURE_2D,ka);ba?X.l(!0,!0):X.Nb(F);F.deleteTexture(ka);H&&(n[0]=-1,r=null,k=0)},Ge:function(F){F!==k&&(c.activeTexture(m[F]),k=F)},instance:function(F){function N(){sa=void 0!==Q.ja.videoWidth?Q.ja.videoWidth:Q.ja.width;ma=void 0!==Q.ja.videoHeight?Q.ja.videoHeight:Q.ja.height}function w(ea){var ra=c.getError();if("FUCKING_BIG_ERROR"===ra)return!1;c.texImage2D(c.TEXTURE_2D,0,cb,Ea,Oa,ea);ra=c.getError();ra!==c.NO_ERROR&&Ea!==c.RGBA&&(Ea=c.RGBA,c.texImage2D(c.TEXTURE_2D,0,cb,
Ea,Oa,ea));return!0}function z(){if(!Y){a(za);rb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,rb);Q.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,Q.isMirrorX?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,Q.isMirrorY?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));Q.isAnisotropicFiltering&&"undefined"!==typeof U&&c.texParameterf(c.TEXTURE_2D,fa.Jl().TEXTURE_MAX_ANISOTROPY_EXT,
U.ek);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,Q.isLinear?c.LINEAR:c.NEAREST);Q.isLinear?c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,Q.isMipmap&&!Bb?c.NEAREST_MIPMAP_LINEAR:c.LINEAR):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,Q.isMipmap&&!Bb?c.NEAREST_MIPMAP_NEAREST:c.NEAREST);Ea=G[Q.G-1];cb=A[Q.G-1];Oa=v[u];if(Ga.ka()){var ea=Ga.Ll();Ea===c.RGBA&&Oa===c.FLOAT?Q.isMipmap||Q.isLinear?cb=Ib.Nl(c):Ga.fa()?ea&&(cb=ea):cb=c.RGBA16F||c.RGBA:Ea===c.RGB&&Oa===c.FLOAT&&ea&&(cb=ea,Ea=
c.RGBA)}if(Q.S&&!Q.isFloat||Q.isFloat&&Q.isMipmap&&Ib.Gm())cb=Ga.Ml(),Oa=Ga.mf(c);Q.Vf&&(Pb=Q.Vf);Q.isSrgb&&4===Q.G&&(Ea=fa.fm());if(Q.ja)w(Q.ja);else if(Q.url)w(wa);else if(la){ea=la;try{"FUCKING_BIG_ERROR"!==c.getError()&&(c.texImage2D(c.TEXTURE_2D,0,cb,sa,ma,0,Ea,Oa,ea),c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,cb,sa,ma,0,Ea,Oa,null),c.getError()!==c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,sa,ma,0,c.RGBA,c.UNSIGNED_BYTE,null)))}catch(oc){c.texImage2D(c.TEXTURE_2D,0,cb,sa,ma,
0,Ea,Oa,null)}Q.isKeepArray||(la=null)}else ea=c.getError(),"FUCKING_BIG_ERROR"!==ea&&(c.texImage2D(c.TEXTURE_2D,0,cb,sa,ma,0,Ea,Oa,null),ea=c.getError(),ea!==c.NO_ERROR&&(Ea=c.RGBA,Q.S&&Oa!==c.FLOAT&&(Oa=c.FLOAT,c.texImage2D(c.TEXTURE_2D,0,cb,sa,ma,0,Ea,Oa,null))));if(Q.isMipmap)if(!Bb&&Ua)Ua.zd(),Qb=!0;else if(Bb){ea=Math.log2(Math.min(sa,ma));Hb=Array(1+ea);Hb[0]=za;for(var ra=1;ra<=ea;++ra){var ab=Math.pow(2,ra),Ja=sa/ab;ab=ma/ab;var Za=c.createTexture();a(Za);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,
c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,cb,Ja,ab,0,Ea,Oa,null);a(null);Hb[ra]=Za}Qb=!0}a(null);n[k]=-1;rb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);Fa=!0;Q.B&&Ua&&(Q.B(Ua),Q.B=null)}}function O(){for(var ea=sa*ma,ra=2*ea,ab=3*ea,Ja=0;Ja<ea;++Ja)da[0][Ja]=mb[Ja],da[1][Ja]=mb[Ja+ea],da[2][Ja]=mb[Ja+ra],da[3][Ja]=mb[Ja+ab]}function W(){var ea=sa*ma*4;ca=[new Uint8Array(ea),new Uint8Array(ea),new Uint8Array(ea),new Uint8Array(ea)];da=[new Float32Array(ca[0].buffer),
new Float32Array(ca[1].buffer),new Float32Array(ca[2].buffer),new Float32Array(ca[3].buffer)];Ca=new Uint8Array(4*ea);mb=new Float32Array(Ca.buffer);na=!0}function ba(){ka=new Uint8Array(sa*ma*4);hc=new Float32Array(ka.buffer);Vb=!0}var ka,Q=Object.assign({},f,F),ia=x++;null===Q.isFlipY&&(Q.isFlipY=Q.url?!0:!1);Q.data&&(Q.array="string"===typeof Q.data?Lb(Q.data):Q.isFloat?new Float32Array(Q.data):new Uint8Array(Q.data),Q.isFlipY=!1);var u=0,P=Q.ja?!0:!1,D=null,R=null,ha=!1;Q.S=Q.S||Q.isFloat;Q.S&&
(u=1);!Q.xm&&Q.isFloat&&l&&!Ga.fa()&&(Q.isFloat=!1);Q.isFloat&&(u=2);Q.isAnisotropicFiltering&&p&&!fa.Fm()&&(Q.isAnisotropicFiltering=!1);var za=Q.Zh||c.createTexture(),wa=null,la=!1,sa=0,ma=0,Fa=!1,Y=!1,na=!1,da=null,ca=null,Ca=null,mb=null,cb=null,Ea=null,Oa=null,rb=Q.isFlipY,pc=(F=Q.S&&Q.isMipmap)&&Ib.Pk(),Bb=F&&!pc?!0:!1,Hb=null,Pb=-1,gc=-1,Qb=!1,Vb=!1,hc=ka=null;Q.width&&(sa=Q.width,ma=Q.height?Q.height:sa);var Ua={get:function(){return za},O:function(){return sa},Y:function(){return ma},gm:function(){return Q.url},
ti:function(){return Q.isFloat},ui:function(){return Q.S},Yp:function(){return Q.isLinear},zd:function(){c.generateMipmap(c.TEXTURE_2D)},Fk:function(ea,ra){Bb?(ea||(ea=Ua.Vh()),y.Ge(ra),a(Hb[ea]),n[ra]=-1):Ua.h(ra)},Vh:function(){-1===Pb&&(Pb=Math.log(sa)/Math.log(2));return Pb},Cl:function(ea){ea||(ea=Ua.Vh());if(Bb){Z.set("s12");y.Ge(0);for(var ra=sa,ab=ma,Ja=1;Ja<=ea;++Ja)ra/=2,ab/=2,Z.N("u14",.25/ra,.25/ab),c.viewport(0,0,ra,ab),a(Hb[Ja-1]),c.framebufferTexture2D(ya.Dd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,
Hb[Ja],0),X.l(!1,1===Ja);n[0]=-1}else ea!==gc&&(gc=ea,c.TEXTURE_MAX_LEVEL&&c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAX_LEVEL,ea)),Ua.zd()},uq:function(ea){(P=!(Array.isArray(ea)||ea.constructor===Float32Array||ea.constructor===Uint8Array))?(la=null,Q.ja=ea,N()):la=ea},h:function(ea){if(!Fa)return!1;y.Ge(ea);if(n[ea]===ia)return!1;a(za);n[ea]=ia;return!0},Ha:function(ea){c.activeTexture(m[ea]);k=ea;a(za);n[ea]=ia},o:function(){r=Ua;c.framebufferTexture2D(ya.Dd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,za,
0)},M:function(){r=Ua;c.viewport(0,0,sa,ma);c.framebufferTexture2D(ya.Dd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,za,0)},qe:y.qe,Wn:function(ea,ra){sa=ea;ma=ra},resize:function(ea,ra){Ua.Wn(ea,ra);z()},clone:function(ea){ea=y.instance({width:sa,height:ma,S:Q.S,isFloat:Q.isFloat,isLinear:Q.isLinear,isMirrorY:Q.isMirrorY,isFlipY:ea?!rb:rb,isPot:Q.isPot});tb.set("s0");ya.$();ea.o();c.viewport(0,0,sa,ma);Ua.h(0);X.l(!0,!0);return ea},Vc:function(){c.viewport(0,0,sa,ma)},remove:function(){c.deleteTexture(za);
Y=!0;t.splice(t.indexOf(Ua),1);Ua=null},refresh:function(){Ua.Ha(0);rb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);P?c.texImage2D(c.TEXTURE_2D,0,cb,Ea,Oa,Q.ja):c.texImage2D(c.TEXTURE_2D,0,cb,sa,ma,0,Ea,Oa,la);rb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Vi:function(){na||W();c.readPixels(0,0,sa,4*ma,c.RGBA,c.UNSIGNED_BYTE,Ca);O();return da},sn:function(){na||W();return Ga.mg(0,0,sa,4*ma,Ca).then(function(){O();return da})},un:function(){Vb||ba();c.readPixels(0,0,sa,ma,c.RGBA,c.UNSIGNED_BYTE,ka);return hc},
tn:function(){Vb||ba();return Ga.mg(0,0,sa,ma,ka)},xh:function(ea){ya.ba();Z.set("s15");Ua.h(0);if(ea)c.viewport(0,0,sa,ma),Z.io("u15",.25,.25,.25,.25),X.l(!1,!0);else for(ea=0;4>ea;++ea)c.viewport(0,ma*ea,sa,ma),Z.xa("u15",g[ea]),X.l(!1,0===ea)},Tg:function(ea){var ra;if(ra=Oa===v[0])null!==I.Bf?ra=I.Bf:(ra=e(new Uint8Array([127,127,127,127]),!1),ra=null===ra?!0:I.Bf=ra),ra=!ra;a(za);rb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);ra?(ha||(D=document.createElement("canvas"),D.width=sa,D.height=ma,R=
D.getContext("2d"),R.createImageData(sa,ma),ha=!0),null.data.set(ea),R.putImageData(null,0,0),c.texImage2D(c.TEXTURE_2D,0,cb,Ea,Oa,D)):c.texImage2D(c.TEXTURE_2D,0,cb,sa,ma,0,Ea,Oa,ea);n[k]=ia;rb&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Hq:function(ea,ra){a(za);ra&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);c.texImage2D(c.TEXTURE_2D,0,cb,Ea,Oa,ea);n[k]=ia;ra&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},bc:function(ea,ra){var ab=sa*ma,Ja=4*ab;ea=Q.S?ea?"RGBE":"JSON":"RGBA";ra&&(ea=ra);ra=Ga.ka()&&!1;var Za=
null;switch(ea){case "RGBE":Za="s13";break;case "JSON":Za=ra?"s0":"s15";break;case "RGBA":case "RGBAARRAY":Za="s7"}na||("RGBA"===ea||"RGBE"===ea||"RGBAARRAY"===ea?(ca=new Uint8Array(Ja),na=!0):"JSON"!==ea||ra||W());ya.ba();Z.set(Za);Ua.h(0);Ja=null;if("RGBA"===ea||"RGBE"===ea||"RGBAARRAY"===ea){c.viewport(0,0,sa,ma);X.l(!0,!0);c.readPixels(0,0,sa,ma,c.RGBA,c.UNSIGNED_BYTE,ca);if("RGBAARRAY"===ea)return{data:ca};h||(B=document.createElement("canvas"),L=B.getContext("2d"),h=!0);B.width=sa;B.height=
ma;ab=L.createImageData(sa,ma);ab.data.set(ca);L.putImageData(ab,0,0);Ja=B.toDataURL("image/png")}else if("JSON"===ea)if(ra)Ja=new Float32Array(ab),c.viewport(0,0,sa,ma),X.l(!0,!0),c.readPixels(0,0,sa,ma,c.RGBA,c.FLOAT,Ja);else{for(Ja=0;4>Ja;++Ja)c.viewport(0,ma*Ja,sa,ma),Z.xa("u15",g[Ja]),X.l(!Ja,!Ja);Ua.Vi();Ja=Array(ab);for(ra=0;ra<ab;++ra)Ja[4*ra]=da[0][ra],Ja[4*ra+1]=da[1][ra],Ja[4*ra+2]=da[2][ra],Ja[4*ra+3]=da[3][ra]}return{format:ea,data:Ja,width:sa,height:ma,isMirrorY:Q.isMirrorY,isFlipY:"RGBA"===
ea?Q.isFlipY:!Q.isFlipY}}};Q.isMipmap&&!Bb&&Fa&&!Qb&&(Ua.zd(),Qb=!0);if(Q.url)a(za),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),wa=new Image,wa.tp="Anonymous",wa.crossOrigin="Anonymous",wa.src=Q.url,wa.onload=function(){sa=wa.width;ma=wa.height;z()};else if(Q.ja){var Mb=function(){N();sa?z():setTimeout(Mb,1)};Mb()}else Q.array?(Q.S&&!Q.isFloat?Q.array instanceof Uint16Array?(la=Q.array,z()):d()?(la=b(Q.array),z()):(z(),y.Lh(c,za,Ua.O(),Ua.Y(),Q.array,rb,!0)):(la=Q.isFloat?
Q.array instanceof Float32Array?Q.array:new Float32Array(Q.array):Q.array instanceof Uint8Array?Q.array:new Uint8Array(Q.array),z()),Q.isKeepArray||(la&&la!==Q.array&&(la=null),delete Q.array)):Q.Zh?Fa=!0:z();Ua.Pp=Ua.O;Q.B&&Fa&&(Q.B(Ua),Q.B=null);t.push(Ua);return Ua},ba:function(F){F!==k&&(c.activeTexture(m[F]),k=F);n[F]=-1;a(null)},Hk:function(F){q.random.h(F)},qe:function(){r=null;c.framebufferTexture2D(ya.Dd(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},reset:function(){0!==k&&c.activeTexture(m[0]);
for(var F=0;F<m.length;++F)n[F]=-1;k=-1},kq:function(){k=-1},Ij:function(){for(var F=0;F<m.length;++F)y.ba(F)},L:function(){q&&(q.random.remove(),q.Gj.remove())},Xc:function(F,N){if("RGBA"===F.format||"RGBE"===F.format){var w=new Image;w.src=F.data;w.onload=function(){y.instance({isMirrorY:F.isMirrorY,isFlipY:F.isFlipY,isFloat:!1,ja:w,B:function(z){if("RGBA"===F.format)N(z);else{var O=F.width,W=F.height,ba=y.instance({isMirrorY:F.isMirrorY,isFloat:!0,width:O,height:W,isFlipY:F.isFlipY});ya.$();c.viewport(0,
0,O,W);Z.set("s14");ba.o();z.h(0);X.l(!0,!0);y.ba(0);N(ba);Ga.flush();setTimeout(z.remove,50)}}})}}else"JSON"===F.format?N(y.instance({isFloat:!0,isFlipY:F.isFlipY,width:F.width,height:F.height,array:new Float32Array(F.data)})):N(!1)},Vk:b,v:function(){r&&(ya.$(),y.qe(),ya.ba());y.Ij();t.slice(0).forEach(function(F){F.remove()});t.splice(0);H=!1;x=0;"undefined"!==typeof Ib&&Ib.v();q=null}};return y}(),Jc={instance:function(a){var b=[aa.instance(a),aa.instance(a)],d=[b[1],b[0]],e=d,k={jj:function(m){e[1].o();
e[0].h(m);k.vj()},Rn:function(m){e[1].M();e[0].h(m);k.vj()},vj:function(){e=e===b?d:b},refresh:function(){e[0].refresh();e[1].refresh()},h:function(m){e[0].h(m)},Ha:function(m){e[0].Ha(m)},Gk:function(m){e[1].h(m)},Kp:function(){return e[0]},Np:function(){return e[1]},Tg:function(m){e[0].Tg(m);e[1].Tg(m)},remove:function(){e[0].remove();e[1].remove();e=null},sync:function(){k.Rn(0);Z.set("s0");X.l(!1,!1)}};return k}},X=function(){function a(q){var r={ia:null,indices:null};r.ia=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,
r.ia);q.bufferData(q.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),q.STATIC_DRAW);r.indices=q.createBuffer();q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,r.indices);q.bufferData(q.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),q.STATIC_DRAW);return r}var b=null,d=0,e=!1,k=[],m=-2,x=-2,n={reset:function(){x=m=-2},m:function(){e||(b=a(c),n.kd(),e=!0)},instance:function(q){var r=d++,v=q.indices?q.indices.length:0,G="undefined"===typeof q.mode?c.STATIC_DRAW:q.mode,A=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,
A);c.bufferData(c.ARRAY_BUFFER,q.ia instanceof Float32Array?q.ia:new Float32Array(q.ia),G);m=r;var H=null,t=null,f=null;if(q.indices){H=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,H);var h=null;65536>q.indices.length?(h=Uint16Array,t=c.UNSIGNED_SHORT,f=2):(h=Uint32Array,t=c.UNSIGNED_INT,f=4);h=q.indices instanceof h?q.indices:new h(q.indices);c.bufferData(c.ELEMENT_ARRAY_BUFFER,h,G);x=r}var B={yc:function(L){m!==r&&(c.bindBuffer(c.ARRAY_BUFFER,A),m=r);L&&tb.ge()},Dk:function(){x!==r&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,
H),x=r)},bind:function(L){B.yc(L);B.Dk()},U:function(){c.drawElements(c.TRIANGLES,v,t,0)},Ia:function(L,g){c.drawElements(c.TRIANGLES,L,t,g*f)},remove:function(){c.deleteBuffer(A);q.indices&&c.deleteBuffer(H);B=null}};k.push(B);return B},kd:function(){-1!==m&&(c.bindBuffer(c.ARRAY_BUFFER,b.ia),m=-1);-1!==x&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.indices),x=-1)},l:function(q,r){q&&X.kd();r&&tb.ec();c.drawElements(c.TRIANGLES,3,c.UNSIGNED_SHORT,0)},Nb:function(q){q=q||c;var r=a(q);q.bindBuffer(q.ARRAY_BUFFER,
r.ia);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,r.indices);tb.fc(q);q.clear(q.COLOR_BUFFER_BIT);q.drawElements(q.TRIANGLES,3,q.UNSIGNED_SHORT,0);q.flush();q.bindBuffer(q.ARRAY_BUFFER,null);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,null);q.deleteBuffer(r.ia);q.deleteBuffer(r.indices);n.reset();e&&(n.kd(),tb.ec())},L:function(){var q=c,r=b;q.deleteBuffer(r.ia);q.deleteBuffer(r.indices)},v:function(){n.L();k.forEach(function(q){q.remove()});c.bindBuffer(c.ARRAY_BUFFER,null);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);
n.reset();e=!1;k.splice(0);d=0}};return n}(),ya=function(){var a=null,b=null,d=null,e=!1,k=[],m={ma:-2,Kh:1},x={Yb:function(){return e},m:function(){if(!e){a=c.createFramebuffer();var n=Ga.ka();b=n&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER;d=n&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:c.FRAMEBUFFER;e=!0}},Kl:function(){return b},Rh:function(){return d},Dd:function(){return c.FRAMEBUFFER},Op:function(){return m},Dp:function(){return a},instance:function(n){void 0===n.Hc&&(n.Hc=!1);var q=n.la?
n.la:null,r=n.width,v=void 0!==n.height?n.height:n.width,G=a,A=null,H=!1,t=!1,f=0;q&&(r=r?r:q.O(),v=v?v:q.Y());var h={dj:function(){H||(G=c.createFramebuffer(),H=!0,f=m.Kh++)},ed:function(){h.dj();h.o();A=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,A);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,r,v);c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,A);c.clearDepth(1)},bind:function(B,L){f!==m.ma&&(c.bindFramebuffer(b,G),m.ma=f);q&&q.o();L&&c.viewport(0,0,r,v);
B&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},hh:function(){f!==m.ma&&(c.bindFramebuffer(b,G),m.ma=f)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Qe:function(){c.clear(c.COLOR_BUFFER_BIT)},mh:function(){c.clear(c.DEPTH_BUFFER_BIT)},Vc:function(){c.viewport(0,0,r,v)},o:function(){f!==m.ma&&(c.bindFramebuffer(b,G),m.ma=f)},rtt:function(B){q=B;m.ma!==f&&(c.bindFramebuffer(c.FRAMEBUFFER,G),m.ma=f);B.o()},ba:function(){c.bindFramebuffer(b,null);m.ma=-1},resize:function(B,L){r=
B;v=L;A&&(c.bindRenderbuffer(c.RENDERBUFFER,A),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,r,v))},remove:function(){G===a||t||(c.bindFramebuffer(b,G),c.framebufferTexture2D(b,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),A&&c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,null),c.bindFramebuffer(b,null),c.deleteFramebuffer(G),A&&c.deleteRenderbuffer(A));t=!0}};n.Hc&&h.ed();k.push(h);return h},ba:function(){c.bindFramebuffer(b,null);m.ma=-1},Fq:function(){c.bindFramebuffer(b,null);
c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);Ga.sj();m.ma=-1},reset:function(){m.ma=-2},$:function(){0!==m.ma&&(c.bindFramebuffer(b,a),m.ma=0)},clear:function(){Ga.sj();c.clear(c.COLOR_BUFFER_BIT)},v:function(){x.ba();k.forEach(function(n){n.remove()});null!==a&&(c.deleteFramebuffer(a),a=null);x.reset();e=!1;k.splice(0);m.Kh=1}};return x}(),Ga=function(){function a(){n="undefined"===typeof kb?fa:kb;q=!0}function b(g,p){for(var l=0;l<g.length;++l){var C=p.getExtension(g[l]);if(C)return C}return null}
function d(){null!==h.pe&&(clearTimeout(h.pe),h.pe=null);h.Tb=!1}function e(g){if(0===h.ub.length){h.za=c.PIXEL_PACK_BUFFER;h.ub.splice(0);h.Ed.splice(0);for(var p=0;p<h.Ac;++p)h.ub.push(c.createBuffer()),h.Ed.push(-1);h.Sa=0;h.ag=0}c.bindBuffer(h.za,h.ub[h.Sa]);g.byteLength!==h.Ed[h.Sa]&&(c.bufferData(h.za,g.byteLength,c.STREAM_READ),h.Ed[h.Sa]=g.byteLength);h.Up=!0}function k(){c.bindBuffer(h.za,null)}function m(){h.Qb.forEach(function(g){c.deleteSync(g)});h.Qb.splice(0)}function x(){h.Sa=(h.Sa+
1)%h.Ac;++h.ag}var n=null,q=!1,r={ji:!1,Lg:null,Mg:null,pi:!1,Dm:!1,Ng:null,ri:!1,Og:null,ki:!1,Re:null,um:!1,Se:null,vm:!1},v=null,G={Ua:!0,Wa:!0,gf:!0,Ui:!1},A=null,H=!0,t=null,f=null,h={Wk:1,Ac:-1,Sa:0,ag:0,Tb:!1,ub:[],Qb:[],Ed:[],za:null,pe:null},B="undefined"===typeof window?{}:window,L={m:function(){if(q)return!0;L.reset();q||a();var g=c;if(!v.ji){v.Lg=L.Hh(g);B.GL_EXT_FLOAT=v.Lg;v.pi=v.Lg?!0:!1;if(v.pi||L.ka())v.Mg=L.Ih(g),v.Dm=v.Mg?!0:!1,B.GL_EXT_FLOATLINEAR=v.Mg;v.ji=!0}if(!v.ki){v.Ng=L.vd(g);
v.Ng&&(v.ri=!0,B.GL_EXT_HALFFLOAT=v.Ng);if(v.ri||L.ka())v.Og=L.Jh(g),B.GL_EXT_HALFFLOATLINEAR=v.Og;v.Wp=v.Og?!0:!1;v.ki=!0}v.Re=L.Fh(g);v.um=v.Re?!0:!1;B.GL_EXT_COLORBUFFERFLOAT=v.Re;v.Se=L.Gh(g);v.vm=v.Se?!0:!1;B.GL_EXT_COLORBUFFERHALFFLOAT=v.Se;ya.m();aa.m();if(!L.gl())return!1;X.m();aa.om();return!0},reset:function(){v=Object.assign({},r);A=Object.assign({},G)},O:function(){q||a();return n.O()},Y:function(){q||a();return n.Y()},ka:function(){q||a();return n.ka()},Eh:function(g){L.Fh(g);L.Gh(g);
L.Hh(g);L.Ih(g);L.vd(g);L.Jh(g)},Fh:b.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),Gh:b.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),Hh:b.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),Ih:b.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),vd:b.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float",
"WEBKIT_OES_texture_half_float"]),Jh:b.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),mf:function(g){var p=L.vd(g);return p&&p.HALF_FLOAT_OES?p.HALF_FLOAT_OES:g.HALF_FLOAT||g.FLOAT},Ll:function(){return f||c.RGBA32F||c.RGBA},Ml:function(){return t||c.RGBA16F||c.RGBA},Fl:function(){return A},fa:function(){return A.Ua},op:function(){return A.Wa},Ok:function(){return A.gf},Rk:function(){return A.Ui&&H},Fj:function(g){H=g;!g&&h.Tb&&
(m(),c.bindBuffer(h.za,null),h.Tb=!1)},Zp:function(){return h.Tb},me:function(g,p,l){function C(){g.bindTexture(g.TEXTURE_2D,null);g.bindFramebuffer(K,null);g.deleteTexture(F);g.deleteFramebuffer(y)}var K=g.FRAMEBUFFER,I=g.NEAREST,y=g.createFramebuffer();g.bindFramebuffer(K,y);var F=g.createTexture();g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,F);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,!1);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,
g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,I);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,I);g.texImage2D(g.TEXTURE_2D,0,p,3,3,0,g.RGBA,l,null);g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,F,0);if(g.checkFramebufferStatus(g.READ_FRAMEBUFFER||g.FRAMEBUFFER)!==g.FRAMEBUFFER_COMPLETE)return C(),!1;tb.de(g);g.clearColor(0,0,0,0);g.viewport(0,0,3,3);g.disable(g.DEPTH_TEST);g.clear(g.COLOR_BUFFER_BIT);X.Nb(g);g.bindFramebuffer(K,null);tb.zb(g);g.activeTexture(g.TEXTURE0);
g.bindTexture(g.TEXTURE_2D,F);X.Nb(g);p=new Uint8Array(36);g.readPixels(0,0,3,3,g.RGBA,g.UNSIGNED_BYTE,p);C();for(l=0;36>l;++l)if(3!==l%4&&3<Math.abs(p[l]-127))return!1;return!0},Ze:function(g){var p={Ua:!1,Wa:!1};g.disable(g.BLEND);g.clearColor(0,0,0,0);g.clear(g.COLOR_BUFFER_BIT);g.RGBA32F&&L.me(g,g.RGBA32F,g.FLOAT)&&(p.Ua=!0,f=g.RGBA32F);!p.Ua&&L.me(g,g.RGBA,g.FLOAT)&&(p.Ua=!0,f=g.RGBA);var l=L.mf(g);t=null;g.RGBA16F&&L.me(g,g.RGBA16F,l)&&(p.Wa=!0,t=g.RGBA16F);!p.Wa&&L.me(g,g.RGBA,l)&&(p.Wa=!0,
t=g.RGBA);return p},il:function(){var g=ya.instance({width:2});g.dj();var p=aa.instance({width:2,isFloat:!0,G:3});g.o();p.o();L.flush();c.checkFramebufferStatus(ya.Rh())!==c.FRAMEBUFFER_COMPLETE?(aa.bo(),A.gf=!1):A.gf=!0;g.remove();p.remove()},jl:function(){var g=!1;L.ka()&&(g="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(p){return"undefined"!==typeof c[p]}));A.Ui=g},gl:function(){var g=L.Ze(c);Object.assign(A,g);
if(!A.Ua&&!A.Wa)return!1;L.il();L.jl();return!0},vn:function(g,p,l,C,K){c.readPixels(g,p,l,C,c.RGBA,c.UNSIGNED_BYTE,K);return Promise.resolve(K,!1)},mg:function(g,p,l,C,K,I,y){if(!L.Rk())return L.vn(g,p,l,C,K);h.Ac=y||h.Wk;e(K);c.readPixels(g,p,l,C,c.RGBA,c.UNSIGNED_BYTE,0);h.Qb[h.Sa]=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);L.flush();var F=!1;return new Promise(function(N,w){function z(){if(!h.Tb)return d(),k(),x(),w(),!1;var O=(h.Sa+1)%h.Ac;switch(c.clientWaitSync(h.Qb[O],0,0)){case c.TIMEOUT_EXPIRED:case c.WAIT_FAILED:break;
default:return d(),c.deleteSync(h.Qb[O]),h.Qb[O]=null,c.bindBuffer(h.za,h.ub[O]),c.getBufferSubData(h.za,0,K),k(),x(),N(K,F),!0}h.pe=setTimeout(z,0);return!1}d();h.ag+1<h.Ac?(k(),x(),N(K,!1)):(h.Tb=!0,z()||!I||F||(F=!0,I()))})},sj:function(){c.viewport(0,0,L.O(),L.Y())},flush:function(){c.flush()},v:function(){d();m();aa.v();ya.v();X.v();h.ub.forEach(function(g){c.deleteBuffer(g)});h.ub.splice(0);tb.reset();q=!1}};return L}(),Ib=function(){function a(l,C,K,I){h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,
I?h.NEAREST_MIPMAP_NEAREST:h.LINEAR);var y=null;if(null!==K)try{y=h.getError();if("FUCKING_BIG_ERROR"===y)return!1;h.texImage2D(h.TEXTURE_2D,0,l,4,4,0,h.RGBA,C,K);y=h.getError();if(y!==h.NO_ERROR)return!1}catch(F){return!1}I&&h.generateMipmap(h.TEXTURE_2D);h.clear(h.COLOR_BUFFER_BIT);X.Nb(h);y=h.getError();if("FUCKING_BIG_ERROR"===y)return!1;h.readPixels(0,0,2,2,h.RGBA,h.UNSIGNED_BYTE,v);y=h.getError();y===h.INVALID_OPERATION&&"undefined"!==typeof h.PIXEL_PACK_BUFFER&&(h.bindBuffer(h.PIXEL_PACK_BUFFER,
null),h.readPixels(0,0,2,2,h.RGBA,h.UNSIGNED_BYTE,v),y=h.getError());if(y!==h.NO_ERROR)return!1;K=!0;for(I=0;16>I;++I)K=K&&4>Math.abs(v[I]-127);K&&(q.Qi=C,q.hi=l);return K}function b(l,C){return B.Ua&&a(l,h.FLOAT,new Float32Array(G),C)?(n=x.eh,!0):!1}function d(l,C,K){if(!B.Wa)return!1;var I=aa.Vk(G),y=Ga.vd(h);if(y&&y.HALF_FLOAT_OES&&a(l,y.HALF_FLOAT_OES,I,C)||h.HALF_FLOAT&&a(l,h.HALF_FLOAT,I,C))return n=x.sc,!0;I=new Float32Array(G);if(a(l,h.FLOAT,I,C))return n=x.sc,!0;h.bindTexture(h.TEXTURE_2D,
K);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,2,2,0,h.RGBA,h.UNSIGNED_BYTE,null);h.bindFramebuffer(q.qd,p);aa.Lh(h,K,2,2,I,!1,!1);h.bindFramebuffer(q.qd,null);h.bindTexture(h.TEXTURE_2D,K);return a(l,null,null,C)?(n=x.sc,!0):!1}function e(l,C,K){r=!0;if(d(l,!0,K)||b(C,!0))return!0;r=!1;return d(l,!1,K)||b(C,!1)?!0:!1}function k(l){if(n===x.I){h=l||c;n=x.RGBA8;r=!0;Ga.Eh(h);B||(B=Ga.Ze(h));ya.reset();p=h.createFramebuffer();q.qd=h.DRAW_FRAMEBUFFER||h.FRAMEBUFFER;h.bindFramebuffer(q.qd,null);h.clearColor(0,
0,0,0);h.viewport(0,0,2,2);Z.I();L=Z.zb(h);l=h.createTexture();h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,l);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);g=l;var C=l=h.RGBA,K=h.RGBA16F,I=h.RGBA32F;I&&(l=I);K&&(C=K);if((K||I)&&e(C,l,g))return m(),!0;l=C=h.RGBA;if(e(C,l,g))return m(),!0;n=x.RGBA8;m();return!1}}function m(){h.deleteProgram(L.na);h.deleteTexture(g);
g=L=null}for(var x={I:-1,eh:3,sc:2,RGBA8:0},n=x.I,q={Qi:null,hi:null,qd:null},r=!0,v=new Uint8Array(16),G=Array(64),A=0;4>A;++A)for(var H=0;4>H;++H){var t=0===(H+A)%2?1:0,f=4*A+H;G[4*f]=t;G[4*f+1]=t;G[4*f+2]=t;G[4*f+3]=t}var h=null,B=null,L=null,g=null,p=null;return{Pk:function(l){k(l);return r},kh:function(l,C){n===x.I&&(typeof("undefined"!==C)&&(B=C),k(l));return n!==x.RGBA8},Xp:function(l){k(l);return n===x.eh},Gm:function(l){k(l);return n===x.sc},Jp:function(l){k(l);return q.Qi},Nl:function(l){k(l);
return q.hi},v:function(){h=null;r=!0;n=x.I;B=null}}}(),Wc={instance:function(a){function b(){A&&A.remove();A=aa.instance({isFloat:!1,isPot:!1,width:a.size*a.Aa[0],height:a.size*a.Aa[1]})}var d=null,e=!1,k=!1,m=null,x=!1,n=!1,q=null,r="undefined"===typeof a.preprocessing?!1:a.preprocessing,v="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(e=!0,J&&void 0!==J.ca&&(a.mask=J.ca+a.mask),d=aa.instance({isFloat:!1,url:a.mask}));var G=!1;a.customInputShader&&(G="s49",Z.oa({name:"_",
id:G,g:a.customInputShader,Gq:["uSource"],precision:"lowp"}),Z.j(G,[{type:"1i",name:"_",value:0}]));switch(r){case "sobel":q="s38";x=!0;break;case "meanNormalization":q="s39";x=!0;break;case "grayScale":q="s35";x=!1;break;case "grayScaleTilt":q="s36";n=!0;x=!1;break;case "rgbGrayTilt":q="s37";n=!0;x=!1;break;case "copy":q=G?G:"s0";break;case "inputLightRegulation":q=G?G:"s35";m=md.instance({gi:v,Ki:a.size,Gi:a.nBlurPass,Ba:!1});k=!0;break;case "inputMix0":q="none";m=nd.instance({Z:v,fb:a.varianceMin,
Ra:a.blurKernelSizePx,gain:a.gain||1,Ba:!1});k=!0;break;case "inputMix1":q="none";m=od.instance({Z:v,fb:a.varianceMin,Ra:a.blurKernelSizePx,gain:a.gain||1,Ba:!1});k=!0;break;case "inputCut4":q="none";m=pd.instance({Z:v,fb:a.varianceMin,Ra:a.blurKernelSizePx,gain:a.gain||1,Ic:a.isNormalized||!1,gg:a.overlap||0,Ba:!1});v*=m.Ol();k=!0;break;case "direct":case "none":q="abort";break;default:q="s4"}v=Math.ceil(v);n&&Z.j(q,[{name:"u29",type:"1f",value:a.tilt}]);e&&(q+="Mask");var A=null;b();var H={O:function(){return a.size},
Pl:function(){return v},pf:function(){return H.O()},Tl:function(){return k?m.Ec():A},re:function(t){a.Aa=t;b()},wa:function(t){ya.$();if("abort"===q)return t;"none"!==q&&(Z.set(q),x&&Z.H("u30",1/a.size),A.M(),e&&d.h(1),X.l(!1,!1),A.h(0),t=A);k&&m.process(t)},v:function(){A.remove();e&&d.remove()}};return H}},Xc={instance:function(a){function b(){if(p.kc){k.input&&(k.input.remove(),k.Id.remove());var C=a.size*a.sparsity;g=Math.log(C/a.size)/Math.log(2);k.input=aa.instance({isMipmap:!0,isFloat:!0,isPot:!0,
width:C*a.Aa[0],height:C*a.Aa[1],Vf:g});k.Id=aa.instance({isFloat:!0,isPot:!0,width:a.size*a.Aa[0],height:a.size*a.Aa[1]})}}function d(){k.wb&&k.wb.remove();k.wb=aa.instance({isFloat:!0,isPot:!x,isLinear:!x&&n.isLinear,width:a.size*a.Aa[0],height:a.size*a.Aa[1]})}function e(C){n.buffer.forEach(function(K,I){n.results[I][0]=C[0][K];n.results[I][1]=C[1][K];n.results[I][2]=C[2][K];n.results[I][3]=C[3][K]});return n.results}a.normalize=a.normalize||!1;var k={input:null,bias:null,Id:null,wb:null,fg:null,
dg:null,eg:null},m=null,x=!0,n={type:"undef",B:null,isLinear:!1,buffer:[],results:[]},q=-1,r=a.isReorganize?a.isReorganize:!1,v=a.kernelsCount?!0:!1,G=[a.Rb?"s31":"s30",a.Rb?"s33":"s32","s34"][a.shiftRGBAMode||0],A={isEnabled:!1},H=1/a.size;a.Am?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.$d.pf(),x=!1):"full"===a.connectivityUp&&(a.sparsity=a.$d.pf());var t={elu:"s18",elu01:"s19",relu:"s17",arctan:"s20",arctan2:"s21",sigmoid:"s16",copy:"s0"}[a.activation],f=a.sparsity*a.sparsity,h=!1,
B=a.size,L="";if(a.maxPooling){switch(a.maxPooling.size){case 2:L="s40";break;case 4:L="s41"}h=!0;B/=a.maxPooling.size;k.dg=aa.instance({isFloat:!0,isPot:!1,width:B})}var g=-1,p=null;x&&d();k.bias=aa.instance(a.bias);var l={O:function(){return a.size},pf:function(){return B},Oh:function(){return a.classesCount},Ek:function(C){m.h(C)},mn:function(){a.remap&&a.remap.isEnabled&&(A={isEnabled:!0,Um:aa.instance(a.remap.maskTexture),Mc:a.remap.layers.map(function(C){return a.parent.Ql(C)}),depth:a.remap.depth})},
co:function(){switch(a.connectivityUp){case "direct":p=qd.instance(a.connectivity);break;case "square":p=rd.instance(a.connectivity);break;case "squareFast":p=sd.instance(a.connectivity,a.activation);break;case "full":p=td.instance(Object.assign({Rb:a.Rb,Fc:a.Fc||[1,1]},a.connectivity));break;case "conv":q=a.kernelsCount,p=ud.instance(a.connectivity),r&&(k.fg=aa.instance({width:B,isFloat:!0,isFlipY:!1,isPot:!1}))}b()},wa:function(C,K){m=C;p.kc?(k.input.M(),v&&k.bias.h(2),p.wa(A),k.input.h(0),k.input.Cl(g),
k.Id.M(),v?Z.set("s0"):(Z.set(G),Z.H("u4",f),k.bias.h(1)),k.input.Fk(g,0),X.l(!1,!1),Z.set(t),k.wb.o(),k.Id.h(0),X.l(!1,!1)):(k.wb.M(),k.bias.h(1),p.wa());if(x)return K=k.wb,h&&(k.dg.M(),K.h(0),Z.set(L),Z.N("u14",H,H),X.l(!1,!1),K=k.dg),r&&(k.fg.o(),Z.set("s23"),Z.N("u18",q,B/q),K.h(0),X.l(!1,!1),K=k.fg),K.h(0),K;var I=k.wb;a.normalize&&(C=I,Z.set("gpuRawAvg"===n.type?"s9":"s8"),Z.H("u10",H),k.eg.M(),C.h(0),X.l(!1,!1),I=k.eg);C=null;switch(n.type){case "cpuRGBA2Float":I.xh(!1);K?C=l.qn(I).then(n.B):
(I=l.rn(I),n.B(I));break;case "cpuMeanFloat":I.xh(!0);if(K)C=I.tn().then(n.B);else{I=I.un();for(var y=0;y<I.length;++y);n.B(I)}break;case "gpuRawAvg":case "gpuRaw":I.h(0);case "none":null!==n.B&&n.B(I)}K&&null===C&&(C=Promise.resolve());return C},re:function(C){a.Aa=C;b();d()},mo:function(C){C&&(n.type=C.Vd||"none",n.B=C.Ud||null,n.isLinear=C.cg?!0:!1);d();C="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var K=0,I=0,y=0;K<C;++K)n.buffer.push(I+(a.size-1-y)*a.size),
n.results.push([-1,-1,-1,-1]),++I,I===a.size&&(I=0,++y);a.normalize&&(k.eg=aa.instance({isFloat:!0,isPot:!0,width:a.size}))},qn:function(C){return C.sn().then(e)},rn:function(C){C=C.Vi();e(C);return n.results},v:function(){for(var C in k){var K=k[C];K&&K.remove()}p&&(p.v(),p=null)}};a.$d&&l.co(a.$d);return l}},qd={instance:function(a){var b=aa.instance(a.weights);return{kc:!0,Cd:function(){return 1},v:function(){b.remove()},hm:function(){return b},wa:function(){Z.set("s29");b.h(1);X.l(!1,!1)}}}},
td={instance:function(a){var b=a.fromLayerSize,d=aa.instance(a.weights),e=a.Rb?"s26":"s25";return{kc:!0,Cd:function(){return b},v:function(){d.remove()},wa:function(k){if(k.isEnabled){Z.set("s27");k.Um.h(3);for(var m=Math.min(k.Mc.length,k.depth),x=0;x<m;++x)k.Mc[x].Ek(4+x)}else Z.set(e);a.Rb&&Z.fe("u21",a.Fc);Z.H("u8",a.toLayerSize);Z.H("u9",a.fromLayerSize);d.h(1);X.l(!1,!1)}}}},rd={instance:function(a){for(var b=a.fromLayerSize,d=a.toLayerSize,e=a.toSparsity,k=e*d,m=k/b,x=b/d,n=0,q=0,r=0,v=Array(e*
d*e*d*4),G=Array(e*d*e*d*4),A=Array(b*b),H=0;H<A.length;++H)A[H]=0;H=Math.floor(e/2);for(var t=.5/d,f=.5/b,h=.5/k,B=0;B<d;++B)for(var L=Math.round(B*x),g=0;g<d;++g){var p=Math.round(g*x),l=B/d,C=g/d;l+=t;C+=t;for(var K=0;K<e;++K){var I=L+K-H;0>I&&(I+=b);I>=b&&(I-=b);for(var y=0;y<e;++y){var F=n/k,N=q/k,w=p+y-H;0>w&&(w+=b);w>=b&&(w-=b);var z=I/b,O=w/b;N=1-N-1/k;z+=f;O+=f;F+=h;N+=h;var W=B*e+K,ba=g*e+y;ba=d*e-ba-1;W=ba*d*e+W;v[4*W]=F;v[4*W+1]=N;v[4*W+2]=z;v[4*W+3]=O;O=A[w*b+I]++;W=O%m;z=I*m+W;w=w*m+
(O-W)/m;w=b*m-1-w;w=w*b*m+z;G[4*w]=F;G[4*w+1]=N;G[4*w+2]=l;G[4*w+3]=C;++n>=k&&(n=0,++q);++r}}}A=null;var ka=aa.instance(a.weights);delete a.weights.data;var Q=aa.instance({width:k,isFloat:!0,array:new Float32Array(G),isPot:!0});G=null;var ia=aa.instance({width:k,isFloat:!0,array:new Float32Array(v),isPot:!0});v=null;return{kc:!0,Cd:function(){return m},v:function(){Q.remove();ia.remove();ka.remove()},wa:function(){Z.set("s24");ka.h(1);ia.h(2);X.l(!1,!1)}}}},ud={instance:function(a){var b=a.kernelsCount,
d=a.toSparsity,e=d*a.toLayerSize/a.fromLayerSize,k=a.inputScale||[1,1],m=aa.instance(a.weights);return{kc:!0,Cd:function(){return e},Rp:function(){return d},hm:function(){return m},v:function(){m.remove()},wa:function(){Z.set("s28");Z.fe("u28",k);Z.H("u26",b);Z.H("u27",d);Z.H("u8",a.toLayerSize);Z.H("u9",a.fromLayerSize);m.h(1);X.l(!1,!1)}}}},sd={instance:function(a,b){var d=a.fromLayerSize,e=a.toLayerSize,k=a.toSparsity,m=a.stride?a.stride:1,x=k*e/d,n=e<d,q=d/e,r=aa.instance(a.weights),v="s50"+[d.toString(),
e.toString(),k.toString(),m.toString(),b].join("_");Z.zl(v)||(a=Ya(b),e=[{type:"1f",name:"u8",value:e},{type:"1f",name:"u32",value:m}],n&&e.push({type:"1f",name:"u9",value:d}),d=[(n?x:k).toFixed(1),a],n&&d.push(q.toFixed(1)),Z.qm(n?"s46":"s45",v,d),Z.j(v,e.concat([{type:"1i",name:"u6",value:0},{type:"1i",name:"u3",value:1},{type:"1i",name:"u7",value:3}])));return{kc:!1,Cd:function(){return x},v:function(){r.remove()},wa:function(){Z.set(v);r.h(3);X.l(!1,!1)}}}},md={instance:function(a){var b=a.Gi?
a.Gi:3,d=a.gi?a.gi:64,e=a.Ki?a.Ki:64,k=a.Ba?!0:!1;a={isFloat:!1,width:d,isPot:!1,isFlipY:!1};var m=aa.instance(a),x=aa.instance(a),n=aa.instance(a),q=aa.instance(a),r=aa.instance({isFloat:!0,width:e,isPot:!1,isFlipY:!1}),v=1/d;return{process:function(G){Z.set("s42");q.o();X.l(k,!1);Z.set("s43");for(var A=0;A<b;++A)m.o(),Z.N("u14",v,0),X.l(k,!1),n.o(),q.h(0),X.l(k,!1),x.o(),m.h(0),Z.N("u14",0,v),X.l(k,!1),q.o(),n.h(0),X.l(k,!1),A!==b-1&&x.h(0);Z.set("s44");r.o();G.h(0);x.h(1);q.h(2);X.l(k,!1);r.h(0)},
Ec:function(){return r}}}},nd={instance:function(a){function b(v){return aa.instance({isFloat:v,width:d.Z,isPot:!1,isFlipY:!1})}var d=Object.assign({fb:.1,Ra:9,Z:128,gain:1,Ba:!1},a),e=b(!1),k=[b(!1),b(!1),b(!1)],m=[b(!1),b(!1),b(!1)],x=b(!0),n=[e,m[0],m[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((d.Ra-1)/2).toFixed(2)).replace("2.2222",(1/d.Z).toFixed(6));var q="uniform sampler2D u34,u35,u36,u37;const float f=1.1111;const vec3 g=vec3(1.);const float h=2.2222;varying vec2 vv0;void main(){vec3 a=texture2D(u34,vv0).rgb;float c=texture2D(u35,vv0).r,d=texture2D(u36,vv0).r,i=texture2D(u37,vv0).r,j=a.r*a.r;vec3 b=vec3(c,d,i),k=max(g*f,abs(vec3(j)-b*b)),l=sqrt(k);gl_FragColor=vec4(a.r,h*(a-b)/l);}".replace("1.1111",d.fb.toFixed(4)).replace("2.2222",d.gain.toFixed(4)),r={u1:0};Z.uc([{id:"s52",
name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",s:r,i:["u1"],precision:"lowp"},{id:"s53",name:"_",g:a,s:r,i:["u1","u33"],precision:"lowp"},{id:"s54",name:"_",g:q,s:{u34:0,u35:1,u36:2,u37:3},i:["u34","u35","u36","u37"],precision:"highp"}]);return{process:function(){Z.set("s52");e.M();X.l(d.Ba,!1);Z.set("s53");for(var v=0;3>v;++v)Z.N("u33",1,0),k[v].o(),n[v].h(0),
X.l(!1,!1),Z.N("u33",0,1),m[v].o(),k[v].h(0),X.l(!1,!1);Z.set("s54");x.o();e.h(0);m[0].h(1);m[1].h(2);m[2].h(3);X.l(!1,!1);x.h(0)},Ec:function(){return x}}}},od={instance:function(a){function b(r){return aa.instance({isFloat:r,width:d.Z,isPot:!1,isFlipY:!1})}var d=Object.assign({fb:.1,Ra:9,Z:128,gain:1,Ba:!1},a),e=b(!1),k=b(!1),m=b(!1),x=b(!0);a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){vec3 b=vec3(0.);float c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).rgb,c+=f;}b/=c,gl_FragColor=vec4(b,1.);}".replace("1.1111",
Math.round((d.Ra-1)/2).toFixed(2)).replace("2.2222",(1/d.Z).toFixed(6));var n="uniform sampler2D u0,u38;const float f=1.1111;const vec3 g=vec3(1.);const float h=2.2222;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);vec3 c=texture2D(u38,vv0).rgb;float d=a.a*a.a;vec3 b=c.rgb,i=max(g*f,abs(vec3(d)-b*b)),j=sqrt(i);gl_FragColor=vec4(a.a,h*(a.rgb-b)/j);}".replace("1.1111",d.fb.toFixed(4)).replace("2.2222",d.gain.toFixed(4)),q={u1:0};Z.uc([{id:"s55",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.);void main(){vec3 a=texture2D(u1,vv0).rgb;float b=dot(a,f);gl_FragColor=vec4(a.rgb,b);}",
s:q,i:["u1"],precision:"lowp"},{id:"s56",name:"_",g:a,s:q,i:["u1","u33"],precision:"lowp"},{id:"s57",name:"_",g:n,s:{u0:0,u38:1},i:["u0","u38"],precision:"highp"}]);return{process:function(){Z.set("s55");e.M();X.l(d.Ba,!1);Z.set("s56");Z.N("u33",1,0);k.o();e.h(0);X.l(!1,!1);Z.N("u33",0,1);m.o();k.h(0);X.l(!1,!1);Z.set("s57");x.o();e.h(0);m.h(1);X.l(!1,!1);x.h(0)},Ec:function(){return x}}}},pd={instance:function(a){function b(v){return aa.instance({isFloat:v,width:d.Z,isPot:!1,isFlipY:!1})}var d=Object.assign({fb:.1,
Ra:9,Z:128,gain:1,gg:0,Ic:!1,Ba:!1},a),e=b(!1),k=null,m=null,x=null;d.Ic&&(k=b(!1),m=b(!1),x=b(!0));a={u1:0};var n=[{id:"s58",name:"_",g:"uniform sampler2D u1;const float f=1.1111;varying vec2 vv0;const vec3 e=vec3(.2126,.7152,.0722);void main(){vec2 a=vv0*.5*(f+1.);float b=.5*(1.-f),c=dot(texture2D(u1,a).rgb,e),d=dot(texture2D(u1,a+vec2(0.,b)).rgb,e),h=dot(texture2D(u1,a+vec2(b,0.)).rgb,e),i=dot(texture2D(u1,a+vec2(b,b)).rgb,e);gl_FragColor=vec4(c,d,h,i);}".replace("1.1111",d.gg.toFixed(4)),s:a,
i:["u1"],precision:"lowp"}];if(d.Ic){var q="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){vec4 b=vec4(0.);float c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j),c+=f;}gl_FragColor=b/c;}".replace("1.1111",Math.round((d.Ra-1)/2).toFixed(2)).replace("2.2222",(1/d.Z).toFixed(6)),r="uniform sampler2D u0,u38;const float f=1.1111;const vec4 g=vec4(1.);const float h=2.2222;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u38,vv0),d=a*a,b=c,i=max(g*f,abs(d-b*b)),j=sqrt(i);gl_FragColor=h*(a-b)/j;}".replace("1.1111",
d.fb.toFixed(4)).replace("2.2222",d.gain.toFixed(4));n.push({id:"s59",name:"_",g:q,s:a,i:["u1","u33"],precision:"lowp"},{id:"s60",name:"_",g:r,s:{u0:0,u38:1},i:["u0","u38"],precision:"highp"})}Z.uc(n);return{process:function(){Z.set("s58");e.M();X.l(d.Ba,!1);d.Ic?(Z.set("s59"),Z.N("u33",1,0),k.o(),e.h(0),X.l(!1,!1),Z.N("u33",0,1),m.o(),k.h(0),X.l(!1,!1),Z.set("s60"),x.o(),e.h(0),m.h(1),X.l(!1,!1),x.h(0)):e.h(0)},Ol:function(){return 2-d.gg},Ec:function(){return d.Ic?x:e}}}},Gb=function(){function a(f,
h,B,L,g,p,l){if(!H)if(l===p.length)g();else{switch(p[l]){case "A":B();break;case "D":f();break;case "S":h().then(function(C,K){t.Ej();a(f,h,B,K?null:L,g,p,++l)}).catch(function(C){console.log("An error occurred in the WebAR loop: ",C);g()});return;case "R":L&&L()}a(f,h,B,L,g,p,++l)}}var b={n:5,$f:1,yi:0,yd:[35,49],ud:[2,200],k:.7,Co:200,fn:.05},d=-1,e=null,k=-1,m=-1,x=0,n=-1,q=-1,r=0,v=0,G=b.ud[1],A=Math.log(2),H=!0,t={V:function(){switch(d){case -1:return-1;case 0:return q+e.yi;case 1:return r}},
Ph:function(f){return Math.pow(Math.min(Math.max(n,0),e.n-1)/(e.n-1),f||1)},m:function(f){e=Object.assign({},b,f);n=q=e.$f;d=0;t.reset()},Ej:function(f){f=("undefined"===typeof f?Date.now():f)||0;var h=Math.min(Math.max(f-v,e.ud[0]),e.ud[1]);G=h;v=f;var B=-1===k?0:e.k;k=Math.min(Math.max(1E3/h,5),120)*(1-B)+k*B;f-m>e.Co&&5<++x&&(h=e.k,n=n*(1-h)+(k<e.yd[0]?q-1:k>e.yd[1]?q+1:q)*h,Math.abs(n-q)>1-e.fn&&(h=Math.min(Math.max(Math.round(n),0),e.n-1),h!==q&&(n=q=h,k=(e.yd[1]-e.yd[0])/2)),m=f)},og:function(f,
h,B,L,g,p){H=!1;a(f,h,B,L,g,p,0)},stop:function(){H=!0},Yn:function(f){r=f;d=1},Bo:function(){d=0;t.reset()},reset:function(){G=b.ud[1];m=k=-1;x=0},Aq:function(f,h,B){B=Math.exp(-A*G/B);return(1-B)*f+B*h},Ip:function(){return G}};return t}(),Kc=function(){function a(G,A){var H=G[0]-.5;G=G[1]-.5;var t=A[0]-.5;A=A[1]-.5;return H*H+G*G-(t*t+A*A)}var b={Hi:4,Wd:[1.5,1.5,2],qa:[.1,.1,.1],bj:1,Z:-1,zf:-1,vo:2,cn:1,pg:!0,xl:.8},d=null,e=[],k=[],m=[],x=[0],n=[.5,.5,1],q=null,r=0,v=[0,0,0];return{m:function(G){d=
Object.assign({},b,G);e.splice(0);k.splice(0);m.splice(0);r=0;G=d.Wd[0]*d.qa[0];var A=d.Wd[1]*d.qa[1],H=1/(1+d.Wd[2]*d.qa[2]),t=d.bj*Math.min(d.Z,d.zf),f=t/d.Z;t/=d.zf;var h=.5*d.xl;h*=h;for(var B=0;B<d.Hi;++B){var L=[];k.push(L);var g=Math.pow(H,B),p=f*g,l=t*g;g=p*d.cn;m.push(g);var C=p*G,K=l*A;p/=2;l/=2;for(var I=1+(1-p-p)/C,y=1+(1-l-l)/K,F=0;F<y;++F)for(var N=l+F*K,w=N-.5,z=0;z<I;++z){var O=p+z*C,W=O-.5;W*W+w*w>h||(O=[O,N,g],e.push(O),L.push(O))}d.pg&&L.sort(a);q=e}d.pg&&e.sort(a)},get:function(G){var A=
q.length;if(0===A)return n;for(;G>=x.length;)x.push(0);x[G]>=A&&(x[G]=0);var H=q[Math.floor(x[G])%A];x[G]=(x[G]+1/d.vo)%A;if(0===r)return H;v[0]=H[0];v[1]=H[1];v[2]=r;return v},fq:function(G){G>=x.length||(x[G]=Math.floor(Math.random()*q.length))},tq:function(G){r=G;if(0===r)q=e;else{for(var A=m.length,H=A-1,t=0;t<A;++t)if(m[t]<=G){H=t;break}q=k[H]}},reset:function(){for(var G=e.length/x.length,A=0;A<x.length;++A)x[A]=Math.floor(A*G);r=0;q=e}}}(),Ab=function(){function a(){d(f+H.Wf);h.port.postMessage("DONE")}
function b(){p.fd=0===H.ya?L(d):L(e)}function d(y){g.Wb&&null!==t&&(y-=f,y=Math.min(Math.max(y,H.Bh[0]),H.Bh[1]),f+=y,m(),l.isEnabled&&l.Jc&&g.Ka&&f-l.Hf>H.dh&&(r(),l.Hf=f),t(f))}function e(y){g.Wb&&(p.timeout=setTimeout(d.bind(null,y),H.ya))}function k(){t=null;g.Wb=!1;m()}function m(){p.fd&&(window.cancelAnimationFrame(p.fd),p.fd=null);p.timeout&&(window.clearTimeout(p.timeout),p.timeout=null)}function x(y){y&&!g.Ka?(g.Ka=!0,B&&Gb.Bo(),h.port.postMessage("STOP"),Ga.Fj(!0),b()):!y&&g.Ka&&(g.Ka=!1,
B&&Gb.Yn(1),Ga.Fj(!1),h.port.postMessage("START"))}function n(y){y.target.hidden?K():C()}function q(y,F,N){F=y.createShader(F);y.shaderSource(F,N);y.compileShader(F);return F}function r(){l.Jc=!1;var y=l.Va,F=l.Fd,N=l.Gd,w=l.za;y.uniform1f(l.$h,Math.random());l.Xb?F.beginQueryEXT(w,N):y.beginQuery(w,N);y.drawElements(y.POINTS,1,y.UNSIGNED_SHORT,0);l.Xb?F.endQueryEXT(w):y.endQuery(w);Ga.flush();G().then(function(z){0===z||isNaN(z)?(l.isEnabled=!1,console.log("WARNING in benchmark_GPUClock: WebGL timer queries is not working properly. timeElapsedNs =",
z)):(z=H.Tj*H.bh*1E3/z,l.ve=(l.ve+1)%H.rc,l.If[l.ve]=z,++l.wi>H.rc&&(l.Md.set(l.If),l.Md.sort(function(O,W){return O-W}),z=l.Md[Math.floor(H.rc/2)],l.xd=Math.max(l.xd,z),H.ah(z/l.xd)),l.Jc=!0)}).catch(function(){l.Jc=!0})}function v(y){var F=l.Va,N=l.Fd,w=l.Gd;w=l.Xb?N.Cp(w,N.QUERY_RESULT_AVAILABLE_EXT):F.getQueryParameter(w,F.QUERY_RESULT_AVAILABLE);F=F.getParameter(N.GPU_DISJOINT_EXT);w?y(!F):setTimeout(v.bind(null,y),.1)}function G(){return new Promise(function(y,F){v(function(N){if(N){N=l.Va;
var w=l.Fd,z=l.Gd;N=l.Xb?w.getQueryObjectEXT(z,w.QUERY_RESULT_EXT):N.getQueryParameter(z,N.QUERY_RESULT);y(N)}else F()})})}var A={li:!0,Bh:[1,200],Wf:20,ya:0,bh:50,Tj:240,dh:3E3,rc:3,ah:null},H=null,t=null,f=0,h=null,B=!1,L=null,g={Ja:!1,Ka:!0,Gf:!1,Ff:!1,Ef:!1,Wb:!1},p={fd:null,timeout:null},l={isEnabled:!1,Jc:!1,Va:null,Fd:null,Gd:null,za:null,$h:null,Xb:!0,Hf:0,wi:0,If:null,Md:null,ve:0,xd:0},C=x.bind(null,!0),K=x.bind(null,!1),I={m:function(y){H=Object.assign(A,y);Object.assign(g,{Ka:!0,Ja:!0,
Wb:!1});L=window.requestPostAnimationFrame||window.requestAnimationFrame;if(null!==H.ah){y=document.createElement("canvas");y.setAttribute("width","1");y.setAttribute("height","1");var F={antialias:!1};y=y.getContext("webgl2",F)||y.getContext("webgl",F);if(F=y.getExtension("EXT_disjoint_timer_query")||y.getExtension("EXT_disjoint_timer_query_webgl2")){l.Va=y;l.Fd=F;l.isEnabled=!0;l.Xb=F.beginQueryEXT?!0:!1;var N=q(y,y.VERTEX_SHADER,"attribute vec4 a0;void main(){gl_Position=a0;}"),w=q(y,y.FRAGMENT_SHADER,
"precision lowp float;uniform float u39;void main(){vec4 a=u39*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",H.bh.toString())),z=y.createProgram();y.attachShader(z,N);y.attachShader(z,w);y.linkProgram(z);N=y.getAttribLocation(z,"a0");l.$h=y.getUniformLocation(z,"u39");y.useProgram(z);y.enableVertexAttribArray(N);z=y.createBuffer();y.bindBuffer(y.ARRAY_BUFFER,z);y.bufferData(y.ARRAY_BUFFER,new Float32Array([.5,.5,0,1]),y.STATIC_DRAW);y.vertexAttribPointer(N,4,y.FLOAT,
!1,16,0);z=y.createBuffer();y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,z);y.bufferData(y.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),y.STATIC_DRAW);y.disable(y.DEPTH_TEST);y.disable(y.DITHER);y.disable(y.STENCIL_TEST);y.viewport(0,0,1,1);z=l.Xb?F.createQueryEXT():y.createQuery();l.Gd=z;l.za=F.TIME_ELAPSED_EXT||y.TIME_ELAPSED;l.Hf=-H.dh;l.If=new Float32Array(H.rc);l.Md=new Float32Array(H.rc);l.xd=0;l.ve=0;l.wi=0;l.Jc=!0}}if(H.li){y=!1;try{if("undefined"===typeof SharedWorker){var O=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+
H.Wf.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),W=new Worker(O);W.addEventListener("message",a);h={Ti:W,port:W};g.Gf=!0}else{var ba=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
H.Wf.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),ka=new SharedWorker(ba);ka.port.start();ka.port.addEventListener("message",a);h={Ti:ka,port:ka.port};g.Ff=!0}y=!0}catch(Q){}y&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",n):(window.addEventListener("blur",K),window.addEventListener("focus",C)),window.addEventListener("pagehide",
K),window.addEventListener("pageshow",C),g.Ef=!0)}B="undefined"!==typeof Gb},v:function(){k();g.Ef&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",n):(window.removeEventListener("blur",K),window.removeEventListener("focus",C)),window.removeEventListener("pagehide",K),window.removeEventListener("pageshow",C),g.Ef=!1);g.Ff?(h.port.close(),g.Ff=!1):g.Gf&&(h.Ti.terminate(),g.Gf=!1);Object.assign(g,{Ka:!0,Ja:!1,Wb:!1});t=null},bq:function(){return g.Ka},update:function(y){Object.assign(H,
y)},og:function(y){g.Ja||I.m({});m();g.Wb=!0;t=y;g.Ka&&b()},stop:k};return I}(),wc={lf:function(){return Date.now()},Fp:function(){return performance.now()}},vb=function(){function a(Y){switch(C){case l.movePinch:var na=-Y.deltaY;0===K&&f("pinch",-1,.001*na,null)}Y.deltaY;Y.preventDefault()}function b(Y){if(-1!==K)switch(C){case l.swipe:if(1!==K)break;q();v(Y,y);var na=y[0]-I[0];k(na);Y=na/(20*L.offsetWidth/100);f("swipeMove",Math.min(Math.max(Y,-1),1),Y,null);break;case l.movePinch:if(2===K||3===
K){v(Y,y);na=y[0]-I[0];var da=y[1]-I[1];2===K?(R+=Math.sqrt(na*na+da*da),10>R?(I[0]=y[0],I[1]=y[1]):(wa||(wa=!0,f("moveStart",null,null,null)),ha[0]=na,ha[1]=da,N[0]=na-F[0],N[1]=da-F[1],f("move",ha,N,null),F[0]=ha[0],F[1]=ha[1])):3===K&&(Y=r(Y)/za,f("pinch",Y,Y-la,null),la=Y)}}}function d(Y){if(-1!==K)switch(C){case l.swipe:if(1!==K)break;q();v(Y,y);Y=y[0]-I[0];var na=0>Y;(Y=20<100*Math.abs(Y)/L.offsetWidth)&&na?f("swipeLeft",w,null,null):Y&&!na&&f("swipeRight",w,null,null);var da=function(){setTimeout(function(){n();
K=0;f("swipeEnd",null,null,null)},202)};Y?(Y=function(){var ca=(na?-1:1)*L.width,Ca=(na?1:-1)*ca/L.width;w.style.transitionDuration=(400).toString()+"ms";w.style.left=(ka[0]+ca).toString()+"px";w.style.top=ka[1].toString()+"px";w.style.transform="rotate( "+Ca.toString()+"rad )";da()},ba?Y():Q=Y):(w.style.transitionDuration=(200).toString()+"ms",w.style.opacity="0",w.style.left=ka[0].toString()+"px",w.style.top=ka[1].toString()+"px",w.style.transform="",da());K=-1;break;case l.movePinch:if(2===K||
3===K)K===K.move?f("moveEnd",null,null,null):3===K&&f("pinchEnd",null,null,null),K=0}}function e(Y){Y.preventDefault();if(-1!==K)switch(C){case l.swipe:if(0!==K)break;q();K=1;ia=setTimeout(function(){n();ia=null;1===K&&(K=0,f("swipeEnd",null,null,null))},1E3);m();f("swipeStart",null,null,null);f("swipeGetCanvas",w,O,z);v(Y,I);break;case l.movePinch:0!==K?2!==K||wa||void 0===Y.changedTouches&&void 0===Y.touches||(za=r(Y),20<za&&(K=3,la=1,f("pinchStart",null,null,null))):3!==K&&(wa=!1,v(Y,I),F[0]=0,
F[1]=0,K=2,R=0)}}function k(Y){var na=0>Y;w.style.left=ka[0]+Y+"px";w.style.transformOrigin=na?P:u;w.style.transform="rotate( "+((na?1:-1)*Y/L.width).toString()+"rad )"}function m(){ba=!1;var Y=L.getBoundingClientRect();ka[0]=Y.left;ka[1]=Y.top;w.width=Math.round(L.width/4);w.height=Math.round(L.height/4);z.width=w.width;z.height=w.height;w.style.width=L.offsetWidth+"px";w.style.height=L.offsetHeight+"px";w.style.left=ka[0]+"px";w.style.top=ka[1]+"px";setTimeout(x,0)}function x(){O.drawImage(L,0,
0,w.width,w.height);W.drawImage(w,0,0);ba=!0;document.body.appendChild(w);Q&&(Q(),Q=!1)}function n(){w.style.transitionDuration="0ms";w.style.opacity="1";w.style.transform="";ba&&(document.body.removeChild(w),ba=!1)}function q(){ia&&(window.clearTimeout(ia),ia=null)}function r(Y){G(Y,sa,0);G(Y,ma,1);return Math.sqrt(sa[0]*sa[0]+ma[0]*ma[0])}function v(Y,na){void 0!==Y.changedTouches||void 0!==Y.touches?G(Y,na,0):(na[0]=Y.pageX,na[1]=Y.pageY)}function G(Y,na,da){Y.touches.length>da?(na[0]=Y.touches[da].pageX,
na[1]=Y.touches[da].pageY):(na[0]=Y.changedTouches[da].pageX,na[1]=Y.changedTouches[da].pageY)}function A(){p.forEach(function(Y){L.removeEventListener(Y.type,Y.qb,!1)});return p.splice(0,p.length)}function H(Y){Y.forEach(function(na){t(na.type,na.qb)})}function t(Y,na){L.removeEventListener(Y,na,!1);w.removeEventListener(Y,na,!1);L.addEventListener(Y,na,!1);w.addEventListener(Y,na,!1);0===p.filter(function(da){return da.type===Y&&da.qb===na}).length&&p.push({type:Y,qb:na})}function f(Y,na,da,ca){g[Y].forEach(function(Ca){Ca.qb(na,
da,ca)})}function h(Y){return Y[0]+"% "+(100-Y[1]).toString()+"%"}var B=!1,L=null,g={swipeStart:[],swipeEnd:[],swipeLeft:[],swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],move:[],moveStart:[],moveEnd:[]},p=[],l={idle:0,swipe:1,movePinch:2},C=l.idle,K=0,I=[0,0],y=[0,0],F=[0,0],N=[0,0],w=document.createElement("canvas"),z=document.createElement("canvas"),O=w.getContext("2d"),W=z.getContext("2d");w.style.position="fixed";w.style.zIndex="800";w.style.cursor="move";w.style.pointerEvents=
"none";w.className="swipeImage";w.setAttribute("draggable",!1);var ba=!1,ka=[0,0],Q=null,ia=null,u=h([50,100]),P=h([50,0]),D=null,R=0,ha=[0,0],za=0,wa=!1,la=1,sa=[0,0],ma=[0,0],Fa={init:function(Y){if(B)Fa.switch_canvas(Y.pa);else return L=Y.pa,t("mousedown",e),t("mouseup",d),t("mouseout",d),t("mousemove",b),t("mousemove",b),t("wheel",a),t("touchstart",e),t("touchend",d),t("touchmove",b),B=!0,Fa},switch_canvas:function(Y){if(!B)Fa.init({pa:Y});else if(L!==Y){var na=A();L=Y;H(na);for(var da in g)for(Y=
g[da],na=Y.length-1;0<=na;--na)Y[na].xn&&Y.splice(na,1)}},get_mode:function(){for(var Y in l)if(l[Y]===C)return Y;return!1},switch_mode:function(Y){B&&"undefined"!==typeof l[Y]&&(Y=l[Y],C!==Y&&(q(),C=Y,K=0))},add_listener:function(Y,na,da){g[Y].push({qb:na,xn:"undefined"===typeof da?!1:da});return Fa},remove_listener:function(Y){g[Y].splice(0,g[Y].length);return Fa},animate_swipe:function(Y,na){D&&(clearInterval(D),D=null);m();var da=L.width/(na/1E3)*("left"===Y?-1:1),ca=0,Ca,mb=Date.now();D=setInterval(function(){D&&
(Ca=Date.now(),ca+=(Ca-mb)/1E3*da,k(ca),mb=Ca,Math.abs(ca)>.75*L.width&&D&&(clearInterval(D),D=null,n()))},16)}};return Fa}();window.CanvasListeners=vb;var S={VERSION:"3.7.0",cd:[],bd:[],Ee:!1,De:!1,Fe:!1,ready:!1,isBusy:!1},bb={idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,FOVmobile:45,FOVforced:0,Ce:10,Be:8E3},Mc={Ld:!0,Sd:"models3D",Rd:"materials",zo:"tweakers",neuralNetworkPath:"built/jeefitNNC_60_0.json",neuralNetworkVersion:"60_0",
ca:"",ua:"",Zc:"",ya:0,dk:20,width:1024,height:1024,ni:!0,en:[2,3.5],$i:300,$c:[1,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,qa:[.2,.2,.3],nc:[[.8,.5],[.8,.5],[1,1]],xo:30,el:.9,pn:[.2,.6],on:1,yo:[.01,.035],Gn:[.003,.007],Jg:[0,.6],Bl:.2,Ya:[.698111,1.047166,.122169],Dj:[-.1,0,0],Zd:[0,-62,8],kn:1.03,Da:[0,-60,0],Zf:50,Cc:.4,hf:73,He:[.02,1],bk:[4,1],Ik:[0,.5],In:.15,Fn:1,Bn:[.5,4],No:20,Ap:!1,Gc:145,yf:-18,wf:20,xf:3,Nc:[-110,0],ic:1,tj:.4,uj:3,ie:[0,0,0],jc:[1.1,1],nd:0,
Ye:.95,Xe:90,We:50,gd:30,Jb:.05,uf:!0,Od:!0,Rf:"images/masks/target.jpg",Sf:!1,Nd:[1/255,175/255,236/255,0],Pd:-.001,Qf:3.14,Le:0,Ke:"images/masks/burka.png",Ie:Math.PI-Math.PI/4,Ve:Math.PI/4,ng:[.3,.2,.1],Zb:1,zi:[700,90],Om:[.2,.04],Oo:"images/backgrounds/viewer3D.png",$g:[0,0,0],Zg:[0,15,60],ze:.3,Wo:50,So:Tc?$a:!1,To:Tc?$a:!1,Vo:1E3,Yo:1E3,Uo:40,Ro:[0,0,-400],Ci:.1,Sm:.5,Di:[.5,1.5],Qd:30,Rm:!0},J=Object.assign({},Mc);U.sh=!0;U.th=!0;U.rh=!1;U.Ma=!0;var fb={rg:3.5,yb:"images/debug/picsou.png",
ae:45,Nf:.785,Of:.3925,Pf:5,Lf:2,Mf:0,Kf:0,Po:"images/backgrounds/bg1.jpg",Qo:"images/backgrounds/bg1_light.jpg",Pj:1,Qj:2};J.fx=[4,50];J.Nc=[-110,0];J.tj=.25;J.uj=3;J.ie=[0,-2,20];J.jc=[.95,1];U.Rc=2.1289;U.hg=1;fb.rg=2.5858;fb.Nf=.4388;fb.Of=.118;fb.yb="images/debug/hdri2.png";fb.ae=180;fb.qg=.8065;fb.Pf=5.3887;fb.Lf=.5351;fb.Mf=-.3019;fb.Kf=0;fb.Pj=3.5288;fb.Qj=6.2168;var Lc={element:null,Dh:null,Kd:!1,ph:null,la:null,Pg:null,deviceId:-1,Ob:-1,td:0,Ri:null,ye:-1},Da=Object.assign({},Lc),gb=null,
Uc=J.en,Bc=window.devicePixelRatio?window.devicePixelRatio:1;var nc={Al:Math.max(Uc[0],Bc)/Bc,ff:Math.min(Bc,Uc[1])};var hb=null;S.onLoad=function(a){S.ready?a():S.cd.push(a)};S.onHalfLoad=function(a){S.load_model?a():S.bd.push(a)};S.onWebcamAsk=function(a){S.Ee=a};S.onContextLost=function(a){S.De=a};S.onWebcamGet=function(a){S.Fe=a};S.get_onHalfLoadCallstack=function(){return S.bd};S.set_size=function(a,b,d){d=d?nc.ff:1;J.width=a*d;J.height=b*d};S.get_videoDevices=function(a){Zc(a)};S.set_videoDevice=
function(a){Da.deviceId=a};S.set_videoSizes=function(a,b,d,e,k,m){bb.idealWidth=a;bb.idealHeight=b;bb.minWidth=d;bb.maxWidth=e;bb.minHeight=k;bb.maxHeight=m};S.set_loading=function(a,b,d){a&&(J.Sf=!0,J.Rf=a);"number"===typeof b&&(a=new Wb(b),J.Nd=[a.r,a.X,a.b,0]);"number"===typeof d&&(J.Pd=d)};S.set_settings=function(a,b,d){a&&Object.assign(J,a);b&&Object.assign(bb,b);d&&Object.assign(fb,d)};S.get_size=function(){return{width:J.width,height:J.height}};S.get_cv=function(){return kb.rb()};S.set_NNCPath=
function(a){J.Zc=a};S.set_materialsPath=function(a){J.Rd=a};S.set_modelsPath=function(a){J.Sd=a};S.destroy=function(){return hb?hb.v():Promise.resolve()};S.init2=function(a){var b=Object.assign({basePath:null,modelsPath:null,materialsPath:null,materialTextureBasePath:null,NNCPath:null,cv:null,isRequestCamera:!0,width:512,height:512,isMirror:!0,isApplyOverSampling:!1,screenTexturePath:null},a);J.Ld=b.isRequestCamera;S.set_size(b.width,b.height,b.isApplyOverSampling);b.screenTexturePath&&(fb.yb=b.screenTexturePath);
b.modelsPath&&(J.Sd=b.modelsPath);b.materialsPath&&(J.Rd=b.materialsPath);b.materialTextureBasePath&&(U.Fi=b.materialTextureBasePath);b.NNCPath&&(J.Zc=b.NNCPath);J.ni=b.isMirror;return new Promise(function(d,e){S.onHalfLoad(d);S.init(b.basePath,function(){},e,b.cv)})};S.init=function(a,b,d,e){hb=$c();S.mb=d?function(k,m){d(k,m);S.mb=!1}:function(){};S.ep=hb;a&&(J.ca=a);b&&S.cd.push(b);hb.wo();a=hb.Vl();if(!kb.m({Ue:"jeefitCanvas",pa:e,width:a.width,height:a.height,debug:!1,bg:function(){S.De&&S.De()},
premultipliedAlpha:!0}))return S.mb&&S.mb("GL_INCOMPATIBLE","Cannot init Context"),!1;J.Ld?cd():dd();return!0};window.JEELIZVTO=S;var Ic=function(){function a(){ya.ba();c.viewport(0,0,1,1);Z.set("s73");e.h(0);X.l(!1);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,m);b(0<m[0])}var b=null,d=!1,e=null,k=!1,m=null,x={m:function(n){if(k)return!1;e=n;Z.uc([{id:"s73",name:"_",g:"uniform sampler2D u41;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u41,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",
i:["u41"],precision:"lowp"}]);Z.j("s73",[{type:"1i",name:"u41",value:0}]);m=new Uint8Array(4);return k=!0},start:function(n,q){x.stop();b=q;d=window.setInterval(a,n)},stop:function(){d&&(window.clearInterval(a),d=!1)}};return x}(),sc=sc||{};Wb.prototype={constructor:Wb,r:1,X:1,b:1,set:function(a){a instanceof Wb?this.K(a):"number"===typeof a?Oc(this,a):"string"===typeof a&&ed(this,a);return this},Ln:function(){function a(b,d,e){0>e&&(e+=1);1<e&&--e;return e<1/6?b+6*(d-b)*e:.5>e?d:e<2/3?b+6*(d-b)*
(2/3-e):b}return function(b,d,e){b=sc.Math.Bp(b,1);d=sc.Math.Pe(d,0,1);e=sc.Math.Pe(e,0,1);0===d?this.r=this.X=this.b=e:(d=.5>=e?e*(1+d):e+d-e*d,e=2*e-d,this.r=a(e,d,b+1/3),this.X=a(e,d,b),this.b=a(e,d,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.X,this.b)},K:function(a){this.r=a.r;this.X=a.X;this.b=a.b;return this},add:function(a){this.r+=a.r;this.X+=a.X;this.b+=a.b;return this},multiply:function(a){this.r*=a.r;this.X*=a.X;this.b*=a.b;return this},Ca:function(a){this.r*=
a;this.X*=a;this.b*=a;return this},pb:function(a,b){void 0===b&&(b=0);this.r=a[b];this.X=a[b+1];this.b=a[b+2];return this}};var fd={};qc.prototype={constructor:qc,get x(){return this.C},set x(a){this.C=a},get y(){return this.D},set y(a){this.D=a},get z(){return this.F},set z(a){this.F=a},get w(){return this.P},set w(a){this.P=a},set:function(a,b,d,e){this.C=a;this.D=b;this.F=d;this.P=e;return this},clone:function(){return new this.constructor(this.C,this.D,this.F,this.P)},K:function(a){this.C=a.x;
this.D=a.y;this.F=a.z;this.P=a.w;return this},inverse:function(){this.C*=-1;this.D*=-1;this.F*=-1;this.normalize();return this},pd:function(a){return this.C*a.C+this.D*a.D+this.F*a.F+this.P*a.P},Jf:function(){return this.C*this.C+this.D*this.D+this.F*this.F+this.P*this.P},length:function(){return Math.sqrt(this.C*this.C+this.D*this.D+this.F*this.F+this.P*this.P)},normalize:function(){var a=this.length();0===a?(this.F=this.D=this.C=0,this.P=1):(a=1/a,this.C*=a,this.D*=a,this.F*=a,this.P*=a);return this},
multiply:function(a,b){return void 0!==b?(console.warn("JETHREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),Pc(this,a,b)):Pc(this,this,a)},pb:function(a,b){void 0===b&&(b=0);this.C=a[b];this.D=a[b+1];this.F=a[b+2];this.P=a[b+3];return this}};Xb.prototype={constructor:Xb,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},ej:function(a){this.x=a;
return this},fj:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y)},K:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.dd(a,b);this.x+=a.x;this.y+=a.y;return this},dd:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
this.cb(a,b);this.x-=a.x;this.y-=a.y;return this},cb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},Ca:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},af:function(a){return this.Ca(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},Pe:function(a,b){this.x=Math.max(a.x,Math.min(b.x,
this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},pd:function(a){return this.x*a.x+this.y*a.y},Jf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.af(this.length())},
pb:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this}};Va.prototype={constructor:Va,set:function(a,b,d){this.x=a;this.y=b;this.z=d;return this},ej:function(a){this.x=a;return this},fj:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y,this.z)},K:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
this.dd(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},dd:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.cb(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},cb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},Ca:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},af:function(a){return this.Ca(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},Pe:function(a,b){this.x=Math.max(a.x,Math.min(b.x,
this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},pd:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},Jf:function(){return this.x*
this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.af(this.length())},pb:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}};Yb.Sj="XYZ";Yb.prototype={constructor:Yb,get x(){return this.C},set x(a){this.C=a},get y(){return this.D},set y(a){this.D=a},get z(){return this.F},set z(a){this.F=a},get order(){return this.Qa},set order(a){this.Qa=a},set:function(a,b,d,e){this.C=
a;this.D=b;this.F=d;this.Qa=e||this.Qa;return this},clone:function(){return new this.constructor(this.C,this.D,this.F,this.Qa)},K:function(a){this.C=a.C;this.D=a.D;this.F=a.F;this.Qa=a.Qa;return this},pb:function(a){this.C=a[0];this.D=a[1];this.F=a[2];void 0!==a[3]&&(this.Qa=a[3]);return this}};yc.prototype={constructor:yc,set:function(a,b){this.min.K(a);this.max.K(b);return this},clone:function(){return(new this.constructor).K(this)},K:function(a){this.min.K(a.min);this.max.K(a.max);return this},
empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},size:function(a){return(a||new Va).cb(this.max,this.min)},getParameter:function(a,b){return(b||new Va).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},translate:function(a){this.min.add(a);this.max.add(a);return this}};Zb.prototype={constructor:Zb,set:function(a,b,d,e,k,m,x,n,q,r,v,G,A,H,t,f){var h=this.elements;h[0]=a;h[4]=b;
h[8]=d;h[12]=e;h[1]=k;h[5]=m;h[9]=x;h[13]=n;h[2]=q;h[6]=r;h[10]=v;h[14]=G;h[3]=A;h[7]=H;h[11]=t;h[15]=f;return this},clone:function(){return(new Zb).pb(this.elements)},K:function(a){this.elements.set(a.elements);return this},multiply:function(a,b){return void 0!==b?(console.warn("JETHREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),Rc(this,a,b)):Rc(this,this,a)},Ca:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=
a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},scale:function(a){var b=this.elements,d=a.x,e=a.y;a=a.z;b[0]*=d;b[4]*=e;b[8]*=a;b[1]*=d;b[5]*=e;b[9]*=a;b[2]*=d;b[6]*=e;b[10]*=a;b[3]*=d;b[7]*=e;b[11]*=a;return this},pb:function(a){this.elements.set(a);return this}};zc.prototype={constructor:zc,
clone:function(){return(new this.constructor).K(this)},K:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.Na.K(a.Na);this.color.K(a.color);this.$b=a.$b;for(var b=0,d=a.xe.length;b<d;b++)this.xe[b]=a.xe[b].clone();b=0;for(d=a.Xg.length;b<d;b++)this.Xg[b]=a.Xg[b].clone();return this}};var E=function(){function a(p,l,C){l=p.createShader(l);p.shaderSource(l,C);p.compileShader(l);return p.getShaderParameter(l,p.COMPILE_STATUS)?l:!1}function b(p,l){fa.ka()&&(l.g=l.g.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1"));
l.tf=a(p,p.VERTEX_SHADER,l.u,l.name+" VERTEX");l.sf=a(p,p.FRAGMENT_SHADER,l.g,l.name+" FRAGMENT");var C=p.createProgram();p.attachShader(C,l.tf);p.attachShader(C,l.sf);p.linkProgram(C);return C}function d(p){p.u="#version 300 es\n"+p.u.replace(/varying/g,"out");p.g="#version 300 es\n"+p.g.replace(/varying/g,"in");p.u=p.u.replace(/texture2D\(/g,"texture(");p.g=p.g.replace(/texture2D\(/g,"texture(");p.da||(p.g=p.g.replace(/void main/g,"out vec4 FragColor;\nvoid main"),p.g=p.g.replace(/gl_FragColor/g,
"FragColor"));var l=0,C=[];p.u=p.u.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,function(K,I,y){var F="";y.split(",").forEach(function(N){N=N.trim();F+="layout(location = "+l+") in "+I+" "+N+";\n";C.push(N);++l});return F});p.Xj=C}function e(p){return["float","sampler2D","int"].map(function(l){return"precision "+p+" "+l+";\n"}).join("")}function k(p,l){if(l.fi)return!1;var C=fa.ka();U.Vp||C||p.enableVertexAttribArray(0);void 0===l.da&&(l.da=!1);l.da&&(l.ad=C?3:2);l.id=L++;void 0===l.ad&&
(l.ad=2);void 0===l.precision&&(l.precision="highp");l.da&&(l.g=(fa.ka()?"precision highp float;\n          layout(location = 0) out vec4 gbuf0;\n          layout(location = 1) out vec4 gbuf1;\n          layout(location = 2) out vec4 gbuf2;\n          layout(location = 3) out vec4 gbuf3;\n":"#extension GL_EXT_draw_buffers : require\n")+l.g);void 0===l.u&&(l.u="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");var K=e(l.precision);
l.g=K+l.g;l.u=K+l.u;C&&3<=l.ad&&d(l);l.Ea&&l.Ea.forEach(function(I){l.u=l.u.replace(I.search,I.replace);l.g=l.g.replace(I.search,I.replace)});l.na=b(p,l);l.A={};l.i.forEach(function(I){l.A[I]=p.getUniformLocation(l.na,I)});l.attributes={};l.va=[];l.Wg=0;void 0===l.J&&(l.J=["a0"]);void 0===l.R&&(l.R=[2]);l.J.forEach(function(I,y){var F=C&&3<=l.ad?l.Xj.indexOf(I):p.getAttribLocation(l.na,I);l.attributes[I]=F;l.va.push(F);l.Wg+=4*l.R[y]});l.set=function(){h!==l.id&&(-1!==h&&B.I(),h=l.id,B=l,p.useProgram(l.na),
l.va.forEach(function(I){0!==I&&p.enableVertexAttribArray(I)}))};l.I=function(){h=-1;l.va.forEach(function(I){0!==I&&p.disableVertexAttribArray(I)})};l.fi=!0}function m(p,l){k(p,l);l.set();h=-1;return l}function x(){return{name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"highp"}}function n(){g.j("s104",[{type:"1i",name:"u1",value:0}]);g.j("s105",[{type:"1i",name:"u153",value:0}]);g.j("s106",[{type:"1i",name:"u74",value:0}])}function q(){var p=
"u41 u143 u144 u145 u146 u42 u78".split(" ").concat(H,t);f.s107={name:"_",g:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",u:"attribute vec3 a0;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u149,u150,u145,u146,u152;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,p);vec2 f=u85*e;vec3 c=u85*o;vec2 t=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,q).rgb+vec3(u79,0.,0.),u82,c);float u=mix(texture2D(u41,r).r,0.,u85);a.z+=u;mat3 v=s(a);vec3 w=mix(u143,u83,c);float x=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u81,1.,u85);vec2 j=u80/t;vec3 k=a0;float A=max(0.,-a0.z-u145)*u146;k.x+=A*sign(a0.x)*(1.-u85);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u149,u150,a0.z);}",
i:["u149","u150"].concat(p),J:["a0"],precision:"highp"};f.s108={name:"_",g:"uniform sampler2D u1;uniform vec3 u147;uniform float u73;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u147,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u147,b,u73),a.a);gl_FragColor=c;}",u:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u145,u146,u152;varying vec2 vv0;const vec2 e=vec2(1.);const vec3 m=vec3(1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,n);vec2 f=u85*e;vec3 c=u85*m;vec2 r=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,o).rgb+vec3(u79,0.,0.),u82,c);float s=mix(texture2D(u41,p).r,0.,u85);a.z+=s;mat3 t=q(a);vec3 u=mix(u143,u83,c);float v=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u81,1.,u85);vec2 j=u80/r;vec3 k=a0;float y=max(0.,-a0.z-u145)*u146;k.x+=y*sign(a0.x)*(1.-u85);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u147"].concat(G,p),J:["a0","a1"],R:[3,2],precision:"lowp"};f.s109={name:"_",g:"uniform vec3 u147;void main(){gl_FragColor=vec4(u147,0.);}",u:"attribute vec3 a0;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u145,u146,u152;const vec2 e=vec2(1.);const vec3 l=vec3(1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,m);vec2 f=u85*e;vec3 c=u85*l;vec2 q=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,n).rgb+vec3(u79,0.,0.),u82,c);float r=mix(texture2D(u41,o).r,0.,u85);a.z+=r;mat3 s=p(a);vec3 t=mix(u143,u83,c);float u=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u81,1.,u85);vec2 j=u80/q;vec3 k=a0;float x=max(0.,-a0.z-u145)*u146;k.x+=x*sign(a0.x)*(1.-u85);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(A,1.));}",
i:["u147"].concat(p),R:[3],precision:"lowp"};f.s110={name:"_",g:"uniform vec4 u13;varying vec3 vv0;varying float vv1;void main(){float a=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",u:"attribute vec3 a0,a2;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u145,u146,u152;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,p);vec2 f=u85*e;vec3 c=u85*o;vec2 t=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,q).rgb+vec3(u79,0.,0.),u82,c);float u=mix(texture2D(u41,r).r,0.,u85);a.z+=u;mat3 h=s(a);vec3 v=mix(u143,u83,c);float w=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u81,1.,u85);vec2 k=u80/t;vec3 l=a0;float z=max(0.,-a0.z-u145)*u146;l.x+=z*sign(a0.x)*(1.-u85);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",
i:["u13","u78"].concat(p),J:["a0","a2"],precision:"highp"};f.s111={name:"_",g:"uniform sampler2D u153;uniform vec4 u13;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u153,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv3);gl_FragColor=vec4(a,m);}",u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u145,u146,u152;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.);const vec3 q=vec3(1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,r);vec2 f=u85*e;vec3 c=u85*q;vec2 v=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,s).rgb+vec3(u79,0.,0.),u82,c);float w=mix(texture2D(u41,t).r,0.,u85);a.z+=w;mat3 h=u(a);vec3 x=mix(u143,u83,c);float y=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u81,1.,u85);vec2 k=u80/v;vec3 l=a0;float B=max(0.,-a0.z-u145)*u146;l.x+=B*sign(a0.x)*(1.-u85);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",
i:["u13","u78","u153"].concat(p),J:["a3","a0","a2","a1"],R:[4,3,3,2],precision:"highp"};f.s112={name:"_",g:"uniform vec4 u111;uniform float u148;void main(){float b=u148;vec4 a=u111;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",u:"attribute vec3 a0;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u145,u146,u152;const vec2 e=vec2(1.);const vec3 l=vec3(1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,m);vec2 f=u85*e;vec3 c=u85*l;vec2 q=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,n).rgb+vec3(u79,0.,0.),u82,c);float r=mix(texture2D(u41,o).r,0.,u85);a.z+=r;mat3 s=p(a);vec3 t=mix(u143,u83,c);float u=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u81,1.,u85);vec2 j=u80/q;vec3 k=a0;float x=max(0.,-a0.z-u145)*u146;k.x+=x*sign(a0.x)*(1.-u85);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(A,1.));}",
i:["u111","u148"].concat(p),precision:"lowp"};f.s113={name:"_",g:"uniform sampler2D u74;uniform vec4 u111,u75;uniform float u148;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u148;vec4 a=u111,d=texture2D(u74,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u75*e),c=mix(c,l,u75.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
u:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u145,u146,u152;varying vec2 vv0;const vec2 e=vec2(1.);const vec3 m=vec3(1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,n);vec2 f=u85*e;vec3 c=u85*m;vec2 r=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,o).rgb+vec3(u79,0.,0.),u82,c);float s=mix(texture2D(u41,p).r,0.,u85);a.z+=s;mat3 t=q(a);vec3 u=mix(u143,u83,c);float v=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u81,1.,u85);vec2 j=u80/r;vec3 k=a0;float y=max(0.,-a0.z-u145)*u146;k.x+=y*sign(a0.x)*(1.-u85);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u111","u148"].concat(A,p),J:["a0","a1"],R:[3,2],precision:"lowp"};p=["u136","u124","u137"];f.s114={name:"_",g:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",u:"attribute vec3 a0;uniform mat4 u136,u124,u137;varying vec3 vv0;varying float vv1;void main(){vec4 a=u137*vec4(a0,1.);gl_Position=u136*u124*a,vv0=a.xyz,vv1=1.;}",i:p,precision:"highp"};f.s115={name:"_",g:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",u:"attribute vec3 a0,a2;uniform mat4 u136,u124,u137;varying vec3 vv0;varying float vv1;void main(){vec4 a=u137*vec4(a2,0.);gl_Position=u136*u124*u137*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",
i:p,J:["a0","a2"],precision:"highp"};f.s105={name:"_",g:"uniform sampler2D u153;uniform vec3 u154;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u154),c=normalize(vv2),b=texture2D(u153,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u136,u124,u137;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u137*vec4(a2,0.),a=u137*vec4(a0,1.);gl_Position=u136*u124*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",
i:["u153","u154"].concat(p),J:["a0","a2","a1","a3"],precision:"highp"};f.s104={name:"_",g:"uniform sampler2D u1;uniform vec3 u147;uniform float u73;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u147,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u147,b,u73),a.a);gl_FragColor=c;}",u:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u136,u124,u137;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u136*u124*u137*vec4(a0,1.)+f,vv0=a1;}",i:["u147"].concat(G,p),J:["a0","a1"],
Ea:[{search:"0.0005",replace:Ga.fa()?"0.0005":"0.0"}],precision:"lowp"};f.s116={name:"_",g:"uniform vec4 u111;uniform float u148;void main(){float b=u148;vec4 a=u111;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",u:"attribute vec3 a0;uniform mat4 u136,u124,u137;void main(){gl_Position=u136*u124*u137*vec4(a0,1.);}",i:["u111"].concat(p),precision:"highp"};f.s106={name:"_",g:"uniform sampler2D u74;uniform vec4 u111,u75;uniform float u148;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u148;vec4 a=u111,d=texture2D(u74,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u75*e),c=mix(c,l,u75.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
u:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u136,u124,u137;varying vec2 vv0;void main(){gl_Position=u136*u124*u137*vec4(a0,1.),vv0=a1;}",i:["u111"].concat(A,p),J:["a0","a1"],R:[3,2],precision:"highp"}}function r(){for(var p in f)k(c,f[p])}var v=!1,G=["u1","u73"],A=["u74","u75"],H="u76 u77 u78 u79 u80 u81".split(" "),t="u82 u83 u84 u85 u86 u87".split(" "),f={},h=-1,B=null,L=0,g={oa:function(p,l){f[p]=l;v&&k(c,f[p])},jq:function(p,l){f[p]=l;l.fi=!1;k(c,f[p])},Yb:function(){return v},m:function(){f.s0=
x();f.s1={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"lowp"};f.s74={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(-1.,1.)*vv0+vec2(1.,0.));}",i:["u1"],precision:"lowp"};f.s75={name:"_",g:"uniform sampler2D u1,u12;uniform float u13;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){gl_FragColor=vec4(mix(texture2D(u12,vv0).rgb,texture2D(u1,vv0).rgb,u13*f),1.);}",i:["u1","u12",
"u13"],precision:"highp"};f.s76={name:"_",g:"uniform sampler2D u1,u12;uniform float u13;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u12,vv0),texture2D(u1,vv0),u13*f);}",i:["u1","u12","u13"],precision:"highp"};f.s12={name:"_",g:"uniform sampler2D u1,u88;uniform vec2 u89;uniform float u90,u91;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 b=texture2D(u88,vv0*u89),c=texture2D(u1,vv0*u89);float a=smoothstep(u90,0.,vv0.y);a+=smoothstep(1.-u90,1.,vv0.y),gl_FragColor=pow(mix(c,b,a*f),u91*f);}",
i:["u1","u89","u88","u90","u91"]};f.s77={name:"_",g:"uniform sampler2D u1,u88;uniform vec2 u89;uniform float u90,u91;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),f=exp2(c);vec3 g=clamp(b/f,0.,1.);return vec4(g,(c+128.)/256.);}void main(){vec2 a=vv0*u89;float c=floor(a.x),d=mod(c,2.);a.x=mod(a.x,1.),a.x=mix(a.x,1.-a.x,d);vec3 f=texture2D(u88,a).rgb,g=texture2D(u1,a).rgb;float b=smoothstep(u90,0.,vv0.y);b+=smoothstep(1.-u90,1.,vv0.y);vec3 j=mix(g,f,b*h);vec4 k=i(pow(j,u91*h));gl_FragColor=k;}",
i:["u1","u89","u88","u90","u91"],precision:"highp"};f.s78={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",i:["u1"],precision:"lowp"};f.s79={name:"_",g:"uniform sampler2D u1,u92;uniform vec2 u14;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u14*f).rgb+texture2D(u1,a+u14*g).rgb+texture2D(u1,a+u14*h).rgb+texture2D(u1,a+u14*i).rgb;gl_FragColor=vec4(b/5.,1.);}",
i:["u1","u14"],precision:"lowp"};f.s80={name:"_",g:"uniform sampler2D u1,u92,u41;uniform vec2 u14,u93;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u14*f).rgb+texture2D(u1,a+u14*g).rgb+texture2D(u1,a+u14*h).rgb+texture2D(u1,a+u14*i).rgb;float c=texture2D(u41,vec2(.5,.5)).a,d=u93.x+pow(c,2.)*(u93.y-u93.x);vec3 j=mix(b/5.,texture2D(u92,a).rgb,d);gl_FragColor=vec4(j,1.);}",
i:["u1","u92","u14","u41","u93"],precision:"lowp"};f.s81={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u14).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u14).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u14).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u14).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u14;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",
i:["u1","u14"],precision:"lowp"};f.s82={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u14*f)+texture2D(u1,a+u14*g)+texture2D(u1,a+u14*h)+texture2D(u1,a+u14*i);gl_FragColor=b/5.;}",i:["u1","u14"],precision:"lowp"};f.RGBEtoRGB={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;vec3 f(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=vec4(f(a),1.);}",
i:["u1"],precision:"highp"};f.s13={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.,0.,0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",i:["u1"],precision:"highp"};f.s83={name:"_",g:"uniform sampler2D u94,u95;uniform float u96,u97;varying vec2 vv0;void main(){vec3 a=texture2D(u95,vv0).rgb,b=texture2D(u94,vv0).rgb;gl_FragColor=vec4(b*u97+u96*a,1.);}",
i:["u94","u95","u96","u97"],precision:"highp"};f.s84={name:"_",g:"uniform sampler2D u98,u99;uniform float u91;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u99,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u98,g).rgb,u91*n);f/=float(j),gl_FragColor=vec4(f,1.);}",
i:["u98","u99","u91"],precision:"lowp",Ea:[{search:"8888",replace:U.tm[fa.V()]}]};f.s85={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u14).a+.110236*texture2D(u1,vv0-2.*u14).a+.220472*texture2D(u1,vv0-u14).a+.275591*a.a+.220472*texture2D(u1,vv0+u14).a+.110236*texture2D(u1,vv0+2.*u14).a+.031496*texture2D(u1,vv0+3.*u14).a;gl_FragColor=vec4(a.rgb,4.*b);}",i:["u1","u14"],precision:"lowp"};f.s86={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",
i:["u1"],precision:"lowp"};f.s87={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u14)+.110236*texture2D(u1,vv0-2.*u14)+.220472*texture2D(u1,vv0-u14)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u14)+.110236*texture2D(u1,vv0+2.*u14)+.031496*texture2D(u1,vv0+3.*u14);gl_FragColor=a;}",i:["u1","u14"],precision:"lowp"};f.s88={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u14)+texture2D(u1,vv0-2.*u14)+texture2D(u1,vv0-u14)+texture2D(u1,vv0)+texture2D(u1,vv0+u14)+texture2D(u1,vv0+2.*u14)+texture2D(u1,vv0+3.*u14);gl_FragColor=a/7.;}",
i:["u1","u14"],precision:"lowp"};f.s89={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",i:["u1"],precision:"highp"};f.s90={name:"_",g:"uniform sampler2D u1,u88;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u88,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",
i:["u1","u88"],precision:"highp"};f.s91={name:"_",g:"uniform sampler2D u1,u88;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u88,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",i:["u1","u88"],precision:"highp"};f.s92=
{name:"_",g:"uniform sampler2D u1,u100,u2,u101;uniform vec4 u102;uniform vec2 u103;uniform float u104,u105,u106,u107;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u100,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u101,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u103*.5+h).r,l=atan(a.x,a.y),m=-(mod(u104,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u105,b),c=.5+u107*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u102*k;gl_FragColor=mix(d,o,j*u106);}",
i:"u1 u2 u101 u100 u102 u104 u105 u106 u103 u107".split(" "),precision:"lowp"};var p="u108 u109 u110 u111 u98 u112 u3 u113 u100 u114 u115 u116 u117 u118 u14".split(" ");U.ea&&(f.s93={name:"_",g:"uniform sampler2D u108,u109,u110,u111,u98,u112,u119,u100;uniform vec3 u113,u116;uniform vec2 u14;uniform float u3,u120,u115,u117,u114;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u114;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u108,vv0);vec3 k=texture2D(u100,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u113;vec4 b=texture2D(u111,vv0),m=texture2D(u109,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u110,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u112,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u3));float I=acos(-s.z),J=smoothstep(u115-u117,u115+u117,I);h=mix(l(texture2D(u98,H)),u116,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u120*texture2D(u119,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",
i:p.concat(["u119","u120"]),precision:"highp"});f.s94={name:"_",g:"uniform sampler2D u108,u109,u110,u111,u98,u112,u100;uniform vec3 u113,u116;uniform vec2 u14;uniform float u3,u115,u117,u118,u121,u122,u114,u123;varying vec2 vv0;const float g=3.141592;const vec3 G=vec3(0.),m=vec3(1.),H=vec3(.299,.587,.114);const float I=2.;vec3 r(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 J(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/g,1.-c/g);}vec2 K(vec3 a,float e){float b=pow(2.,e);vec2 f=vec2(1.,.5)/b,h=vec2(0.,1.-1./b);float i=atan(a.x,a.z),j=acos(-a.y),c=.5+.5*i/g,k=j/g,l=.5*b/u114;c=(1.-l)*c;return h+vec2(c,k)*f;}float n(vec3 a,vec3 b){return abs(acos(dot(a,b)));}float o(vec2 a){float b=texture2D(u108,a).a;return step(.01,b);}vec3 p(vec2 a){return texture2D(u100,vec2(1.-a.x,a.y)).rgb;}void main(){vec4 h=texture2D(u108,vv0);if(h.a<.01){gl_FragColor=vec4(p(vv0),0.);return;}float i=h.a;vec3 L=h.rgb,M=L+u113;vec4 c=texture2D(u111,vv0),s=texture2D(u109,vv0);vec3 a=s.rgb;float j=s.a;vec4 k=texture2D(u110,vv0);vec3 e=k.rgb;if(i>1.){gl_FragColor=vec4(mix(p(vv0),e,k.a),1.);return;}e=pow(e,u121*m);float t=c.r,N=c.g,O=c.a,u=floor(c.b*255.),l=floor(u/16.),P=(u-16.*l)/16.;l/=16.,j=1.-(1.-j)*(1.-k.a);vec2 v=vv0+vec2(-1.,0.)*u14,w=vv0+vec2(1.,0.)*u14,x=vv0+vec2(0.,1.)*u14,y=vv0+vec2(0.,-1.)*u14;vec3 Q=texture2D(u109,v).rgb,R=texture2D(u109,w).rgb,S=texture2D(u109,x).rgb,T=texture2D(u109,y).rgb;float U=n(a,Q)*o(v),V=n(a,R)*o(w),W=n(a,S)*o(x),X=n(a,T)*o(y),Y=2.*max(max(U,V),max(W,X)),Z=1.2*clamp(Y/g,0.,1.),_=max(N,Z);vec2 aa=J(a);vec3 ba=r(texture2D(u112,aa)),ca=(1.-O)*ba,z=normalize(M),A=G,B=reflect(-z,a);float da=floor(_*u3);vec2 ea=K(B,da);float fa=acos(-B.z),ga_=smoothstep(u115-u117,u115+u117,fa);vec3 ha=r(texture2D(u98,ea));A=mix(ha,u116,ga_*u118);float b=t+(P-t)*pow(1.+dot(a,z),l*15.);b=clamp(b,0.,1.);vec2 C=vv0;vec3 D=refract(vec3(0.,0.,-1.),a,.666667);float ia=smoothstep(.1,.3,length(D.xy)),E=sqrt(u14.y/u14.x),ja=smoothstep(.3,.8,i);C+=ja*D.xy*vec2(1./E,E)*ia*.03;vec3 ka=e*mix(ca,A,b);float q=i*(j*(1.-b)+b);vec3 f=mix(p(C),pow(ka,m/u121),q);float F=dot(f,H),la=max(0.,(F-1.)/(I-1.));f=mix(F*m,f,mix(1.,u122,q)*m);float ma=mix(la,q,u123);gl_FragColor=vec4(f,ma);}",
i:p.concat(["u123","u121","u122"]),precision:"highp"};U.ea&&(f.s95={name:"_",g:"uniform sampler2D u108,u109;uniform mat4 u124;uniform vec2 u125,u14,u126;uniform float u127,u128,u129,u130,u131,u132,u133,u134,u120;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u126;vec4 pos=texture2D(u108,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u127),s=sin(u127);vec3 no0=texture2D(u109,uvt).rgb;float zv=(u124*vec4(co0,1.)).z;vec3 co;vec2 scale=u125/abs(zv),uv,duv=u14*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u108,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u133,u134,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u108,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u133,u134,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u14*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u108,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u133,u134,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u108,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u133,u134,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u130,u131,1.),ao=dzFactor*clamp(u129*omegaMin*u132,0.,u120);gl_FragColor=vec4(ao,ao,ao,u128);}",
i:"u108 u109 u129 u128 u127 u14 u135 u130 u131 u132 u133 u134 u124 u125 u120".split(" "),Ea:[{search:"8888.8",replace:U.sk[fa.V()].toFixed(1)}],precision:"lowp"},f.s96={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u14*f)+texture2D(u1,a+u14*g)+texture2D(u1,a+u14*h)+texture2D(u1,a+u14*i);b+=texture2D(u1,a+u14*j)+texture2D(u1,a+u14*k)+texture2D(u1,a+u14*l)+texture2D(u1,a+u14*m),gl_FragColor=b/9.;}",
i:["u1","u14"],precision:"lowp"});f.s97={name:"_",g:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",u:"attribute vec3 a0;uniform mat4 u136,u124,u137;varying vec3 vv0;void main(){vec4 a=u136*u124*u137*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",i:["u136","u124","u137"],precision:"lowp"};f.s98={name:"_",g:"uniform sampler2D u138,u112,u99;uniform mat4 u136,u139;uniform vec2 u140;uniform float u141;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u140*(z-f),0.),B=vec3(u139*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u99,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u136*u,i=h.xyz/h.w;if(texture2D(u138,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u139*vec4(g,0.)),t+=texture2D(u112,y(s));}gl_FragColor=vec4(u141*t.rgb/n,1.);}",
i:"u138 u112 u99 u136 u139 u140 u141".split(" "),Ea:[{search:"8888.8",replace:U.qo[fa.V()].toFixed(1)},{search:"9999.9",replace:U.ro[fa.V()].toFixed(1)}],precision:"lowp"};f.s99={name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u14)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u14);gl_FragColor=a;}",i:["u1","u14"],precision:"lowp"};f.s100={name:"_",g:"uniform sampler2D u1,u142;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
u:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u136,u124;varying vec2 vv0;void main(){vec4 a=u136*u124*vec4(a0,1.);gl_Position=a,vv0=a1;}",i:["u136","u124","u1"],J:["a0","a1"],precision:"lowp"};if(fa.aa()){p="u41 u143 u144 u145 u146 u42 u111 u147 u148 u13 u149 u150 u78".split(" ").concat(H,t);fa.si()||(f.s101={name:"_",u:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",
i:[],precision:"lowp",da:!0});f.s102={name:"_",u:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",i:["color"],da:!0};f.s103NNGLcolor={name:"_",g:"uniform vec4 u111,u13;uniform vec3 u147;uniform float u148;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv3),c=u148;vec4 a=u111;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u147,0.),gl_FragData[3]=a;}",
u:"attribute vec3 a0,a2;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u149,u150,u145,u146,u152;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.);const vec3 r=vec3(1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,s);vec2 f=u85*e;vec3 c=u85*r;vec2 w=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,t).rgb+vec3(u79,0.,0.),u82,c);float x=mix(texture2D(u41,u).r,0.,u85);a.z+=x;mat3 h=v(a);vec3 y=mix(u143,u83,c);float z=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u81,1.,u85);vec2 k=u80/w;vec3 l=a0;float C=max(0.,-a0.z-u145)*u146;l.x+=C*sign(a0.x)*(1.-u85);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u149,u150,a0.z),vv0=m,vv3=a0.y;}",
i:p,J:["a0","a2"],R:[3,3],da:!0};f.s103NNGLtexture={name:"_",g:"uniform sampler2D u1;uniform vec4 u111,u13;uniform vec3 u147;uniform float u148,u73;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u148;vec4 b=u111;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u147,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u147,l,u73),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
u:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u149,u150,u145,u146,u152;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.);const vec3 s=vec3(1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,t);vec2 f=u85*e;vec3 c=u85*s;vec2 x=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,u).rgb+vec3(u79,0.,0.),u82,c);float y=mix(texture2D(u41,v).r,0.,u85);a.z+=y;mat3 h=w(a);vec3 z=mix(u143,u83,c);float A=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u81,1.,u85);vec2 k=u80/x;vec3 l=a0;float D=max(0.,-a0.z-u145)*u146;l.x+=D*sign(a0.x)*(1.-u85);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u149,u150,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:p.concat(G),J:["a0","a2","a1"],R:[3,3,2],da:!0};f.s103NNGLtextureNormalMap={name:"_",g:"uniform vec4 u111,u13;uniform vec3 u147;uniform sampler2D u1,u153;uniform float u148,u73;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u153,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u148;vec4 c=u111;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u147,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u147,t,u73),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u149,u150,u145,u146,u152;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.);const vec3 t=vec3(1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,u);vec2 f=u85*e;vec3 c=u85*t;vec2 y=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,v).rgb+vec3(u79,0.,0.),u82,c);float z=mix(texture2D(u41,w).r,0.,u85);a.z+=z;mat3 h=x(a);vec3 A=mix(u143,u83,c);float B=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u81,1.,u85);vec2 k=u80/y;vec3 l=a0;float E=max(0.,-a0.z-u145)*u146;l.x+=E*sign(a0.x)*(1.-u85);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv4=smoothstep(u149,u150,a0.z),vv0=a3,vv3=a1,vv1=m,vv5=a0.y;}",
i:p.concat(G,["u153"]),J:["a3","a0","a2","a1"],R:[4,3,3,2],da:!0};f.s103NNGLtextureParamsMap={name:"_",g:"uniform sampler2D u1,u74;uniform vec4 u111,u13,u75;uniform vec3 u147;uniform float u148,u73;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u148;vec4 a=u111,e=texture2D(u74,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u75*f),d=mix(d,r,u75.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u147,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u147,u,u73),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
u:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u149,u150,u145,u146,u152;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.);const vec3 s=vec3(1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,t);vec2 f=u85*e;vec3 c=u85*s;vec2 x=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,u).rgb+vec3(u79,0.,0.),u82,c);float y=mix(texture2D(u41,v).r,0.,u85);a.z+=y;mat3 h=w(a);vec3 z=mix(u143,u83,c);float A=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u81,1.,u85);vec2 k=u80/x;vec3 l=a0;float D=max(0.,-a0.z-u145)*u146;l.x+=D*sign(a0.x)*(1.-u85);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u149,u150,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:p.concat(G,A),J:["a0","a2","a1"],R:[3,3,2],da:!0};f.s103NNGLtextureNormalParamsMap={name:"_",g:"uniform sampler2D u1,u153,u74;uniform vec4 u111,u13,u75;uniform vec3 u147;uniform float u148,u73;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u153,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u148;vec4 a=u111,f=texture2D(u74,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u75*l),e=mix(e,z,u75.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u147,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u147,C,u73),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u151;uniform float u144,u149,u150,u145,u146,u152;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.);const vec3 t=vec3(1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,u);vec2 f=u85*e;vec3 c=u85*t;vec2 y=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,v).rgb+vec3(u79,0.,0.),u82,c);float z=mix(texture2D(u41,w).r,0.,u85);a.z+=z;mat3 h=x(a);vec3 A=mix(u143,u83,c);float B=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u81,1.,u85);vec2 k=u80/y;vec3 l=a0;float E=max(0.,-a0.z-u145)*u146;l.x+=E*sign(a0.x)*(1.-u85);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv4=smoothstep(u149,u150,a0.z),vv0=a3,vv3=a1,vv1=m,vv5=a0.y;}",
i:p.concat(G,["u153"],A),J:["a3","a0","a2","a1"],R:[4,3,3,2],da:!0};p="u136 u124 u137 u111 u147 u148 u13".split(" ");f.s103color={name:"_",g:"uniform vec4 u111,u13;uniform vec3 u147;uniform float u148;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv3),c=u148;vec4 a=u111;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u147,0.),gl_FragData[3]=a;}",
u:"attribute vec3 a0,a2;uniform mat4 u136,u124,u137;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u137*vec4(a0,1.),b=u137*vec4(a2,0.);gl_Position=u136*u124*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",i:p,J:["a0","a2"],da:!0};f.s103={name:"_",g:"uniform sampler2D u1;uniform vec4 u111,u13;uniform vec3 u147;uniform float u148,u73;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u148;vec4 b=u111;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u147,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u147,l,u73),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
u:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u136,u124,u137;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u137*vec4(a0,1.),b=u137*vec4(a2,0.);gl_Position=u136*u124*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:p.concat(G),J:["a0","a2","a1"],da:!0};var l=["u153","u154"];f.s103NormalMap={name:"_",g:"uniform sampler2D u1,u153;uniform vec4 u111,u13;uniform vec3 u154,u147;uniform float u148,u73;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u153,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u148;vec4 c=u111;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u147,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u147,t,u73),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u136,u124,u137;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u137*vec4(a0,1.),b=u137*vec4(a2,0.);gl_Position=u136*u124*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:p.concat(G,l),J:["a0","a2","a1","a3"],da:!0};f.s103ParamsMap={name:"_",g:"uniform sampler2D u1,u74;uniform vec4 u111,u13,u75;uniform vec3 u147;uniform float u148,u73;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv4),d=u148;vec4 a=u111,e=texture2D(u74,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u75*f),d=mix(d,r,u75.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u147,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u147,u,u73),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
u:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u136,u124,u137;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u137*vec4(a0,1.),b=u137*vec4(a2,0.);gl_Position=u136*u124*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:p.concat(G,A),J:["a0","a2","a1"],da:!0};f.s103NormalParamsMap={name:"_",g:"uniform sampler2D u1,u153,u74;uniform vec4 u111,u13,u75;uniform vec3 u154,u147;uniform float u148,u73;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u153,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u148;vec4 a=u111,f=texture2D(u74,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u75*l),e=mix(e,z,u75.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u147,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u147,C,u73),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
u:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u136,u124,u137;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u137*vec4(a0,1.),b=u137*vec4(a2,0.);gl_Position=u136*u124*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:p.concat(G,l,A),J:["a0","a2","a1","a3"],da:!0}}else q();r();p=[{type:"1i",name:"u1",value:0}];g.j("s0",p);g.j("s1",p);g.j("s75",[{type:"1i",name:"u12",value:1}].concat(p));g.j("s76",[{type:"1i",name:"u12",
value:1}].concat(p));g.j("s12",[{type:"1i",name:"u88",value:1}].concat(p));g.j("s77",[{type:"1i",name:"u88",value:1}].concat(p));g.j("s78",p);g.j("s79",p);g.j("s80",[{type:"1i",name:"u92",value:1},{type:"1i",name:"u41",value:2}].concat(p));g.j("s81",p);g.j("s13",p);g.j("s83",[{type:"1i",name:"u94",value:0},{type:"1i",name:"u95",value:1}]);g.j("s84",[{type:"1i",name:"u98",value:0},{type:"1i",name:"u99",value:1}]);g.j("s85",p);g.j("s86",p);g.j("s87",p);g.j("s88",p);g.j("s89",p);g.j("s90",[{type:"1i",
name:"u88",value:1}].concat(p));g.j("s91",[{type:"1i",name:"u88",value:1}].concat(p));U.ea&&(g.j("s95",[{type:"1i",name:"u108",value:0},{type:"1i",name:"u109",value:1},{type:"1f",name:"u130",value:U.fk},{type:"1f",name:"u131",value:U.gk},{type:"1f",name:"u132",value:U.tk},{type:"1f",name:"u133",value:U.jk},{type:"1f",name:"u134",value:U.kk},{type:"1f",name:"u129",value:1},{type:"1f",name:"u120",value:1}]),g.j("s96",p));l=[{type:"1i",name:"u108",value:0},{type:"1i",name:"u109",value:1},{type:"1i",
name:"u110",value:2},{type:"1i",name:"u98",value:3},{type:"1i",name:"u112",value:4},{type:"1i",name:"u111",value:6},{type:"1i",name:"u100",value:7},{type:"1f",name:"u118",value:0},{type:"1f",name:"u115",value:0},{type:"1f",name:"u117",value:0}];U.ea&&g.j("s93",l.concat([{type:"1f",name:"u120",value:U.ik[fa.V()]},{type:"1i",name:"u119",value:5}]));g.j("s94",l.concat([{type:"1f",name:"u121",value:U.Rc},{type:"1f",name:"u122",value:U.hg},{type:"1f",name:"u123",value:0}]));g.j("s98",[{type:"1i",name:"u138",
value:0},{type:"1i",name:"u112",value:1},{type:"1i",name:"u99",value:2},{type:"1f",name:"u141",value:U.po}]);g.j("s99",p);g.j("s100",p);g.j("s92",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u101",value:2},{type:"1i",name:"u100",value:3},{type:"1f",name:"u106",value:1},{type:"2f",name:"u103",value:[0,0]}].concat(p));fa.aa()?(g.j("s103",p),g.j("s103NormalMap",[{type:"1i",name:"u153",value:1}].concat(p)),g.j("s103ParamsMap",[{type:"1i",name:"u74",value:1}].concat(p)),g.j("s103NormalParamsMap",[{type:"1i",
name:"u153",value:1},{type:"1i",name:"u74",value:2}].concat(p))):n();v=!0},ao:function(){q();r();n()},Bd:function(){return B.id},qf:function(){return H},rf:function(){return t},set:function(p){tb.rj(g);f[p].set()},zb:function(p){return m(p,x())},de:function(p){return m(p,{name:"_",g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"})},eo:function(p){return m(p,{name:"_",g:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",
i:[],precision:"highp",da:!0})},I:function(){-1!==h&&B.I()},ge:function(){var p=0;B.va.forEach(function(l,C){C=B.R[C];c.vertexAttribPointer(l,C,c.FLOAT,!1,B.Wg,p);p+=4*C})},ec:function(){g.fc(c)},fc:function(p){p.vertexAttribPointer(B.va[0],2,p.FLOAT,!1,8,0)},oq:function(){c.vertexAttribPointer(B.attributes.a0,3,c.FLOAT,!1,12,0)},Oa:function(){c.vertexAttribPointer(B.attributes.a0,3,c.FLOAT,!1,32,0)},Za:function(){c.vertexAttribPointer(B.attributes.a0,3,c.FLOAT,!1,24,0)},kj:function(){c.vertexAttribPointer(B.attributes.a2,
3,c.FLOAT,!1,32,12)},lj:function(){c.vertexAttribPointer(B.attributes.a2,3,c.FLOAT,!1,24,12)},Tc:function(){c.vertexAttribPointer(B.attributes.a1,2,c.FLOAT,!1,32,24)},pq:function(){c.vertexAttribPointer(B.attributes.a0,3,c.FLOAT,!1,20,0);c.vertexAttribPointer(B.attributes.a1,2,c.FLOAT,!1,20,12)},Sn:function(){c.vertexAttribPointer(B.attributes.a0,3,c.FLOAT,!1,32,0);c.vertexAttribPointer(B.attributes.a2,3,c.FLOAT,!1,32,12);c.vertexAttribPointer(B.attributes.a1,2,c.FLOAT,!1,32,24)},Tn:function(){c.vertexAttribPointer(B.attributes.a0,
3,c.FLOAT,!1,32,0);c.vertexAttribPointer(B.attributes.a2,3,c.FLOAT,!1,32,12)},Un:function(){c.vertexAttribPointer(B.attributes.a0,3,c.FLOAT,!1,24,0);c.vertexAttribPointer(B.attributes.a2,3,c.FLOAT,!1,24,12)},be:function(){c.vertexAttribPointer(B.attributes.a3,4,c.FLOAT,!1,16,0)},ee:function(p,l){c.uniform1i(B.A[p],l)},H:function(p,l){c.uniform1f(B.A[p],l)},N:function(p,l,C){c.uniform2f(B.A[p],l,C)},fe:function(p,l){c.uniform2fv(B.A[p],l)},zg:function(p,l,C,K){c.uniform3f(B.A[p],l,C,K)},Ag:function(p,
l){c.uniform3fv(B.A[p],l)},xa:function(p,l){c.uniform4fv(B.A[p],l)},jo:function(p,l){c.uniformMatrix2fv(B.A[p],!1,l)},ko:function(p,l){c.uniformMatrix3fv(B.A[p],!1,l)},Uc:function(p,l){c.uniformMatrix4fv(B.A[p],!1,l)},j:function(p,l){g.set(p);l.forEach(function(C){switch(C.type){case "4f":c.uniform4fv(B.A[C.name],C.value);break;case "3f":c.uniform3fv(B.A[C.name],C.value);break;case "2f":c.uniform2fv(B.A[C.name],C.value);break;case "1f":c.uniform1f(B.A[C.name],C.value);break;case "1i":c.uniform1i(B.A[C.name],
C.value);break;case "mat2":c.uniformMatrix2fv(B.A[C.name],!1,C.value);break;case "mat4":c.uniformMatrix4fv(B.A[C.name],!1,C.value)}})},L:function(){for(var p in f){var l=f[p];c.detachShader(l.na,l.tf);c.detachShader(l.na,l.sf);c.deleteShader(l.tf);c.deleteShader(l.sf);c.deleteProgram(l.na)}},v:function(){c.disableVertexAttribArray(0);g.I();g.L();L=0;v=!1;B=null;h=-1}};return g}(),Wa=function(){var a={},b=[],d=!1,e=0,k=0,m=-1,x=-1,n=-1,q=1,r=null,v=!1,G=null,A=!1,H=!1,t=!1,f=!1,h=!1,B=!1,L=!1,g=!1,
p=null,l=null,C=-1,K=-1,I=null,y=-1,F,N=null,w=null,z=null,O=null,W=null,ba=null,ka=null,Q=[{type:"1f",name:"u85",value:0},{type:"1f",name:"u149",value:0},{type:"1f",name:"u150",value:0},{type:"1f",name:"u80",value:1},{type:"1f",name:"u77",value:0},{type:"1f",name:"u87",value:1}],ia={m:function(u,P){a.Cg=u;fa.Sg();Cc.ef();Rb.ef(u.ze);m=u.hf;x=u.Xo;n=u.Zf;q=u.ye;var D=[{type:"1f",name:"u80",value:m},{type:"1f",name:"u77",value:n},{type:"1f",name:"u81",value:u.Jn},{type:"mat4",name:"u76",value:u.nn},
{type:"2f",name:"u42",value:u.Rj}];u.Qg=D;var R=[{type:"3f",name:"u82",value:[0,0,0]},{type:"3f",name:"u83",value:u.$g},{type:"3f",name:"u84",value:u.Zg},{type:"1f",name:"u85",value:0},{type:"1f",name:"u86",value:u.ze},{type:"1f",name:"u87",value:1}];u.Jj=R;ia.pm(u,P);d||void 0!==u.Da||(u.Da=[0,0,120]);g=L=J.uf;if(!d&&L){P=1*fa.tb();var ha=1*fa.sb(),za={isLinear:!0,isPot:!1,width:P,height:ha};p=aa.instance(za);l=aa.instance(za);C=1/P;K=1/ha}D=[{type:"1i",name:"u41",value:1},{type:"3f",name:"u78",
value:u.Da},{type:"1f",name:"u145",value:u.gd},{type:"1f",name:"u146",value:u.Jb}].concat(D,R);r=u.Nc;R=[{type:"1f",name:"u149",value:r[0]},{type:"1f",name:"u150",value:r[1]}];fa.aa()?(P=[{type:"1i",name:"u1",value:0}],ha=[{type:"1i",name:"u153",value:2}],E.j("s103NNGLcolor",D.concat(R)),E.j("s103NNGLtexture",[].concat(P,D,R)),E.j("s103NNGLtextureNormalMap",[].concat(P,ha,D,R)),E.j("s103NNGLtextureParamsMap",[{type:"1i",name:"u74",value:2}].concat(P,D,R)),E.j("s103NNGLtextureNormalParamsMap",[{type:"1i",
name:"u74",value:3}].concat(P,ha,D,R))):(E.j("s107",D.concat(R)),E.j("s108",[{type:"1i",name:"u1",value:0}].concat(D)),E.j("s109",D),E.j("s110",D),E.j("s111",D.concat([{type:"1i",name:"u153",value:0}])),E.j("s112",D),E.j("s113",D.concat([{type:"1i",name:"u74",value:0}])));E.j("s80",[{type:"2f",name:"u93",value:u.Jg}]);E.j(U.ea?"s93":"s94",[{type:"1f",name:"u115",value:u.Ie},{type:"3f",name:"u116",value:u.ng},{type:"1f",name:"u117",value:u.Ve},{type:"1f",name:"u118",value:1},{type:"3f",name:"u113",
value:u.Vj}]);if(F=u.Od)I=u.Qm,y=u.Pd,E.j("s92",[{type:"4f",name:"u102",value:u.Nd},{type:"1f",name:"u105",value:u.Qf},{type:"2f",name:"u103",value:u.Pm},{type:"1f",name:"u107",value:Math.sign(y)}]);b.forEach(function(wa){wa.gj(u)});d=!0},cc:function(u){H&&ua.ga_.cc(u);f&&ua.ra.cc(u)},pm:function(u,P){void 0!==ua.ga_&&u.ic&&fa.aa()&&(ua.ga_.m(u),A=!0,P.push(function(D){ua.ga_.cc(D);H=!t}));void 0!==ua.ra&&u.nd&&(ua.ra.m(u),P.push(function(D){ua.ra.cc(D);f=!0}));void 0!==ua.qc&&u.Le&&(ua.qc.m(u),B=
h=!0);void 0!==ua.lb&&(ua.lb.m(u),G=ua.lb.rm({width:u.Gc,height:2*u.Gc,depth:1.5*u.Gc,wl:-u.yf,Ta:u.wf,$k:u.xf}),v=!0)},ho:function(u,P,D,R){u&&(ka=u,A&&ua.ga_.dc(u),f&&ua.ra.dc(u),h&&ua.qc.dc(u),b.forEach(function(ha){ha.dc(u)}));D&&(O=D);R&&(W=R)},Ab:function(u){fa.aa()?(E.j("s103NNGLcolor",u),E.j("s103NNGLtexture",u),E.j("s103NNGLtextureNormalMap",u),E.j("s103NNGLtextureParamsMap",u),E.j("s103NNGLtextureNormalParamsMap",u)):(E.j("s107",u),E.j("s108",u),E.j("s109",u),E.j("s110",u),E.j("s111",u),
E.j("s112",u),E.j("s113",u))},ab:function(u,P,D){var R=[u[0]+P[0],u[1]+P[1],u[2]+P[2]];R=[R[0]+D[0],R[1]+D[1],R[2]+D[2]];a.Zd=R;a.Ym=P;a.Lo=D;ia.Ab([{type:"3f",name:"u143",value:R}]);fa.aa()&&(A&&ua.ga_.ab(u,P,D),f&&ua.ra.ab(R));v&&ua.lb.ab(u)},bb:function(u,P,D){var R=u*P*D;a.Zm=P;a.Mo=D;a.im=u;ia.Ab([{type:"1f",name:"u144",value:R}]);fa.aa()&&(A&&ua.ga_.bb(u*P,D),f&&ua.ra.bb(R));v&&ua.lb.bb(u)},aj:function(){ia.ab(a.Zd,a.Ym,a.Lo);ia.bb(a.im,a.Zm,a.Mo);ia.pj(a.rx);ia.m(a.Cg);ia.mj(a.Bk,a.Jb)},pj:function(u){a.rx=
u;ia.Ab([{type:"1f",name:"u79",value:u}]);fa.aa()&&(A&&ua.ga_.xg(u),f&&ua.ra.xg(u))},mj:function(u,P){a.Bk=u;a.Jb=P;ia.Ab([{type:"1f",name:"u145",value:u},{type:"1f",name:"u146",value:P}])},Zn:function(u){r=u;0===e&&ia.Ab([{type:"1f",name:"u149",value:r[0]},{type:"1f",name:"u150",value:r[1]}])},$a:function(u){function P(){v&&ua.lb.toggle(!1);F&&E.j("s92",[{type:"1f",name:"u106",value:0}])}0>=u?(k=0,0!==e&&(e=0,Rb.Dn(),v&&ua.lb.toggle(!0),F&&E.j("s92",[{type:"1f",name:"u106",value:1}]))):1<=u?(k=1,
1!==e&&(e=1,Rb.xj(!0)),P()):(k=u,2!==e&&(Rb.xj(!1),e=2,P()));E.j("s94",[{type:"1f",name:"u118",value:1-u}]);Q[0].value=k;Q[1].value=r[0]*(1-u)+-300*u;Q[2].value=r[1]*(1-u)+-300*u;Q[3].value=m*(1-u)+u*x;Q[4].value=n*(1-u);Q[5].value=1-u+u*q;H&&ua.ga_.yg(k,Q);f&&ua.ra.yg(k,Q);ia.Ab(Q)},tl:function(u){ka.h(1);u.forEach(function(P){P.ol()});v&&G.U()},Jm:function(){return 1===e},Je:function(u){ka.Ha(u)},$j:function(u){b.push(u)},Hg:function(u){t=!u;H=u&&A},Gg:function(u){B=u&&h},ug:function(u){f&&fa.aa()&&
ua.ra.lo(u)},Bb:function(u){fa.aa()&&(A&&ua.ga_.Bb(u),f&&ua.ra.Bb(u))},ql:function(u,P){if(!g)return!1;p.M();u.h(0);E.set("s85");E.N("u14",0,K);X.l(!1,!1);l.o();p.h(0);E.N("u14",C,0);X.l(!1,!1);E.set("s86");P.M();l.h(0);X.l(!1,!1);return!0},wj:function(u){g=u&&L},resize:function(u,P,D){L&&(u*=D,P*=D,p.resize(u,P),l.resize(u,P),C=1/u,K=1/P)},sg:function(u,P){var D=u.O(),R=u.Y(),ha={width:D,height:R,isPot:!1};A&&(z&&z.remove(),z=aa.instance(ha));N=ya.instance({width:D,height:R});h||f?(ua.qc.tg(D,R),
w&&w.remove(),w=aa.instance(ha)):w=u;A&&ua.ga_.tg(D,R);P&&(ba&&ba.remove(),ba=aa.instance(ha))},ml:function(u){var P=null;switch(e){case 0:P=u;break;case 2:N.bind(!1,!0);ba.o();E.set("s75");E.H("u13",k);u.h(1);W.h(0);X.l(!0,!0);P=ba;break;case 1:P=W}if(!H||1===e||!fa.aa())return P;P.Ha(0);B&&ua.qc.U(P,w);N.bind(!1,!B);f&&(B?P.h(0):(w.o(),E.set("s1"),X.l(!0,!0)),ua.ra.U());w.h(0);O.Ha(2);ua.ga_.U();z.o();E.set("s1");B||f?w.h(0):P.h(0);X.l(!0,!U.ea);ua.ga_.add();return z},ak:function(u,P){if(!H)return u;
O.Ha(2);ua.ga_.U();ya.$();E.set("s74");P.M();ua.ga_.cm().h(0);X.l(!0,!0);E.set("s1");c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);u.h(0);X.l(!1,!1);c.disable(c.BLEND);return P},rl:function(u,P){if(!F)return!1;E.set("s92");E.H("u104",u*y);I.h(1);Wa.Je(2);w?w.h(3):P.h(3);return!0},v:function(){d=!1;k=e=0;n=x=m=-1;q=1;r=null;v=!1;G=null;B=h=f=t=H=A=!1;ua.ga_.v();ua.Pa.v()}};return ia}(),va=function(){function a(){n.forEach(function(D){D.ul(z)})}function b(){n.forEach(function(D){D.rd(z)})}
function d(){n.forEach(function(D){D.sl(z)})}function e(){n.forEach(function(D){D.sd(z)})}function k(){z?Wa.tl(n):n.forEach(function(D){D.pl()})}function m(){F&&clearTimeout(F);F=setTimeout(function(){l=!1;F=null},16)}function x(D){D()}var n=[],q=[],r={ha:!1,position:!1,vb:!1},v=[],G=[],A=null,H=0,t=null,f=null,h=null,B=null,L=!1,g=!1,p=!1,l=!1,C=!1,K=!1,I=null,y=null,F=null,N=null,w=!1,z=!1,O=!1,W=!1,ba=!0,ka=!1,Q=!1,ia=null,u=null,P={m:function(){c.enable(c.DEPTH_TEST);c.depthFunc(c.LEQUAL);c.clearDepth(1);
U.Yk?(c.enable(c.CULL_FACE),c.frontFace("CCW"===U.Zk?c.CCW:c.CW),c.cullFace(c.BACK)):c.disable(c.CULL_FACE);P.qh();var D={isPot:!1,isLinear:!1,width:fa.tb(),height:fa.sb(),G:4,isFloat:!1};t=aa.instance(D);D=Object.assign({},D,{isLinear:!0,width:fa.O(),height:fa.Y()});f=aa.instance(D);h=aa.instance(D);U.Ma&&(D=Object.assign({},D,{isLinear:!1}),B=aa.instance(D));K=Ga.fa();U.Ma||(A=fc.instance({Ib:U.Ib,wc:U.wc,xc:U.xc,vc:U.vc}));L=!0},qh:function(){fa.aa()?r=tc.instance({}):(r.ha=Jb.instance({hc:U.Ma?
!1:"s104",isFloat:!1,Ub:!0,clearColor:[0,0,0,0],G:4}),r.position=Jb.instance({hc:U.Ma?!1:"s114",isFloat:!0,Ub:!0,clearColor:[0,0,0,0],G:4}),r.vb=Jb.instance({hc:!1,isFloat:!0,Ub:!0,clearColor:[0,0,0,0],G:4}),r.Oc=Jb.instance({hc:!1,isFloat:!1,Ub:!0,clearColor:[0,0,0,0],G:4}))},Rl:function(){return A},sa:function(D){A=D},Eq:function(){},Bb:function(D){Wa.Bb(D)},gj:function(D){Wa.m(D,v);fa.aa()||(r.ha.qj(!1),r.position.qj("s107"));z=W=!0},lq:function(){Wa.aj()},fp:function(D){Wa.$j(D)},On:function(D,
R,ha){Wa.ab(D,R,ha)},Pn:function(D,R,ha){Wa.bb(D,R,ha)},Mn:function(D,R){Wa.mj(D,R)},Nn:function(D){Wa.Zn(D)},Qn:function(D){Wa.pj(D)},$a:function(D){Wa.$a(D)},hj:function(D,R,ha,za){Wa.ho(D,R,ha,za);R&&P.sg(R,za?!0:!1);O=!0},Hg:function(D){Wa.Hg(D)},ug:function(D){Wa.ug(D)},Gg:function(D){Wa.Gg(D)},wj:function(D){Wa.wj(D)},gp:function(D){w&&(Q=!0,ia=aa.instance({width:N.O(),height:N.Y(),isPot:!1}),u=D)},sg:function(D,R){N="string"===typeof D?aa.instance({url:D,isFloat:!1}):D;z&&Wa.sg(N,R);w=!0},
Zj:function(D){n.push(D);0!==v.length&&(v.forEach(function(R){R(D)}),v.splice(0,v.length))},yn:function(D){D=n.indexOf(D);-1!==D&&n.splice(D,1)},hp:function(D){q.push(D)},iq:function(D){D=q.indexOf(D);-1!==D&&q.splice(D,1)},le:function(D){z&&(g=D)},animate:function(D){!U.Ma||z&&O?g&&(l||H>U.$m&&C?(I&&clearTimeout(I),++H,window.cancelAnimationFrame(P.animate),I=setTimeout(function(){window.requestAnimationFrame(P.animate)},16)):(P.Wi(D),++H,z||g&&window.requestAnimationFrame(P.animate))):setTimeout(P.animate,
100)},jp:function(D){G.push(D)},Wi:function(D){if((!U.Ma||z&&O)&&L){G.forEach(x);fa.aa()?r.set()||fa.ka()?(z||xc.An(),k(),r.I(),K&&c.depthMask(!1)):(fa.Ao(),P.qh(),Jb.ed(),E.ao(),U.Ma&&Wa.aj(),c.flush(),window.requestAnimationFrame(P.animate)):(z&&Wa.Je(1),r.ha.set(!0,!0,!0),b(),r.ha.I(),K&&c.depthMask(!1),r.Oc.set(!1,!K,!1),d(),r.Oc.I(),r.position.set(!0,!K,!1),sb.U(),a(),r.position.I(),r.vb.set(!1,!K,!1),e(),r.vb.I());c.disable(c.DEPTH_TEST);K||c.depthMask(!1);U.ea&&Cb.U();var R=P.Mh();if(null!==
R){R.h(7);E.set(U.ea?"s93":"s94");E.N("u14",1/fa.tb(),1/fa.sb());Jb.Ck();t.M();ka?(c.enable(c.BLEND),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),E.H("u123",1)):c.disable(c.BLEND);z||sb.df();r.position.h(0);r.vb.h(1);r.ha.h(2);A.hd(3);r.Oc.h(6);A.jd(4);A.uh();U.ea&&Cb.h(5);X.l(!0,!0);ka&&E.H("u123",0);ya.$();if(ka){c.disable(c.BLEND);var ha=Wa.ak(t,f);E.set("s82");h.M();ha.h(0);X.l(!1,!1);f.o();h.h(0);X.l(!1,!1);f.h(0)}else Wa.ql(t,f)||(E.set("s1"),f.M(),
t.h(0),X.l(!1,!1)),ba?(E.set("s81"),h.M(),f.h(0),X.l(!1,!1),f.o(),h.h(0),W&&z?(E.set("s80"),B.h(1),Wa.Je(2),X.l(!1,!1),E.set("s1"),B.M(),f.h(0),X.l(!1,!1)):(E.set("s79"),X.l(!1,!1),f.h(0))):f.h(0);ya.ba();c.viewport(0,0,fa.O(),fa.Y());!ka&&z&&Wa.rl(D,R)||E.set("s1");X.l(!1,!1);c.enable(c.DEPTH_TEST);c.depthMask(!0);c.flush()}}},Mh:function(){if(!w||ka)return aa.Yh();if(!z)return N;if(Q&&!Wa.Jm()){E.set(u);ya.$();ia.Vc();ia.o();N.h(0);var D=ia;X.l(!0,!0)}else D=N;return Wa.ml(D)},to:function(){U.dl||
g||(g=!0,P.animate(Date.now()),p||uc.uo(),p||Rb.pc(!1),y&&clearTimeout(y),U.ea&&Cb.ce(),y=setTimeout(P.ta,U.yk),p||fa.lm(),p=!0)},Bq:function(){g&&(C=g=!1,cancelAnimationFrame(P.animate))},ta:function(){C||!p||l||U.sh||(C=l=!0,y&&clearTimeout(y),F&&clearTimeout(F),sb.kf().Yi(),y=setTimeout(function(){fa.Ug(U.dn);U.ea&&Cb.Kj();H=0;m()},24))},wake:function(){C&&p&&!l&&(l=!0,C=!1,H=0,sb.kf().Yi(),y&&clearTimeout(y),F&&clearTimeout(F),y=setTimeout(function(){fa.Ug(1);U.ea&&Cb.ce();m()},16))},Sp:function(){},
yp:function(){},ke:function(D){W=D},Dq:function(D){ba=D},yj:function(D){ka=D},Iq:function(){E.j("s94",[{type:"1f",name:"u121",value:U.Rc},{type:"1f",name:"u122",value:U.hg}])},resize:function(D,R,ha){t.resize(D*ha,R*ha);f.resize(D,R);h.resize(D,R);U.Ma&&B.resize(D,R);Wa.resize(D,R,ha);D=[{type:"2f",name:"u14",value:[1/D,1/R]}];E.j("s81",D);E.j("s79",D)},L:function(){I&&clearTimeout(I);y&&clearTimeout(y);F&&clearTimeout(F);n.concat(q).forEach(function(D){D.L()});n.splice(0,n.length);q.splice(0,q.length);
r.ha.remove();r.vb.remove();r.Oc.remove();r.position.remove();t.remove();f.remove();h.remove();B&&B.remove();l=!0},v:function(){P.L();K=C=l=p=g=z=O=l=!1}};return P}(),ua={},fa=function(){function a(){Jb.resize(d*q,e*q);t.aa()&&tc.resize(d*q,e*q);va.resize(d,e,q);U.ea&&Cb.resize(d*q,e*q,q);t.Sg()}var b=null,d=0,e=0,k=-1,m=!1,x={oe:!1,Kg:!1,Hj:!1,Dg:!1,drawBuffers:!1,Cm:!1,oi:!1,Em:!1,Kc:!1,Xa:!1},n=Object.assign({},x),q=1,r=!1,v=!1,G=!1,A=!1,H=!1,t={m:function(f){void 0!==f.onload&&f.onload&&(v=f.onload);
void 0===f.expand&&(f.expand=!1);void 0===f.Jd&&(f.Jd=!1);void 0===f.pa&&(f.pa=!1);void 0===f.Pb&&(f.Pb=!1);void 0===f.alpha&&(f.alpha=!1);void 0===f.preserveDrawingBuffer&&(f.preserveDrawingBuffer=!1);f.Jd&&(m=!0);b=f.pa?f.pa:document.getElementById(f.Sk);f.expand&&t.expand();try{window.bp=f.Pb?f.Pb.Dl():b.getContext("webgl",{antialias:!1,alpha:f.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:f.preserveDrawingBuffer});A=f.Pb?f.Pb.ka():!1;G=!A;8>c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS)&&
t.od("too few texture image units");if(!Ga.m())return t.od("invalid config");U.Io&&(n.Kg=c.getExtension("EXT_texture_filter_anisotropic"),n.Kg&&(n.oi=!0));U.Jo&&(n.oe=c.getExtension("WEBGL_compressed_texture_s3tc"),n.oe&&void 0!==n.oe.COMPRESSED_RGBA_S3TC_DXT5_EXT&&n.oe.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(n.Cm=!0));G&&(n.Hj=c.getExtension("OES_element_index_uint")||c.getExtension("MOZ_OES_element_index_uint")||c.getExtension("WEBKIT_OES_element_index_uint"),n.Hj&&(n.Em=!0));!A&&U.Ko&&(n.Dg=c.getExtension("EXT_sRGB"),
n.Dg&&(n.Kc=!0));G?(n.drawBuffers=c.getExtension("WEBGL_draw_buffers"),n.drawBuffers&&!U.rh&&(n.Xa=!0)):n.Xa=4<=c.getParameter(c.MAX_DRAW_BUFFERS);if(n.Xa){var h=t.fl();n.Xa=n.Xa&&h}}catch(B){return t.od(B)}if(null===c||!c)return t.od("NO_GL");f.expand&&window.addEventListener("resize",t.expand,!1);b.addEventListener("contextmenu",function(B){B.preventDefault();return!1},!1);d=b.width;e=b.height;t.Cf();return!0},Cf:function(){k=m?3:2;Ga.fa()||(k=Math.min(k,1));Ga.Ok()||(k=Math.min(k,0));Cc.m();Jb.m();
for(var f in ua)ua[f].Sc();E.m();sb.m();Rb.m();va.m();uc.m();U.ea&&Cb.m();"undefined"!==typeof FPSCounter&&FPSCounter.m();t.Sg();t.hl();r=!0;v&&v();return!0},hl:function(){if(n.Xa){var f=tc.instance({width:256,height:1});f.bind();c.viewport(0,0,256,1);E.set("s102");E.xa("color",[1,0,0,1]);X.l(!0,!0);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT||c.DEPTH_BUFFER_BIT);ya.ba();E.set("s1");f.vb.h(0);X.l(!1,!1);f=new Uint8Array(1024);c.readPixels(0,0,256,1,c.RGBA,c.UNSIGNED_BYTE,f);H=1>=f[1020]}},fl:function(){var f=
tc.instance({width:1,height:1});if(!f.set())return f.remove(),!1;E.eo(c);X.Nb(c);c.bindFramebuffer(c.FRAMEBUFFER,null);E.zb(c);f.ha.Ha(0);X.Nb(c);var h=new Uint8Array(4);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,h);f.remove();return 3<Math.abs(h[0]-127)?!1:!0},ka:function(){return A},O:function(){return d},Y:function(){return e},tb:function(){return q*t.O()},sb:function(){return q*t.Y()},El:function(){return d/e},V:function(){return k},Hm:function(){return 3===k},si:function(){return H},aa:function(){return n.Xa},
Ao:function(){n.Xa=!1},$p:function(){return!1},Qk:function(){return 0<t.V()},pp:function(){return t.aa()&&0<t.V()},jf:function(f){var h=c,B="";A||(h=n.drawBuffers,B="_WEBGL");return[h["COLOR_ATTACHMENT0"+B],h["COLOR_ATTACHMENT1"+B],h["COLOR_ATTACHMENT2"+B],h["COLOR_ATTACHMENT3"+B]].splice(0,f)},Ad:function(f){return t.jf(4)[f]},fm:function(){return A?c.SRGB?c.SRGB:c.RGBA:n.Kc?n.Dg.SRGB_ALPHA_EXT:c.RGBA},Fm:function(){return n.oi},Jl:function(){return n.Kg},Tm:function(f){t.ka()?c.drawBuffers(t.jf(f)):
n.drawBuffers.drawBuffersWEBGL(t.jf(f))},expand:function(){va.wake();t.resize(window.innerWidth,window.innerHeight);va.ta()},resize:function(f,h){!b||f===d&&h===e||(d=f,e=h,b.width=d,b.height=e,r&&(sb.resize(),a()))},Sg:function(){var f=[{type:"2f",name:"u14",value:[1/fa.tb(),1/fa.sb()]}];E.j("s81",f);E.j("s79",f)},Ug:function(f){q=f;a()},Ga:function(f,h){b.addEventListener(f,h,!1)},od:function(){k=-1;return!1},lh:function(){return 0<=k},cq:function(){},mq:function(){},zq:function(){var f=document.getElementById("loading");
f&&(f.style.display="block")},lm:function(){var f=document.getElementById("loading");f&&(f.style.display="none")},L:function(){t.lh()&&(aa.Ij(),va.L(),X.L(),Jb.L(),U.ea&&Cb.L(),fc.L(),uc.L(),E.L(),aa.L(),c.flush(),c=null)},v:function(){va.v();Wa.v();E.v();Object.assign(n,x);r=!1}};return t}(),sb=function(){var a=!1,b=!1,d=[];return{m:function(){},instance:function(e){void 0===e.Zi&&(e.Zi=!0);void 0===e.Ce&&(e.Ce=.1);void 0===e.Be&&(e.Be=100);void 0===e.direction&&(e.direction=[0,0,-1]);void 0===e.Ob&&
(e.Ob=45);var k=new Zb,m=new Va(50,-50,-400),x=null;k.setPosition(m);var n=new Int8Array(20),q=new Int8Array(20),r=0,v=0,G=0,A=0,H={U:function(){q[E.Bd()]||(E.Uc("u124",k.elements),q[E.Bd()]=1);n[E.Bd()]||(E.Uc("u136",x),n[E.Bd()]=1)},cf:function(){v||(E.Uc("u124",k.elements),v=1);r||(E.N("u125",x[0],x[5]),r=1)},df:function(){G||(E.zg("u113",m.x,m.y,m.z),G=1)},Kb:function(){A||(E.zg("u154",m.x,m.y,m.z),A=1)},nh:function(){var t=e.Ce,f=e.Be,h=Math.tan(.5*e.Ob*Math.PI/180);x=[.5/h,0,0,0,0,.5*fa.El()/
h,0,0,0,0,-(f+t)/(f-t),-1,0,0,-2*f*t/(f-t),0];for(t=0;20>t;++t)n[t]=0;r=0},$n:function(t,f){m.ej(f[0]).fj(f[1]).z=f[2];k.elements.set(t);for(t=0;20>t;++t)q[t]=0;A=G=v=0},Yi:function(){for(var t=A=G=0;20>t;++t)q[t]=0}};H.nh();a=H;b=!0;e.Zi&&d.push(H);return H},U:function(){b&&a.U()},cf:function(){b&&a.cf()},df:function(){b&&a.df()},Kb:function(){b&&a.Kb()},resize:function(){d.forEach(function(e){e.nh()})},kf:function(){return a}}}(),Jb=function(){var a=[],b=null;return{m:function(){b=ya.instance({width:fa.tb(),
height:fa.sb(),Hc:!fa.aa()})},instance:function(d){void 0===d.width&&(d.width=fa.tb());void 0===d.height&&(d.height=fa.sb());void 0===d.isFloat&&(d.isFloat=!1);void 0===d.Ub&&(d.Ub=!1);void 0===d.clearColor&&(d.clearColor=[0,0,0,0]);void 0===d.G&&(d.G=4);var e=aa.instance({isFloat:d.isFloat&&Ga.fa(),S:d.isFloat,width:d.width,height:d.height,isPot:!1,isLinear:!1,G:d.G}),k=void 0!==d.hc&&d.hc?!0:!1,m=d.hc,x={set:function(n,q,r){r&&b.bind(!1,r);e.o();n&&(c.clearColor(d.clearColor[0],d.clearColor[1],
d.clearColor[2],d.clearColor[3]),b.Qe());q&&b.mh();k&&E.set(m)},qj:function(n){k=(m=n)?!0:!1},I:function(){e.qe()},h:function(n){e.h(n)},resize:function(n,q){e.resize(n,q)},debug:function(){e.debug()},remove:function(){e.remove()}};d.Ub&&a.push(x);return x},resize:function(d,e){b.resize(d,e);a.forEach(function(k){k.resize(d,e)})},Ck:function(){b.hh()},ed:function(){b.ed()},Vc:function(){b.Vc()},sp:function(){b.mh()},rp:function(){b.Qe()},qp:function(){b.clear()},L:function(){b.remove()}}}(),tc=function(){var a=
[];return{instance:function(b){void 0===b.width&&(b.width=fa.tb());void 0===b.height&&(b.height=fa.sb());var d=c.createFramebuffer(),e=b.width,k=b.height,m=!0;b={isFloat:Ga.fa(),S:!0,width:e,height:k,isPot:!1,isLinear:!1,G:4};var x=aa.instance(b),n=aa.instance(b),q=aa.instance(b),r=aa.instance(b),v=ya.Kl(),G=ya.Rh();c.bindFramebuffer(v,d);var A=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,A);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,e,k);c.framebufferRenderbuffer(v,c.DEPTH_ATTACHMENT,
c.RENDERBUFFER,A);c.clearDepth(1);c.framebufferTexture2D(v,fa.Ad(0),c.TEXTURE_2D,x.get(),0);c.framebufferTexture2D(v,fa.Ad(1),c.TEXTURE_2D,n.get(),0);c.framebufferTexture2D(v,fa.Ad(2),c.TEXTURE_2D,r.get(),0);c.framebufferTexture2D(v,fa.Ad(3),c.TEXTURE_2D,q.get(),0);fa.Tm(4);c.bindFramebuffer(v,null);ya.reset();var H={position:x,vb:n,Oc:q,ha:r,bind:function(){c.bindFramebuffer(v,d);ya.reset()},set:function(){m&&c.checkFramebufferStatus(G);c.bindFramebuffer(v,d);ya.reset();if(m){if(c.checkFramebufferStatus(G)!==
c.FRAMEBUFFER_COMPLETE)return!1;m=!1}c.viewport(0,0,e,k);c.clearColor(0,0,0,0);E.Yb()&&!fa.si()&&(E.set("s101"),X.l(!1,!1));c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);return!0},I:function(){},resize:function(t,f){e=t;k=f;x.resize(t,f);n.resize(t,f);r.resize(t,f);q.resize(t,f);c.bindRenderbuffer(c.RENDERBUFFER,A);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,e,k);c.bindRenderbuffer(c.RENDERBUFFER,null)},remove:function(){x.remove();n.remove();r.remove();q.remove();c.deleteRenderbuffer(A);
c.deleteFramebuffer(d);var t=a.indexOf(H);-1!==t&&a.splice(t,1)}};a.push(H);return H},resize:function(b,d){a.forEach(function(e){e.resize(b,d)})}}}(),fc=function(){var a=[],b=U.gh;return{instance:function(d){function e(){q?k():(h=vd.instance({la:G,Bm:b}),n=U.zk[fa.V()],A=aa.instance({isFloat:Ga.fa(),S:!0,isPot:!0,isLinear:!1,Sb:!0,width:n,height:n/2,G:3}),H=aa.instance({isFloat:Ga.fa(),S:!0,isPot:!0,isLinear:!1,Sb:!0,width:n,height:n/2,G:3}),t=aa.instance({isFloat:Ga.fa(),S:!0,isPot:!0,width:1,height:n/
2,G:3}),f=aa.instance({isFloat:Ga.fa()&&!b,S:!b,isPot:!1,isLinear:!0,Sb:!0,isMipmap:!1,width:n,height:n/2,G:b?4:3}),q=!0,k(),L.forEach(function(g){g()}),L.splice(0,L.length))}function k(){if(q){ya.$();h.wn();A.M();E.set("s84");G.h(0);E.H("u91",U.Rc);aa.Hk(1);X.l(!0,!0);for(var g=U.sm[fa.V()],p=0;p<g;++p)H.o(),E.set("s87"),E.N("u14",1/n,0),A.h(0),X.l(!1,!1),A.o(),E.N("u14",0,2/n),H.h(0),X.l(!1,!1);t.M();E.set("s89");A.h(0);X.l(!1,!1);E.set(b?"s91":"s90");f.M();A.h(0);t.h(1);X.l(!1,!1);aa.ba(0);aa.ba(1)}}
var m=Object.assign({Ib:null,wc:null,vc:0,xc:0},d),x=0,n=0,q=!1,r=null,v=null,G=null,A=null,H=null,t=null,f=null,h=null,B=0,L=[];d={m:function(){function g(){2===++p&&(G=aa.instance({isFloat:Ga.fa(),S:!0,isPot:!1,isMipmap:!1,isLinear:!1,Sb:!0,width:x,height:x/2,G:3}),ya.$(),G.M(),E.set("s83"),E.H("u96",m.xc),E.H("u97",m.vc),r.h(0),v.h(1),X.l(!0,!0),e())}var p=0;x=U.Ak[fa.V()];B=Math.log2(x)-1;m.Ib&&(r=aa.instance({isPot:!1,url:m.Ib,B:g,G:3,isFlipY:!1}),v=aa.instance({isPot:!1,url:m.wc,B:g,G:3,isFlipY:!1}))},
nj:function(g){G=g;e()},hd:function(g){q&&(h.h(g),E.H("u114",h.O()))},jd:function(g){q&&f.h(g)},uh:function(){E.H("u3",B)},Nh:function(){return B},O:function(){return x},ld:function(g){q?g():L.push(g)},L:function(){r&&r.remove();v&&v.remove();A.remove();t.remove();H.remove();h.remove();f.remove();G.remove()}};a.push(d);d.m();return d},L:function(){a.forEach(function(d){d.L()})}}}(),bd={instance:function(a){var b=a.Nm,d=a.Lm,e=0,k=b.O();a=U.gh;var m=aa.instance({isFloat:Ga.fa()&&!a,S:!a,isLinear:!0,
isMipmap:!1,isPot:!1,width:k,G:a?4:3,isFlipY:!1}),x=aa.instance({isFloat:Ga.fa()&&!a,S:!a,isPot:!1,isLinear:!0,Sb:!0,isMipmap:!1,width:k,height:k/2,G:a?4:3}),n=ya.instance({width:k,height:k}),q=a?"s76":"s75";return{fo:function(r){e=r;E.set(q);c.viewport(0,0,k,k);n.o();m.o();E.H("u13",e);b.hd(1);d.hd(0);X.l(!0,!0);c.viewport(0,0,k,k/2);x.o();b.jd(1);d.jd(0);X.l(!1,!1);c.flush()},hd:function(r){m.h(r)},jd:function(r){x.h(r)},uh:function(){E.H("u3",b.Nh()*(1-e)+d.Nh()*e)}}}},Rb=function(){function a(N){var w=
(l-U.Oe)/(U.ih-U.Oe);w=1-Math.pow(1-w,U.$o);l+=N*(1+w*U.ap);l=Math.min(Math.max(l,U.Oe),U.ih);F.pc()}function b(N){-1!==n&&(B=h=0,x(),a(U.Zo*N.deltaY/window.innerHeight),N.preventDefault())}function d(){g+=h;p+=B;p=Math.min(Math.max(p,U.hn),U.gn);F.pc()}function e(N){if(0===n||-1===n)return!1;var w=void 0!==N.touches&&N.touches.length;N.preventDefault();if(2===n){var z=Sc(N.touches[0].pageX,N.touches[0].pageY,N.touches[1].pageX,N.touches[1].pageY);a(-(t-z)*U.jn);t=z}else z=w?N.touches[0].clientX:
N.clientX,N=w?N.touches[0].clientY:N.clientY,h=2*(z-A)*Math.PI/fa.O(),B=2*(N-H)*Math.PI/fa.Y(),4===n?(y[0]+=h*U.Li,y[1]-=B*U.Li,y[0]=Math.min(Math.max(y[0],-U.Oi),U.Oi),y[1]=Math.min(Math.max(y[1],-U.Pi),U.Pi),F.pc()):d(),A=z,H=N}function k(){0!==n&&-1!==n&&(0===h&&0===B||1!==n||!K?va.ta():(x(),f=Date.now(),C=setInterval(F.Km,L)),n=0)}function m(N){if(2!==n&&-1!==n){B=h=0;x();va.wake();var w=void 0!==N.changedTouches&&N.touches.length;N.preventDefault();w&&2===N.touches.length?(n=2,t=Sc(N.touches[0].pageX,
N.touches[0].pageY,N.touches[1].pageX,N.touches[1].pageY)):(n=w||2!==N.button?1:4,A=w?N.touches[0].clientX:N.clientX,H=w?N.touches[0].clientY:N.clientY);return!1}}function x(){C&&(clearInterval(C),C=!1)}var n=0,q=!1,r=!1,v=!1,G=1,A=0,H=0,t=0,f=0,h=0,B=0,L=16,g=U.Cj,p=U.Ni,l=U.Ne,C=!1,K=0,I=new Float32Array([0,0,0,0,0]),y=[U.Mk,U.Nk],F={m:function(){K=U.ck[fa.V()];L=U.td[fa.V()];fa.Ga("mousedown",m);fa.Ga("mouseup",k);fa.Ga("mouseout",k);fa.Ga("mousemove",e);fa.Ga("mousemove",e);fa.Ga("wheel",b);fa.Ga("touchstart",
m);fa.Ga("touchend",k);fa.Ga("touchmove",e)},pc:function(N){q?(r[0]=-p,r[1]=g,v[1].value=G/U.Ne*l,Wa.Ab(v)):(I[0]=g,I[1]=p,I[2]=l,I[3]=y[0],I[4]=y[1],uc.Kn(I,N))},Km:function(){if(1E-4>h&&1E-4>B||-1===n)x(),B=h=0,0===n&&va.ta();var N=Date.now(),w=N-f;f=N;N=Math.pow(K,w/L);h*=N;B*=N;d()},ef:function(N){q||(q=!0,n=-1,r=[0,0,0],v=[{name:"u82",type:"3f",value:r},{name:"u86",type:"1f",value:1}],G=N)},xj:function(N){-1===n&&N&&(n=0);N||(n=-1)},Dn:function(){B=h=0;g=U.Cj;p=U.Ni;l=U.Ne;F.pc()},rq:function(N){l=
N},sq:function(N){y[0]=N[0];y[1]=N[1];U.jh=N[2]},qq:function(N,w){g=N;p=w}};return F}(),xc=function(){var a={s103:!1,s103color:!1,s103NormalMap:!1,s103ParamsMap:!1,s103NormalParamsMap:!1};return{instance:function(b){function d(u){if(ia){u.tweaker&&window.JEELIZVTO&&"undefined"!==typeof S&&S.fh(u.tweaker);F=u.partsNames||[];y.splice(0);y.push({n:0,offset:0});C.min.set(Infinity,Infinity,Infinity);C.max.set(-Infinity,-Infinity,-Infinity);var P=u.uvs;P&&(P=P.filter(function(ca){return ca}));ka=P&&0<P.length&&
0<P[0].length?!0:!1;"undefined"!==typeof yb&&"string"===typeof u.faces&&(u.faces=yb(u.faces));"undefined"!==typeof Nb&&("string"===typeof u.vertices&&(u.vertices=Nb(u.vertices)),P&&P.length&&P.forEach(function(ca,Ca){"string"===typeof ca&&(P[Ca]=Nb(ca))}));var D=u.metadata.faces,R=1+(ka?1:0);D=(u.faces.length-D)/(u.metadata.faces*R);6!==D&&8!==D||ka||(++R,D/=2);if(4===D){D=6*R+2;for(var ha=4*R+1,za=Array(u.metadata.faces*D),wa=0;wa<u.metadata.faces;++wa)for(var la=0;la<R;++la)za[wa*D+4*la]=u.faces[wa*
ha+5*la],za[wa*D+4*la+1]=u.faces[wa*ha+5*la+1],za[wa*D+4*la+2]=u.faces[wa*ha+5*la+2],0===la&&(za[wa*D+3]=u.faces[wa*ha+4]),za[wa*D+4*la+3*R+1]=u.faces[wa*ha+5*la],za[wa*D+4*la+3*R+2]=u.faces[wa*ha+5*la+2],za[wa*D+4*la+3*R+3]=u.faces[wa*ha+5*la+3],0===la&&(za[wa*D+3*R+4]=u.faces[wa*ha+4]);u.faces=za;u.metadata.faces*=2}H=Array(u.metadata.vertices);for(D=0;D<u.metadata.vertices;++D)H[D]=new Va(u.vertices[3*D],u.vertices[3*D+1],u.vertices[3*D+2]),gd(C,H[D]);t=Array(u.metadata.faces);R=3*R+1;for(D=0;D<
u.metadata.faces;++D)t[D]=new zc(u.faces[R*D],u.faces[R*D+1],u.faces[R*D+2]),t[D].$b=u.faces[R*D+3];w=3<H.length;ia&&(ia.visible=w);jd(H,t);f=kd(H,t);if(ka){R=Array(H.length);D=["a","b","c"];for(ha=0;ha<u.metadata.faces;++ha)for(za=0;3>za;++za)if(wa=u.faces[7*ha+za],la=u.faces[7*ha+1+za+3],"undefined"===typeof R[wa])R[wa]=[[wa,la]];else if(R[wa][0][1]!==la){for(var sa=-1,ma=1;ma<R[wa].length;++ma)if(R[wa][ma][1]===la){sa=R[wa][ma][0];break}ma=-1;-1===sa?(ma=H.length,H.push(H[wa].clone()),f.push(f[wa].clone()),
R[wa].push([ma,la]),R[ma]=[[ma,la]]):ma=sa;u.faces[7*ha+za]=ma;t[ha][D[za]]=ma}h=Array(H.length);for(u=0;u<H.length;++u)D="undefined"===typeof R[u]?u:R[u][0][1],h[u]=new Xb(P[0][2*D],P[0][2*D+1])}var Fa=rc(C);b.Gb&&(H.forEach(function(ca){ca.x-=Fa.x;ca.z-=Fa.z;ca.y-=C.min.y}),C.min.x-=Fa.x,C.max.x-=Fa.x,C.min.z-=Fa.z,C.max.z-=Fa.z,C.max.y-=C.min.y,C.min.y=0);if(b.Hb){var Y=U.xk/Math.max(C.max.x-C.min.x,C.max.y-C.min.y,C.max.z-C.min.z);H.forEach(function(ca){ca.Ca(Y)});C.min.Ca(Y);C.max.Ca(Y)}u=ka?
8:6;R=new Float32Array(H.length*u);for(D=0;D<H.length;++D)R[u*D]=H[D].x,R[u*D+1]=H[D].y,R[u*D+2]=H[D].z,R[u*D+3]=f[D].x,R[u*D+4]=f[D].y,R[u*D+5]=f[D].z,ka&&(R[u*D+6]=h[D].x,R[u*D+7]=h[D].y);t.sort(function(ca,Ca){return ca.$b-Ca.$b});var na=new (65536>3*t.length?Uint16Array:Uint32Array)(3*t.length),da=0;t.forEach(function(ca,Ca){ca.$b===da?y[da].n+=3:(y.push({n:3,offset:3*Ca}),++da);na[3*Ca]=ca.a;na[3*Ca+1]=ca.b;na[3*Ca+2]=ca.c});B&&B.remove();B=X.instance({ia:R,indices:na});p=g=!1;ba&&ia.oh();z=
!0;ia.bf();b.B&&(b.B(ia),b.B=null)}}function e(u){B.Ia(u.n,u.offset)}function k(u,P){W[P]&&(E.set(W[P].$l()),B.bind(!1),ka?(E.Oa(),E.kj()):(E.Za(),E.lj()),W[P].Lc()&&(E.Tc(),g.yc(!1),E.be(),sb.Kb()),W[P].kl(),W[P].sd(),B.Ia(u.n,u.offset))}function m(u,P){W[P]&&(E.set(W[P].am()),B.bind(!1),ka?(E.Oa(),E.kj()):(E.Za(),E.lj()),W[P].Lc()&&(E.Tc(),g.yc(!1),E.be(),sb.Kb()),ia.Dc(),W[P].sd(),B.Ia(u.n,u.offset))}function x(u,P){Q&&W[P]&&(W[P].ll(),B.Ia(u.n,u.offset))}function n(u,P){Q&&W[P]&&(W[P].nl(ka),
B.Ia(u.n,u.offset))}function q(u,P){W[P]&&(E.set(W[P].Wl()),W[P].zh(),B.Ia(u.n,u.offset))}function r(u,P){W[P]&&(E.set(W[P].Xl()),ia.Dc(),W[P].zh(),B.Ia(u.n,u.offset))}function v(u,P){W[P]&&(E.set(W[P].Yl()),W[P].Lc()&&(g.yc(!1),E.be(),sb.Kb()),B.bind(!1),W[P].wh(ka),B.Ia(u.n,u.offset))}function G(u,P){if(W[P]){var D=W[P].Zl();E.set(D);W[P].Lc()&&(g.yc(!1),E.be(),sb.Kb(),B.bind(!1));a[D]||(ia.Dc(),B.bind(!1),a[D]=!0);W[P].wh(ka);B.Ia(u.n,u.offset)}}function A(u,P){return new Promise(function(D,R){u?
(u.B=function(ha){W[P]&&W[P].L();W[P]=ha;ba=ba||ha.Lc();D()},Cc.instance(u)):R()})}if(!fa.lh())return!1;void 0===b.Gb&&(b.Gb=!1);void 0===b.Hb&&(b.Hb=!1);void 0===b.Me&&(b.Me=!1);var H=null,t=null,f=null,h=null,B=null,L=null,g=null,p=!1,l=new Zb,C=new yc,K=[],I=null,y=[{n:0,offset:0}],F=[],N=[],w=!1,z=!1,O=[],W=[],ba=!1,ka=!1,Q=!1,ia={visible:w,Xk:function(){return y.length},Ul:function(){return F},oh:function(){!p&&ka&&(t=t.filter(function(u){return null!==u}),L=ld(H,f,h,t),g=X.instance({ia:L,indices:!1}),
h=f=t=H=L=null,p=!0)},Dc:function(){sb.U();ia.yh()},yh:function(){E.Uc("u137",l.elements)},zp:function(){w&&(ia.yh(),B.bind(!1),ka?E.Oa():E.Za(),B.U())},ul:function(u){w&&(u||ia.Dc(),B.bind(!1),ka?E.Oa():E.Za(),B.U())},vl:function(){w&&(B.bind(!1),ka?E.Oa():E.Za(),y.forEach(x))},vh:function(){w&&(B.bind(!1),ka?E.Oa():E.Za(),N.forEach(e))},sl:function(u){Q&&w&&(B.bind(!1),ka?E.Oa():E.Za(),u?y.forEach(q):y.forEach(r))},rd:function(u){w&&(u||ia.Dc(),B.bind(!1),u||(E.Oa(),E.Tc()),Q&&y.forEach(n))},sd:function(u){Q&&
w&&(u?y.forEach(k):y.forEach(m))},pl:function(){Q&&w&&y.forEach(G)},ol:function(){Q&&w&&y.forEach(v)},Wh:function(){return I},Uh:function(){return O},Go:function(u,P){W[u].update(P);ia.Mj()},vg:function(u,P){O=u;Q=!1;W=Array(u.length);ba=!1;u=u.map(function(D,R){return"string"===typeof D?id(-1===D.indexOf(".json")?D+".json":D).then(function(ha){ha.name=D;return A(ha,R,D)}):A(D,R,!1)});Promise.all(u).then(function(){Q=!0;ia.ld(function(){ba&&ia.oh();ia.Mj();va.Bb(ia);va.le(!0);P&&P(ia)},4);ia.bf()})},
Mj:function(){N.splice(0);y.forEach(function(u,P){W[P]&&W[P].Im()&&N.push(u)})},ld:function(u,P){z&&Q?u(ia):K.push({qb:u,order:P?P:0})},bf:function(){z&&Q&&(K.sort(function(u,P){return 0>u.order-P.order?1:-1}),K.forEach(function(u){u.qb(ia)}),K.splice(0))},remove:function(){ia.L();ia=null},L:function(){w=z=!1;B&&B.remove();W.forEach(function(u){u.L()});p&&g.remove()},dm:function(){return C.size().x},em:function(){return C.size().y},Qp:function(){return C.size().z},Gl:function(){return rc(C).x},Hl:function(){return rc(C).y},
Ep:function(){return rc(C).z},Mp:function(){return C.min.y},replace:function(u,P,D){if(u===I)return P&&ia&&(ia.bf(),P(ia)),!1;I=u;va.le(!1);Ac(u,function(R){d(R);P&&P(ia)},D);return!0}};b.Pc&&ia.vg(b.Pc,b.Me);I=b.url;Ac(b.url,d);return ia},An:function(){a.s103=!1;a.s103color=!1;a.s103NormalMap=!1;a.s103ParamsMap=!1;a.s103NormalParamsMap=!1}}}(),uc=function(){var a=null,b=!1,d=!1,e=null,k=new Float32Array(16),m=new Float32Array(3),x={data:0},n={m:function(){a=U.Lb?new Worker("js/worker.php"):{postMessage:function(q){x.data=
q;Dc.bn(x)},terminate:function(){}};a.onmessage=function(q){switch(q.data[0]){case 3:for(var r=0;16>r;++r)k[r]=q.data[r+1];for(r=0;3>r;++r)m[r]=q.data[r+17];sb.kf().$n(k,m);break;case 6:n.Vn(),b=!0,Rb.pc(!1),U.ea&&(Cb.enable(),Cb.ce())}};e=new Float32Array(6);e[0]=2;U.Lb||Dc.Xn(a)},uo:function(){U.th||(d=!0)},Cq:function(){d=!1},Kn:function(q,r){if(r||b&&d)e[1]=q[0],e[2]=q[1],e[3]=q[2],e[4]=q[3],e[5]=q[4],a.postMessage(e)},Vn:function(){a.postMessage([5,U.jh])},L:function(){U.Lb&&a.terminate()}};
return n}(),Dc=function(){var a=0,b=0,d=0,e=[0,0],k=new Zb,m=new qc,x=new qc,n=new Va,q=new Va,r=new Yb,v=0,G=new Float32Array(20);G[0]=3;var A=!1,H={data:!1},t={m:function(){"undefined"===typeof U&&(self.cp={Lb:!0});U.Lb&&t.ig([6])},bn:function(f){switch(f.data[0]){case 2:t.wg(f.data);break;case 5:v=f.data[1]}},ig:function(f){U.Lb?postMessage(f):(H.data=f,A.onmessage(H))},wg:function(f){a=f[1];b=f[2];d=f[3];e[0]=f[4];e[1]=f[5];n.set(e[0],e[1],-d);r.set(b,a,0,"XYZ");if(!1===r instanceof Yb)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
f=Math.cos(r.C/2);var h=Math.cos(r.D/2),B=Math.cos(r.F/2),L=Math.sin(r.C/2),g=Math.sin(r.D/2),p=Math.sin(r.F/2),l=r.order;"XYZ"===l?(m.C=L*h*B+f*g*p,m.D=f*g*B-L*h*p,m.F=f*h*p+L*g*B,m.P=f*h*B-L*g*p):"YXZ"===l?(m.C=L*h*B+f*g*p,m.D=f*g*B-L*h*p,m.F=f*h*p-L*g*B,m.P=f*h*B+L*g*p):"ZXY"===l?(m.C=L*h*B-f*g*p,m.D=f*g*B+L*h*p,m.F=f*h*p+L*g*B,m.P=f*h*B-L*g*p):"ZYX"===l?(m.C=L*h*B-f*g*p,m.D=f*g*B+L*h*p,m.F=f*h*p-L*g*B,m.P=f*h*B+L*g*p):"YZX"===l?(m.C=L*h*B+f*g*p,m.D=f*g*B+L*h*p,m.F=f*h*p-L*g*B,m.P=f*h*B-L*g*p):
"XZY"===l&&(m.C=L*h*B-f*g*p,m.D=f*g*B-L*h*p,m.F=f*h*p+L*g*B,m.P=f*h*B+L*g*p);n.y-=v;f=k.elements;p=m.x;var C=m.y,K=m.z;L=m.w;var I=p+p,y=C+C;g=K+K;h=p*I;B=p*y;p*=g;l=C*y;C*=g;K*=g;I*=L;y*=L;L*=g;f[0]=1-(l+K);f[4]=B-L;f[8]=p+y;f[1]=B+L;f[5]=1-(h+K);f[9]=C-I;f[2]=p-y;f[6]=C+I;f[10]=1-(h+l);f[3]=0;f[7]=0;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;k.setPosition(n);x.K(m).inverse();f=q.K(n);C=f.x;I=f.y;K=f.z;h=x.x;B=x.y;L=x.z;g=x.w;p=g*C+B*K-L*I;l=g*I+L*C-h*K;y=g*K+h*I-B*C;C=-h*C-B*I-L*K;f.x=p*g+C*-h+l*-L-
y*-B;f.y=l*g+C*-B+y*-h-p*-L;f.z=y*g+C*-L+p*-B-l*-h;for(f=1;17>f;++f)G[f]=k.elements[f-1];G[17]=q.x;G[18]=q.y;G[19]=q.z;t.ig(G)},Xn:function(f){A=f;t.ig([6])}};return t}();Dc.m();var Cc=function(){function a(x){var n=x.split(":").shift();return"data"===n||"blob"===n?x:("undefined"!==typeof J&&J.ca?J:U).ca+U.Fi+x}function b(x,n){return Math.min(n+x+n*x,1)}var d=!1,e=null,k=1,m={diffuseTexture:null,normalTexture:null,paramsTexture:null,colorTextureUsage:0,metalness:.5,roughness:.5,fresnelMin:0,fresnelMax:1,
fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],B:null};return{m:function(){e=aa.instance({width:1,height:1,isMipmap:!1,G:4,array:new Uint8Array([255,255,255,255]),Kc:!1})},ef:function(){d=!0;k=2},instance:function(x){function n(){"number"===typeof h.alpha?(t[0]=h.alpha,t[1]=0,t[2]=0,t[3]=0):(t[0]=h.alpha[0],t[1]=h.alpha[1]-h.alpha[0],t[2]=h.alpha[2],t[3]=h.alpha[3]);var z=1<=h.fresnelPow?h.fresnelMin:h.fresnelMax;f[0]=b(t[0],z);f[1]=b(t[1],z);f[2]=t[2];f[3]=t[3];l={Mi:h.fresnelMax,
Bi:[h.fresnelMin,h.roughness,h.fresnelPow/15,h.metalness],Ei:h.paramsMapMask}}function q(){return new Promise(function(z){(A=h.normalTexture&&fa.Qk()?!0:!1)&&!g.Na?g.Na=aa.instance({url:a(h.normalTexture),isLinear:!0,isMipmap:!0,ii:fa.Hm(),isPot:!0,G:3,B:z}):z()})}function r(){return new Promise(function(z){(H=h.diffuseTexture&&""!==h.diffuseTexture?!0:!1)&&!g.ha?(g.ha=aa.instance({url:a(h.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,ii:!0,Kc:!1,Sb:!1,ym:!1,G:4,B:z}),L="s108"):(g.ha||(L="s109",
g.ha=e),z());B=[h.diffuseColor[0]/255,h.diffuseColor[1]/255,h.diffuseColor[2]/255]})}function v(){return new Promise(function(z){(p=h.paramsTexture?!0:!1)&&!g.xb?h.paramsTexture===h.diffuseTexture?(g.xb=g.ha,z()):g.xb=aa.instance({url:a(h.paramsTexture),isMipmap:!0,isLinear:!0,isPot:!0,ii:!0,Kc:!1,Sb:!1,ym:!1,G:4,B:z}):z()})}function G(z){n();Promise.all([q(),r(),v()]).then(function(){A||p||H?A||p?A&&!p?(C="s103NormalMap",K="s103NNGLtextureNormalMap"):!A&&p?(C="s103ParamsMap",K="s103NNGLtextureParamsMap"):
(C="s103NormalParamsMap",K="s103NNGLtextureNormalParamsMap"):(C="s103",K="s103NNGLtexture"):(C="s103color",K="s103NNGLcolor");I=A?"s111":"s110";y=A?"s105":"s115";F=p?"s113":"s112";N=p?"s106":"s116";h.B&&setTimeout(h.B.bind(null,z),1)})}var A,H,t=[1,0,0,0],f=[0,0,0,0],h=Object.assign({},m,x),B=null,L=null,g={ha:null,Na:null,xb:null},p=A=H=!1,l=null,C=null,K=null,I=null,y=null,F=null,N=null,w={update:function(z){Object.assign(h,z);G()},Lc:function(){return A},Im:function(){return.99>t[0]},am:function(){return y},
$l:function(){return I},Xl:function(){return N},Wl:function(){return F},Zl:function(){return C},Yl:function(){return K},sd:function(){A&&g.Na.h(0)},nl:function(z){d&&E.set(L);z?E.Oa():E.Za();H&&E.Tc();w.rd()},rd:function(){H&&(E.H("u73",h.colorTextureUsage),g.ha.h(0));E.Ag("u147",B)},zh:function(){p&&(g.xb.h(0),E.xa("u75",l.Ei),E.Tc());E.xa("u111",l.Bi);E.H("u148",l.Mi)},wh:function(z){p&&!A?g.xb.h(k):A&&(H||e.h(0),g.Na.h(k),p&&g.xb.h(k+1));p&&E.xa("u75",l.Ei);H||A?E.Sn():z?E.Tn():E.Un();w.rd();E.xa("u13",
t);E.xa("u111",l.Bi);E.H("u148",l.Mi)},kl:function(){E.xa("u13",t)},ll:function(){E.xa("u13",f)},L:function(){H&&g.ha.remove();A&&g.Na.remove();p&&h.paramsTexture!==h.diffuseTexture&&g.xb.remove()}};G(w);return w}}}(),Cb=function(){var a=0,b=0,d=0,e=0,k=0,m=0,x=U.vk,n=U.uk,q=U.wk,r=0,v=0,G=null,A=null,H=0,t=0,f=0,h=0,B=0,L=null,g=0,p=0,l=0,C=Date.now(),K=null,I=!1,y=!1,F=!1,N=1,w=!1,z={m:function(){a=U.qk[fa.V()];b=U.pk[fa.V()];d=U.nk[fa.V()];p=U.rk[fa.V()];e=U.hk[fa.V()];k=U.lk[fa.V()];f=U.mk[fa.V()];
h=fa.O();B=fa.Y();r=Math.round(h*a);v=Math.round(B*a);A=ya.instance({width:r,height:v,Hc:!1});G=aa.instance({width:r,height:v,isPot:!1,isLinear:!0});L=aa.instance({width:r,height:v,isPot:!1,isLinear:!0,G:1});I=!0},resize:function(O,W,ba){N=ba;h=O;B=W;r=Math.round(O*a);v=Math.round(W*a);A.resize(r,v);y=!0},U:function(){var O=Math.exp(-(Date.now()-C)/p);g=F?l+(1-O)*(1-l):l*O;H=b+g*(d-b);t=e+(1-g)*(1-e);m=k+(1-g)*(1-k);aa.ba(5);if(y&&I)aa.ba(6),L.resize(r,v),E.set("s0"),E.ee("u1",6),A.bind(!1,!0),L.o(),
A.Qe(),G.h(6),X.l(!0,!0),G.resize(r,v),G.o(),L.h(6),X.l(!1,!1),E.ee("u1",0),y=!1;else{c.enable(c.BLEND);c.blendFunc(c.CONSTANT_ALPHA,c.ONE_MINUS_SRC_ALPHA);O=H/f;c.blendColor(O,O,O,O);c.colorMask(!0,!1,!1,!0);E.set("s95");sb.cf();E.H("u128",H);p&&(E.H("u129",t),E.H("u120",m));var W=N*(x+Math.pow(Math.random(),q)*(n-x));E.N("u14",W/h,W/B);A.hh();A.Vc();G.o();W=2*Math.PI*Math.random();for(var ba=!0,ka=0;ka<f;++ka)1===ka&&(c.blendFunc(c.SRC_ALPHA,c.ONE),E.H("u128",O)),E.H("u127",W+ka/f*(Math.PI/2)),
E.N("u126",(Math.random()-.5)/h,(Math.random()-.5)/B),X.l(ba,ba),ba=!1;c.disable(c.BLEND);E.set("s96");E.N("u14",1/r,1/v);L.o();G.h(7);X.l(!1,!1);c.colorMask(!0,!0,!0,!0)}},h:function(O){L.h(O)},enable:function(){w=!0},ln:function(){if(F||!w)return!1;K&&clearTimeout(K);z.ce();K=setTimeout(z.Kj,400)},ce:function(){K&&(clearTimeout(K),K=!1);!F&&w&&(window.Uj.disable(),F=!0,C=Date.now(),l=g)},Kj:function(){F&&w&&(K&&(clearTimeout(K),K=null),window.Uj.enable(),F=!1,C=Date.now(),l=g)},L:function(){G.remove();
L.remove();A.remove()}};z.ln();return z}(),vd={instance:function(a){var b=a.la.O(),d=a.Bm?!0:!1,e=d?"s77":"s12",k=aa.instance({isFloat:a.la.ti()&&Ga.fa()&&!d,S:a.la.ui()&&!d,isLinear:!0,isMipmap:!1,isPot:!1,width:b,height:b,G:d?4:3}),m=aa.instance({isFloat:a.la.ti()&&Ga.fa(),S:a.la.ui(),isPot:!0,width:1,height:b/2,G:3});m.o();E.set("s89");a.la.h(0);X.l(!0,!0);var x=Math.round(Math.log(b)/Math.log(2));k.wn=function(){k.o();E.set(e);E.H("u91",U.Rc);a.la.h(0);m.h(1);for(var n=0,q=0;q<=x;++q){var r=Math.pow(2,
x-q),v=r/2;c.viewport(0,n,b,v);E.N("u89",b/r,1);E.H("u90",Math.min(6/v,.6));n+=r/2;X.l(0===q,0===q)}};k.zn=k.remove;k.remove=function(){k.zn();m.remove()};return k}};ua.Pa=function(){var a={ae:45,qg:1,yb:"../../images/debug/picsou.png",rg:.8,Nf:3.14/6,Of:.314,Pf:4,Lf:.5,Mf:-.25,Mm:1,Z:256,Kf:.15},b={Mb:null,wd:null,screen:null},d=!1,e=!1,k=-1,m=null,x=null,n=null,q=Math.PI/180,r=[1,1],v={m:function(G){k=G.width;G={isFloat:Ga.fa(),S:!0,isPot:!1,isMipmap:!1,isLinear:!1,isMirrorY:!0,width:k,height:k/
2,G:3};b.Mb=aa.instance(G);b.wd=aa.instance(G);E.j("s117",[{type:"1i",name:"u155",value:0}]);E.j("s118",[{type:"1i",name:"u160",value:0}]);v.Ho()},Ho:function(){E.j("s118",[{type:"1f",name:"u161",value:a.Nf},{type:"1f",name:"u162",value:a.Of},{type:"1f",name:"u163",value:a.Pf},{type:"1f",name:"u164",value:a.Lf},{type:"1f",name:"u165",value:a.Mf}])},aq:function(){return e},sa:function(G){m=G},Sc:function(){x="uniform sampler2D u155;uniform vec2 u156,u157,u10;uniform int u158;uniform float u159,u141;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5,.5);const float e=1.2;const vec3 g=vec3(1.,1.,1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u10*(c-u156)/u157;float b=1.;if(u158==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u159*g,texture2D(u155,a).rgb*u141,b*g);gl_FragColor=vec4(d,1.);}";
n="uniform sampler2D u160;uniform float u161,u162,u163,u164,u165;varying vec2 vv0;const float f=3.141593;const vec2 o=vec2(.5,.5);const vec3 h=vec3(1.,1.,1.);void main(){float i=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u160,vec2(.5,.5));float d=a.r,j=u163*a.g,k=u164*(a.b+u165),b=a.a,g=asin(cos(b)*cos(d)),l=atan(cos(b)*sin(d),-sin(b)),m=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(i-l)),n=1.-smoothstep(u161-u162,u161+u162,m);gl_FragColor=vec4(h*(max(k,0.)+max(j,0.)*n),1.);}";E.oa("s117",{name:"_",
g:x,i:"u155 u156 u158 u157 u159 u141 u10".split(" "),precision:"highp"});E.oa("s118",{name:"_",g:n,i:"u160 u161 u162 u163 u164 u165".split(" "),precision:"highp"})},Fg:function(G,A,H,t,f,h,B){E.N("u156",A,H);E.ee("u158",t?1:0);E.N("u157",f,f/h);E.fe("u10",B);G.h(0);X.l(!1,!1)},Yj:function(G){c.viewport(0,0,a.Z,a.Z/2);E.set("s118");G.h(0);X.l(!1,!1)},Xh:function(){return b.Mb},Lk:function(G){v.m({width:a.Z});v.Nj(G,!1,1);e=!0},Kk:function(){d&&b.screen.gm()===a.yb||(d=!1,b.screen=aa.instance({url:a.yb,
isFloat:!1,B:function(){d=!0}}))},wg:function(G){Object.assign(a,G)},Nj:function(G,A,H){var t=a.Z;ya.$();b.wd.M();E.set("s0");b.Mb.h(0);X.l(!0,!0);b.Mb.o();E.set("s117");E.H("u159",a.Kf);E.H("u141",a.Mm);v.Fg(G,Math.PI,0,!0,90*q,G.O()/G.Y(),r);d&&(E.H("u141",a.rg),c.viewport(0,0,t/2,t/2),v.Fg(b.screen,0,0,!1,2*a.ae*q,2*a.qg,r),c.viewport(t/2,0,t/2,t/2),v.Fg(b.screen,2*Math.PI,0,!1,2*a.ae*q,2*a.qg,r));c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE);A&&v.Yj(A);E.set("s0");c.blendColor(0,0,0,1-H);c.blendFunc(c.CONSTANT_ALPHA,
c.ONE_MINUS_CONSTANT_ALPHA);b.wd.h(0);X.l(!1,!1);c.disable(c.BLEND);m.nj(b.Mb)},v:function(){Object.assign(b,{Mb:null,wd:null,screen:null});e=d=!1;k=-1;m=null}};return v}();ua.lb=function(){var a=!1,b=!0,d=null,e=null,k={Sc:function(){fa.aa()&&(E.oa("s119",{name:"_",u:"attribute vec3 a0;uniform sampler2D u41;uniform vec2 u42;uniform vec3 u143;const float l=1.,m=0.,n=0.,E=1.;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 F=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,p);vec2 f=u85*e;vec3 c=u85*o;vec2 t=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,q).rgb+vec3(u79,0.,0.),u82,c);float u=mix(texture2D(u41,r).r,0.,u85);a.z+=u;mat3 v=s(a);vec3 w=mix(u143,u83,c);float x=mix(l,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u81,1.,u85);vec2 j=u80/t;vec3 k=a0;float A=max(0.,-a0.z-m)*n;k.x+=A*sign(a0.x)*(1.-u85);vec3 B=v*(k+w)*x+b;vec2 C=j*z;vec3 D=vec3(g*C,-j)+B*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(D,1.));}",
g:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",i:["u41","u42","u78","u143"].concat(E.qf(),E.rf()),J:["a0"],R:[3],da:!0}),a=!0)},m:function(m){a&&E.j("s119",[{type:"1i",name:"u41",value:1},{type:"3f",name:"u78",value:m.Da},{type:"1f",name:"u79",value:0},{type:"1f",name:"u87",value:1}].concat(m.Qg))},bb:function(m){e=m;d&&k.di()},ab:function(m){d=m;e&&k.di()},di:function(){fa.aa()&&(E.j("s119",[{type:"3f",
name:"u143",value:[d[0]*e,d[1]*e,d[2]*e]}]),E.I())},rm:function(m){for(var x=m.width/2,n=m.height/2,q=m.depth,r=m.wl,v=m.height/4,G=m.$k,A=2*G+4,H=[],t=[],f=-x+m.Ta,h=-r-m.Ta,B=x-m.Ta,L=-r-m.Ta,g=0;g<A;++g){var p=0,l=0;0===g?(p=-x,l=-r-q):1<=g&&g<=1+G?(l=(g-1)/G*Math.PI/2,p=f-Math.cos(l)*m.Ta,l=h+Math.sin(l)*m.Ta):g>=2+G&&g<=2+2*G?(l=(g-2-G)/G*Math.PI/2,p=B+Math.sin(l)*m.Ta,l=L+Math.cos(l)*m.Ta):g===A-1&&(p=x,l=-r-q);H.push(p,n+v,l,p,-n+v,l);0!==g&&t.push(2*g,2*g-2,2*g-1,2*g,2*g-1,2*g+1)}return k.instance({ia:H,
indices:t})},toggle:function(m){b=m},instance:function(m){var x=X.instance({ia:m.ia,indices:m.indices});return{U:function(){a&&b&&(E.set("s119"),x.bind(!0),x.U())}}}};return k}();ua.ga_=function(){var a={vf:-87,km:[85,95],ci:[90,90],bi:[85,70],md:24,al:12,bl:2,jg:[-80,10],ai:[40,140],Hd:[1,8],jm:80,Ji:[-120,-10],an:2,he:[0,-15],Ae:1024,ib:256,Td:4,so:[6,30],Ii:1.2};a.Si=a.jg;var b=!1,d=!1,e=!1,k=null,m=null,x=null,n=null,q=null,r=null,v=!1,G=!1,A=null,H=null,t=null,f=null,h=.5,B=[{type:"1f",name:"u167",
value:1}],L=null,g=null,p=null,l=null,C=null,K={bm:function(){return{name:"_",u:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u41;uniform vec2 u42;uniform float u144;uniform vec3 u143;const float o=0.,p=0.;const vec2 e=vec2(1.);const vec3 q=vec3(1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,r);vec2 f=u85*e;vec3 c=u85*q;vec2 v=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,s).rgb+vec3(u79,0.,0.),u82,c);float w=mix(texture2D(u41,t).r,0.,u85);a.z+=w;mat3 h=u(a);vec3 x=mix(u143,u83,c);float y=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u81,1.,u85);vec2 k=u80/v;vec3 l=a0;float B=max(0.,-a0.z-o)*p;l.x+=B*sign(a0.x)*(1.-u85);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=h*a2;vv1=-F.z;}",
g:"uniform sampler2D u174,u160;uniform vec2 u89,u175;uniform float u176,u167;varying vec2 vv0;varying float vv1;void main(){vec2 b=u175*u176+u89*vv0;vec4 a=u167*texture2D(u174,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",i:"u41 u174 u160 u42 u78 u176 u175 u144 u143 u89 u167".split(" ").concat(E.qf()).concat(E.rf()),J:["a0","a2","a1"],R:[3,3,2],precision:"lowp"}},Sc:function(){E.oa("s120",{name:"_",u:"attribute vec3 a0;uniform vec3 u143;uniform vec2 u168,u169;uniform float u144,u170,u171,u172;varying float vv0,vv1;void main(){vec3 a=(a0+u143)*u144;float b=atan(a.x,a.z-u170),d=2.*(a.y-u171)/(u172-u171)-1.;vv0=a0.y;float g=1.-u168.x*u168.x/(u168.y*u168.y),c=u168.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u170);vv1=smoothstep(u169.x,u169.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",
g:"uniform float u173;uniform vec4 u13;varying float vv0,vv1;void main(){float a=u13.x+u13.y*smoothstep(-u13.w,-u13.z,vv0),b=min(a,1.)*u173;gl_FragColor=vec4(b,vv1,1.,1.);}",i:"u144 u143 u168 u169 u170 u171 u172 u13 u173".split(" "),J:["a0"],R:[3],precision:"highp"});E.oa("s121",K.bm());E.oa("s122",{name:"_",g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u14),c=texture2D(u1,vv0-2.*u14),d=texture2D(u1,vv0-u14),f=texture2D(u1,vv0+u14),g=texture2D(u1,vv0+2.*u14),h=texture2D(u1,vv0+3.*u14);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",
i:["u1","u14"],precision:"lowp"});b=!0},m:function(I){if(b){if(void 0===I.ic||!I.ic)return!1;if(d)K.ij(I);else{n=aa.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.Ae,height:a.Ae/4,G:4});var y=a.ib/4,F={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:a.ib,height:y,G:4};x=aa.instance(F);r=aa.instance(F);q=aa.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.ib,height:y*a.Td,G:4});y=.5-.5/I.jc[1];F=.5+.5/I.jc[1];for(var N=a.al+1,w=[],z=[],O=new Float32Array(16*a.md),W=new Uint16Array(6*
(a.md-1)),ba=0,ka=0,Q=0,ia=0;ia<a.md;++ia){var u=2*ia/(a.md-1)-1;u=Math.sign(u)*Math.pow(Math.abs(u),a.bl);u=Math.PI*(u+1)/2-Math.PI/2;var P=Math.sin(u),D=Math.cos(u),R=Math.sin(u*a.Ii),ha=Math.cos(u*a.Ii),za=u/(Math.PI*I.jc[0])+.5,wa=a.bi[0]*P,la=a.Si[0],sa=a.bi[1]*D+a.vf,ma=za,Fa=y,Y=a.ci[0]*P,na=a.Si[1],da=a.ci[1]*D+a.vf,ca=F,Ca=16*ia;O[Ca]=Y;O[Ca+1]=na;O[Ca+2]=da;O[Ca+3]=R;O[Ca+4]=0;O[Ca+5]=ha;O[Ca+6]=za;O[Ca+7]=ca;O[Ca+8]=wa;O[Ca+9]=la;O[Ca+10]=sa;O[Ca+11]=R;O[Ca+12]=0;O[Ca+13]=ha;O[Ca+14]=ma;
O[Ca+15]=Fa;0!==ia&&(ma=2*ia,Fa=6*(ia-1),W[Fa]=ma,W[Fa+1]=ma-1,W[Fa+2]=ma-2,W[Fa+3]=ma,W[Fa+4]=ma+1,W[Fa+5]=ma-1);Fa=Math.pow(.5*(1+Math.cos(Math.min(Math.max(Math.PI/a.ai[0]*wa,-Math.PI),Math.PI))),a.an);la-=a.jm*Fa;ma=a.ai[1]*Fa;wa-=P*a.Hd[0];sa-=D*a.Hd[1];Y-=P*a.Hd[0];da-=D*a.Hd[1];P=.001>Fa?2:N;for(D=0;D<P;++D)Fa=D/(P-1),za=la*(1-Fa)+na*Fa,ca=a.Ji[0],ca=Math.min(Math.max((za-ca)/(a.Ji[1]-ca),0),1),ca=ca*ca*(3-2*ca),w.push(wa*(1-Fa)+Y*Fa,za,(sa+ma*Math.exp(400*-Math.abs(u)*Math.pow(Fa,4)))*(1-
ca)+da*ca,R,0,ha,0,0);u=0===ia?0:2<P&&2<ka?P-1:1;for(R=1;R<=u;++R)ha=P>ka?P-2:0,z.push(ba+R+ha,ba+R-1,Q+R-1,Q+R-1,Q+R+(P<ka?ka-2:0),ba+R+ha);ka=P;Q=ba;ba+=P}l=X.instance({ia:new Float32Array(w),indices:new Uint16Array(z)});C=X.instance({ia:O,indices:W});K.ij(I);E.j("s122",[{type:"1i",name:"u1",value:0}]);d=!0}}},ij:function(I){h=I.no;f=I.ie;L=[{type:"1i",name:"u41",value:1},{type:"1i",name:"u174",value:0},{type:"1i",name:"u160",value:2},{type:"3f",name:"u78",value:[I.Da[0],I.Da[1]-a.he[0],I.Da[2]+
a.he[1]]},{type:"1f",name:"u176",value:I.oo},{type:"2f",name:"u89",value:[1,1/a.Td]},{type:"2f",name:"u175",value:[0,1/a.Td]},{type:"1f",name:"u167",value:1}].concat(I.Qg,I.Jj);E.j("s121",L)},dc:function(I){k=I},cc:function(I){g=I;g.ld(K.zc)},vi:function(){return e&&null!==g&&null!==p},zc:function(){if(!(e||G&&v)||null===g||null===p)return!1;c.viewport(0,0,a.Ae,a.Ae/4);ya.$();n.o();c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);E.j("s120",[{type:"1f",name:"u170",value:a.vf},{type:"1f",name:"u171",
value:a.jg[0]},{type:"1f",name:"u172",value:a.jg[1]},{type:"3f",name:"u143",value:[A[0]+H[0],A[1]+H[1],A[2]+H[2]]},{type:"1f",name:"u173",value:h},{type:"2f",name:"u168",value:a.km},{type:"2f",name:"u169",value:a.so}]);g.vl();E.set("s1");var I=a.ib/4;c.viewport(0,0,a.ib,I);x.o();n.h(0);n.zd();X.l(!0,!0);for(var y=0;y<a.Td;++y)E.set("s122"),0!==y&&c.viewport(0,0,a.ib,I),r.o(),x.h(0),E.N("u14",1/a.ib,0),X.l(!1,!1),x.o(),r.h(0),E.N("u14",0,1/I),X.l(!1,!1),a.cl&&c.colorMask(0===y,1===y,2===y,!0),E.set("s1"),
q.o(),x.h(0),c.viewport(0,y*I,a.ib,I),X.l(!1,!1),a.cl&&c.colorMask(!0,!0,!0,!0);return e=!0},U:function(){K.vi()&&(p.bind(!1,!1),m.M(),c.clearColor(0,0,0,0),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),E.set("s121"),k.h(1),q.h(0),l.bind(!0),l.U(),C.bind(!0),C.U(),c.disable(c.DEPTH_TEST),c.depthMask(!1))},cm:function(){return m},add:function(){K.vi()&&(c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),m.h(0),X.l(!1,!1),c.disable(c.BLEND))},tg:function(I,
y){p=ya.instance({width:I,height:y,Hc:!0});m=aa.instance({width:I,height:y,isFloat:!1,isPot:!1});K.zc()},ab:function(I,y,F){I||(I=A,y=H,F=t);E.j("s121",[{type:"3f",name:"u143",value:[F[0]+f[0],F[1]+f[1]-a.he[0],F[2]+f[2]+a.he[1]]}]);A=I;H=y;t=F;G=!0;!e&&v&&K.zc();E.I()},bb:function(I,y){E.j("s120",[{type:"1f",name:"u144",value:I}]);E.j("s121",[{type:"1f",name:"u144",value:y}]);v=!0;!e&&G&&K.zc();E.I()},xg:function(I){E.j("s121",[{type:"1f",name:"u79",value:I}]);E.I()},Bb:function(I){I&&(g=I);K.zc()},
yg:function(I,y){B[0].value=1-I;E.j("s121",B);E.j("s121",y)},L:function(){},v:function(){e=d=b=!1;r=q=n=x=m=k=null}};return K}();ua.ra=function(){var a=!1,b=null,d=0,e=0,k=0,m=[{type:"1f",name:"u167",value:1}],x=null,n=null,q=null,r={Sc:function(){E.oa("s123",{name:"_",u:"attribute vec3 a0;uniform vec2 u177,u178;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u178)/u177;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",g:"uniform vec2 u179;uniform float u180,u181,u182;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u180,u181),a=vv0-b,c=u182*a,d=(c-a)*u179;gl_FragColor=vec4(d,0.,1.);}",
i:"u177 u178 u180 u181 u182 u179".split(" "),J:["a0"],R:[3],precision:"highp"});E.oa("s124",{name:"_",u:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u41;uniform vec3 u143;uniform vec2 u42,u177,u178;uniform float u144;const float n=0.,o=0.;const vec2 e=vec2(1.);const vec3 p=vec3(1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u76;uniform vec3 u78,u82,u83,u84;uniform float u77,u85,u86,u79,u80,u81,u87;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u41,q);vec2 f=u85*e;vec3 c=u85*p;vec2 u=mix(d.a*u42,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u41,r).rgb+vec3(u79,0.,0.),u82,c);float v=mix(texture2D(u41,s).r,0.,u85);a.z+=v;mat3 w=t(a);vec3 x=mix(u143,u83,c);float y=mix(u144,u86,u85);vec3 b=mix(u78,u84,c);b.x+=u77*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u81,1.,u85);vec2 j=u80/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u85);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u76*(vec4(u87*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u178)/u177,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",
g:"uniform sampler2D u183,u184;uniform float u167;varying vec2 vv0,vv1;void main(){vec2 a=u167*texture2D(u183,vv0).rg;gl_FragColor=texture2D(u184,a+vv1);}",i:"u167 u41 u183 u184 u177 u178 u42 u78 u144 u143".split(" ").concat(E.qf(),E.rf()),J:["a0"],R:[3],precision:"lowp"});a=!0},m:function(v){if(a){if(void 0===v.ic||!v.nd)return!1;n=aa.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,G:4});q=ya.instance({width:256,height:128});E.j("s124",[{type:"1i",name:"u41",value:1},{type:"1i",
name:"u183",value:2},{type:"1i",name:"u184",value:0},{type:"3f",name:"u78",value:v.Da},{type:"1f",name:"u167",value:1}].concat(v.Jj,v.Qg));e=v.Xe;k=v.We;d=v.Ye}},dc:function(v){b=v},cc:function(v){x=v;x.ld(r.Te)},Te:function(){c.viewport(0,0,256,128);q.o();n.o();var v=x.dm(),G=x.em(),A=[{type:"2f",name:"u177",value:[v,G]},{type:"2f",name:"u178",value:[x.Gl(),x.Hl()]}];E.j("s123",A.concat([{type:"1f",name:"u180",value:e},{type:"1f",name:"u181",value:k},{type:"1f",name:"u182",value:d},{type:"2f",name:"u179",
value:[1/v,-1/G]}]));x.vh();E.j("s124",A)},U:function(){E.set("s124");b.h(1);n.h(2);x.vh()},ab:function(v){E.j("s124",[{type:"3f",name:"u143",value:v}]);E.I()},bb:function(v){E.j("s124",[{type:"1f",name:"u144",value:v}]);E.I()},xg:function(v){E.j("s124",[{type:"1f",name:"u79",value:v}]);E.I()},lo:function(v){d=v;r.Te();E.I();va.animate(Date.now())},Bb:function(v){v&&(x=v);r.Te()},yg:function(v,G){m.u167=1-v;E.j("s124",m);E.j("s124",G)},L:function(){}};return r}();ua.qc=function(){var a=[0,-.5],b=
!1,d=!1,e=null,k=null,m=null,x=null,n=null,q=-1,r=-1;return{Sc:function(){E.oa("s125",{name:"_",u:"attribute vec2 a0;uniform sampler2D u41;uniform vec2 u42,u11;uniform float u10;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u41,vec2(.25,.5));vec2 b=a.a*u42,c=2.*a.gb-f,d=u11+a0*u10;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",g:"uniform sampler2D u185;varying vec2 vv0;void main(){gl_FragColor=texture2D(u185,vv0);}",i:["u41","u185","u42","u11","u10"],precision:"lowp"});
E.oa("s126",{name:"_",g:"uniform sampler2D u2,u186,u187;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u187,vv0).rgb,c=texture2D(u186,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",i:["u2","u187","u186"],precision:"lowp"});b=!0},m:function(v){b&&(n=aa.instance({isFloat:!1,isPot:!0,url:v.Ke,B:function(){d=!0}}),E.j("s125",[{type:"1i",name:"u41",value:1},{type:"1i",name:"u185",value:0},{type:"2f",name:"u42",value:v.Rj},{type:"2f",name:"u11",value:a},
{type:"1f",name:"u10",value:3.8}]),E.j("s126",[{type:"1i",name:"u186",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u187",value:2}]))},dc:function(v){k=v},tg:function(v,G){var A={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:v,height:G,G:4};q=2/v;r=2/G;m=aa.instance(A);x=aa.instance(A);e=ya.instance({width:v,height:G})},U:function(v,G){if(d){e.bind(!1,!0);E.set("s88");for(var A=0;2>A;++A){E.N("u14",q,0);m.o();0!==A&&x.h(0);var H=0===A&&!U.ea;X.l(H,H);E.N("u14",0,r);x.o();m.h(0);X.l(!1,
!1)}E.set("s125");k.h(1);n.h(0);m.o();c.clearColor(1,0,0,1);c.clear(c.COLOR_BUFFER_BIT);X.l(!1,!1);E.set("s126");G.o();x.h(0);m.h(1);v.h(2);X.l(!1,!1)}},L:function(){}}}();var Hc=function(){var a={instance:function(b){var d=b.Yf,e=b.Uf,k=b.Bc,m=b.background?b.background:aa.Yh(),x=b.La,n={scale:1,offsetX:0,offsetY:0},q=null;b.Tf&&(n.scale=b.Tf.scale,n.offsetY=b.Tf.offsetY);return{Th:function(){return x},Mh:function(){return m},set:function(){q=hb.Sl();hb.oj(n);hb.se();hb.te();va.hj(k,m,!1,!1)},I:function(){hb.oj(q)},
bc:function(){return{modelURL:d,materialsURLs:e,background:m.bc(!1),Bc:k.bc(!1),La:x.bc(!0)}},ip:function(r){m.h(r)}}},Xc:function(b,d,e){function k(){if(3===++q&&d){var r=a.instance({Yf:b.modelURL,Uf:b.materialsURLs,background:m,Bc:x,La:n});d(r)}}var m=null,x=null,n=null,q=0;aa.Xc(b.background,function(r){!r&&e?e():(m=r,k())});aa.Xc(b.dataState,function(r){!r&&e?e():(x=r,k())});aa.Xc(b.light,function(r){!r&&e?e():(n=r,k())})}};return a}();return Pa||window.JEELIZVTO}();(function(V,Ba){"function"===
typeof define&&define.amd?define(Ba):"object"===typeof exports?module.exports=Ba():V.ResizeSensor=Ba()})("undefined"!==typeof window?window:this,function(){function V(Ma,$a){var Ya=Object.prototype.toString.call(Ma),Eb=0,Ka=Ma.length;if("[object Array]"===Ya||"[object NodeList]"===Ya||"[object HTMLCollection]"===Ya||"[object Object]"===Ya||"undefined"!==typeof jQuery&&Ma instanceof jQuery||"undefined"!==typeof Elements&&Ma instanceof Elements)for(;Eb<Ka;Eb++)$a(Ma[Eb]);else $a(Ma)}if("undefined"===
typeof window)return null;var Ba=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(Ma){return window.setTimeout(Ma,20)},Qa=function(Ma,$a){function Ya(){var Ka=[];this.add=function(Lb){Ka.push(Lb)};var jb,qb;this.call=function(){jb=0;for(qb=Ka.length;jb<qb;jb++)Ka[jb].call()};this.remove=function(Lb){var yb=[];jb=0;for(qb=Ka.length;jb<qb;jb++)Ka[jb]!==Lb&&yb.push(Ka[jb]);Ka=yb};this.length=function(){return Ka.length}}function Eb(Ka,jb){if(Ka)if(Ka.resizedAttached)Ka.resizedAttached.add(jb);
else{Ka.resizedAttached=new Ya;Ka.resizedAttached.add(jb);Ka.resizeSensor=document.createElement("div");Ka.resizeSensor.className="resize-sensor";Ka.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";Ka.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
Ka.appendChild(Ka.resizeSensor);Ka.resizeSensor.offsetParent!==Ka&&(Ka.style.position="relative");var qb=Ka.resizeSensor.childNodes[0],Lb=qb.childNodes[0],yb=Ka.resizeSensor.childNodes[1],Nb,ac,Fb,Ub,kc=Ka.offsetWidth,bc=Ka.offsetHeight,cc=function(){Lb.style.width="100000px";Lb.style.height="100000px";qb.scrollLeft=1E5;qb.scrollTop=1E5;yb.scrollLeft=1E5;yb.scrollTop=1E5};cc();var lc=function(){ac=0;Nb&&(kc=Fb,bc=Ub,Ka.resizedAttached&&Ka.resizedAttached.call())};jb=function(){Fb=Ka.offsetWidth;Ub=
Ka.offsetHeight;(Nb=Fb!=kc||Ub!=bc)&&!ac&&(ac=Ba(lc));cc()};var dc=function(ec,mc,Ob){ec.attachEvent?ec.attachEvent("on"+mc,Ob):ec.addEventListener(mc,Ob)};dc(qb,"scroll",jb);dc(yb,"scroll",jb)}}V(Ma,function(Ka){Eb(Ka,$a)});this.detach=function(Ka){Qa.detach(Ma,Ka)}};Qa.detach=function(Ma,$a){V(Ma,function(Ya){if(Ya){if(Ya.resizedAttached&&"function"==typeof $a&&(Ya.resizedAttached.remove($a),Ya.resizedAttached.length()))return;Ya.resizeSensor&&(Ya.contains(Ya.resizeSensor)&&Ya.removeChild(Ya.resizeSensor),
delete Ya.resizeSensor,delete Ya.resizedAttached)}})};return Qa});var jc={glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",appstaticURL:"https://appstatic.jeeliz.com/"},nb={notLoaded:-1,init:0,realtime:2,loadingModel:3,paused:4},Ra={isRT:!0,sku:void 0,materialsReplacements:"",mode:nb.notLoaded},ib={displayWidth:-1,displayHeight:-1,cvWidth:-1,cvHeight:-1},Vc={cv:null,container:null,adjust:null,adjustNotice:null,adjustExit:null,loading:null,trackIframe:null},xa=Object.assign({},Vc),wd={ADJUST_START:null,
ADJUST_END:null,LOADING_START:null,LOADING_END:null},Ec=null,Tb={enabled:!1,callback:null,interval:1E3},vc={error:!1},ic=null,$b=null,xb={start:function(V){console.log("INFO in JeelizVTOWidget.js: start()");if(Ra.mode!==nb.notLoaded)xb.resume();else{ta();if(V.settings)for(var Ba in V.settings)jc[Ba]=V.settings[Ba];V.NNCPath&&Pa.set_NNCPath(V.NNCPath);V.faceDetectionCallback&&(Tb.enabled=!0,Tb.callback=V.faceDetectionCallback,Tb.interval="undefined"===typeof V.faceDetectionInterval?1E3:V.faceDetectionInterval);
Ec=Object.assign({},wd,V.callbacks||{});xa.container=V.placeHolder||document.getElementById("JeelizVTOWidget");if(!xa.container)throw Error("Cannot find a <div> element with id=JeelizVTOWidget to append the VTO widget.");xa.cv=V.canvas||document.getElementById("JeelizVTOWidgetCanvas");xa.cv||(xa.cv=document.createElement("canvas"),xa.container.appendChild(xa.cv));xa.cv.style.position="absolute";xa.loading=document.getElementById("JeelizVTOWidgetLoading");V.onError&&(vc.error=V.onError);ub();Ba=Db(xa.container);
if(!Ba.width)return Promise.reject("PLACEHOLDER_NULL_WIDTH");if(!Ba.height)return Promise.reject("PLACEHOLDER_NULL_HEIGHT");db();new ResizeSensor(xa.container,function(Ma){db()});(V.searchImageMask||V.searchImageColor||V.searchImageRotationSpeed)&&Pa.set_loading(V.searchImageMask,V.searchImageColor,V.searchImageRotationSpeed);V.callbackReady&&($b=V.callbackReady);Ra.mode=nb.init;var Qa="undefined"===typeof V.assetsPath?jc.appstaticURL+"jeefit/":V.assetsPath;"undefined"!==typeof V.catalog&&(ic=V.catalog);
if(V.onWebcamGet)Pa.onWebcamGet(V.onWebcamGet);return new Promise(function(Ma,$a){Pa.init(Qa,qa,function(){Ra.isRT=!1;Sa("NO_ERROR_LABEL");$a()},xa.cv);var Ya=V.sku?V.sku:null;Pa.onHalfLoad(function(){!1===V.isShadow&&Pa.switch_shadow(!1);xb.load(Ya,Ma,V.materialsReplacements)})})}},destroy:function(){return Pa.destroy().then(function(){Ra.mode=nb.notLoaded;Ra.sku=void 0;Ra.materialsReplacements="";$b=ic=null;Object.assign(xa,Vc)})},pause:function(V){if(!Ra.isRT)return Promise.reject();Ra.mode=nb.paused;
var Ba=Pa.switch_sleep(!0,V);return V?Ba:Promise.resolve(Ba)},resume:function(V){if(!Ra.isRT)return Promise.reject();Ra.mode=nb.realtime;var Ba=Pa.switch_sleep(!1,V);return V?Ba:Promise.resolve(Ba)},set_videoRotation:function(V){Ra.isRT&&Pa.set_videoRotation(V)},set_videoSizes:function(V,Ba,Qa,Ma,$a,Ya){Ra.isRT&&Pa.set_videoSizes(V,Ba,Qa,Ma,$a,Ya)},resize:function(){db()},set_scale:function(V){Pa.set_scale(V)},capture_image:function(V,Ba,Qa){Pa&&Pa.ready?Pa.capture_image(V,Ba,Qa,!1):Ba(!1)},toggle_loading:function(V){V?
(Ha(xa.loading),Kb("LOADING_START")):(Ta(xa.loading),Kb("LOADING_END"))},load_modelStandalone:function(V,Ba){if(!Ra.isRT)throw Error("Loading standalone models is only available in RT mode");Ra.mode===nb.paused&&xb.resume();Ra.mode=nb.loadingModel;var Qa="undef";"string"===typeof V?(Qa=V,pa(V).then(function(Ma){Pa.set_modelStandalone(Ma,Ba,Qa)}).catch(Ia)):(Qa="RANDOM_SKU_"+Date.now().toString(),Pa.set_modelStandalone(V,Ba,Qa));Ra.sku=Qa;Ra.materialsReplacements=""},load:function(V,Ba,Qa){xb.toggle_loading(!0);
Ra.isRT&&xb.load_RT(V,Ba,Qa)},load_RT:function(V,Ba,Qa){var Ma=Qa?JSON.stringify(Qa):"";V===Ra.sku&&Ma===Ra.materialsReplacements?xb.toggle_loading(!1):(Ra.sku=V,Ra.materialsReplacements=Ma,Ra.mode=nb.loadingModel,Ra.mode===nb.paused&&xb.resume(),V?ic&&ic[V]?wb(V,ic[V],Ba,Qa):pa(jc.glassesDBURL+V).then(function($a){if($a.error)return Ia();wb(V,$a.intrinsic,Ba,Qa)}).catch(Ia):(Ra.mode=nb.realtime,xb.toggle_loading(!1),Pa.start_rendering(),Ba&&Ba()))},enter_adjustMode:pb,exit_adjustMode:Sb,set_LUT:function(V){return Pa&&
Pa.ready?Pa.set_LUT(V||null):Promise.reject("NOT_READY")}};return xb}();window.JEELIZVTO=JEELIZVTO;
window.JEELIZVTOWIDGET={VERSION:"2.5.1",start:JeelizVTOWidget.start,pause:JeelizVTOWidget.pause,resume:JeelizVTOWidget.resume,load:JeelizVTOWidget.load,load_modelStandalone:JeelizVTOWidget.load_modelStandalone,capture_image:JeelizVTOWidget.capture_image,set_videoRotation:JeelizVTOWidget.set_videoRotation,resize:JeelizVTOWidget.resize,set_scale:JeelizVTOWidget.set_scale,set_videoSizes:JeelizVTOWidget.set_videoSizes,destroy:JeelizVTOWidget.destroy,enter_adjustMode:JeelizVTOWidget.enter_adjustMode,exit_adjustMode:JeelizVTOWidget.exit_adjustMode,
set_LUT:JeelizVTOWidget.set_LUT};
